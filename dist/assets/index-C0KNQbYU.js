function mA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function gA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hx={exports:{}},Tc={},dx={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var La=Symbol.for("react.element"),yA=Symbol.for("react.portal"),vA=Symbol.for("react.fragment"),_A=Symbol.for("react.strict_mode"),wA=Symbol.for("react.profiler"),xA=Symbol.for("react.provider"),EA=Symbol.for("react.context"),TA=Symbol.for("react.forward_ref"),SA=Symbol.for("react.suspense"),IA=Symbol.for("react.memo"),CA=Symbol.for("react.lazy"),Qy=Symbol.iterator;function AA(t){return t===null||typeof t!="object"?null:(t=Qy&&t[Qy]||t["@@iterator"],typeof t=="function"?t:null)}var fx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},px=Object.assign,mx={};function Hi(t,e,n){this.props=t,this.context=e,this.refs=mx,this.updater=n||fx}Hi.prototype.isReactComponent={};Hi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gx(){}gx.prototype=Hi.prototype;function Cp(t,e,n){this.props=t,this.context=e,this.refs=mx,this.updater=n||fx}var Ap=Cp.prototype=new gx;Ap.constructor=Cp;px(Ap,Hi.prototype);Ap.isPureReactComponent=!0;var Yy=Array.isArray,yx=Object.prototype.hasOwnProperty,Pp={current:null},vx={key:!0,ref:!0,__self:!0,__source:!0};function _x(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)yx.call(e,r)&&!vx.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:La,type:t,key:i,ref:o,props:s,_owner:Pp.current}}function PA(t,e){return{$$typeof:La,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rp(t){return typeof t=="object"&&t!==null&&t.$$typeof===La}function RA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xy=/\/+/g;function Lh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RA(""+t.key):e.toString(36)}function Ql(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case La:case yA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Lh(o,0):r,Yy(s)?(n="",t!=null&&(n=t.replace(Xy,"$&/")+"/"),Ql(s,e,n,"",function(c){return c})):s!=null&&(Rp(s)&&(s=PA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Xy,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Yy(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+Lh(i,a);o+=Ql(i,e,n,u,s)}else if(u=AA(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+Lh(i,a++),o+=Ql(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xl(t,e,n){if(t==null)return t;var r=[],s=0;return Ql(t,r,"","",function(i){return e.call(n,i,s++)}),r}function kA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Et={current:null},Yl={transition:null},bA={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:Yl,ReactCurrentOwner:Pp};function wx(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:xl,forEach:function(t,e,n){xl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xl(t,function(){e++}),e},toArray:function(t){return xl(t,function(e){return e})||[]},only:function(t){if(!Rp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=Hi;ne.Fragment=vA;ne.Profiler=wA;ne.PureComponent=Cp;ne.StrictMode=_A;ne.Suspense=SA;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bA;ne.act=wx;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=px({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Pp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)yx.call(e,u)&&!vx.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:La,type:t.type,key:s,ref:i,props:r,_owner:o}};ne.createContext=function(t){return t={$$typeof:EA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xA,_context:t},t.Consumer=t};ne.createElement=_x;ne.createFactory=function(t){var e=_x.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:TA,render:t}};ne.isValidElement=Rp;ne.lazy=function(t){return{$$typeof:CA,_payload:{_status:-1,_result:t},_init:kA}};ne.memo=function(t,e){return{$$typeof:IA,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=Yl.transition;Yl.transition={};try{t()}finally{Yl.transition=e}};ne.unstable_act=wx;ne.useCallback=function(t,e){return Et.current.useCallback(t,e)};ne.useContext=function(t){return Et.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return Et.current.useDeferredValue(t)};ne.useEffect=function(t,e){return Et.current.useEffect(t,e)};ne.useId=function(){return Et.current.useId()};ne.useImperativeHandle=function(t,e,n){return Et.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return Et.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return Et.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return Et.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return Et.current.useReducer(t,e,n)};ne.useRef=function(t){return Et.current.useRef(t)};ne.useState=function(t){return Et.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return Et.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return Et.current.useTransition()};ne.version="18.3.1";dx.exports=ne;var R=dx.exports;const Xl=gA(R),NA=mA({__proto__:null,default:Xl},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DA=R,VA=Symbol.for("react.element"),jA=Symbol.for("react.fragment"),OA=Object.prototype.hasOwnProperty,MA=DA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LA={key:!0,ref:!0,__self:!0,__source:!0};function xx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)OA.call(e,r)&&!LA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:VA,type:t,key:i,ref:o,props:s,_owner:MA.current}}Tc.Fragment=jA;Tc.jsx=xx;Tc.jsxs=xx;hx.exports=Tc;var d=hx.exports,Ex={exports:{}},Ft={},Tx={exports:{}},Sx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,G){var X=z.length;z.push(G);e:for(;0<X;){var Ee=X-1>>>1,he=z[Ee];if(0<s(he,G))z[Ee]=G,z[X]=he,X=Ee;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var G=z[0],X=z.pop();if(X!==G){z[0]=X;e:for(var Ee=0,he=z.length,Ne=he>>>1;Ee<Ne;){var Pn=2*(Ee+1)-1,Rn=z[Pn],kn=Pn+1,bn=z[kn];if(0>s(Rn,X))kn<he&&0>s(bn,Rn)?(z[Ee]=bn,z[kn]=X,Ee=kn):(z[Ee]=Rn,z[Pn]=X,Ee=Pn);else if(kn<he&&0>s(bn,X))z[Ee]=bn,z[kn]=X,Ee=kn;else break e}}return G}function s(z,G){var X=z.sortIndex-G.sortIndex;return X!==0?X:z.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,f=null,m=3,y=!1,E=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=z)r(c),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(c)}}function b(z){if(S=!1,T(z),!E)if(n(u)!==null)E=!0,Fs(j);else{var G=n(c);G!==null&&me(b,G.startTime-z)}}function j(z,G){E=!1,S&&(S=!1,w(_),_=-1),y=!0;var X=m;try{for(T(G),f=n(u);f!==null&&(!(f.expirationTime>G)||z&&!N());){var Ee=f.callback;if(typeof Ee=="function"){f.callback=null,m=f.priorityLevel;var he=Ee(f.expirationTime<=G);G=t.unstable_now(),typeof he=="function"?f.callback=he:f===n(u)&&r(u),T(G)}else r(u);f=n(u)}if(f!==null)var Ne=!0;else{var Pn=n(c);Pn!==null&&me(b,Pn.startTime-G),Ne=!1}return Ne}finally{f=null,m=X,y=!1}}var D=!1,I=null,_=-1,C=5,P=-1;function N(){return!(t.unstable_now()-P<C)}function V(){if(I!==null){var z=t.unstable_now();P=z;var G=!0;try{G=I(!0,z)}finally{G?k():(D=!1,I=null)}}else D=!1}var k;if(typeof v=="function")k=function(){v(V)};else if(typeof MessageChannel<"u"){var yt=new MessageChannel,sr=yt.port2;yt.port1.onmessage=V,k=function(){sr.postMessage(null)}}else k=function(){A(V,0)};function Fs(z){I=z,D||(D=!0,k())}function me(z,G){_=A(function(){z(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){E||y||(E=!0,Fs(j))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var X=m;m=G;try{return z()}finally{m=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=m;m=z;try{return G()}finally{m=X}},t.unstable_scheduleCallback=function(z,G,X){var Ee=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Ee+X:Ee):X=Ee,z){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=X+he,z={id:h++,callback:G,priorityLevel:z,startTime:X,expirationTime:he,sortIndex:-1},X>Ee?(z.sortIndex=X,e(c,z),n(u)===null&&z===n(c)&&(S?(w(_),_=-1):S=!0,me(b,X-Ee))):(z.sortIndex=he,e(u,z),E||y||(E=!0,Fs(j))),z},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(z){var G=m;return function(){var X=m;m=G;try{return z.apply(this,arguments)}finally{m=X}}}})(Sx);Tx.exports=Sx;var FA=Tx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA=R,Mt=FA;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ix=new Set,sa={};function Ns(t,e){Ii(t,e),Ii(t+"Capture",e)}function Ii(t,e){for(sa[t]=e,t=0;t<e.length;t++)Ix.add(e[t])}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ld=Object.prototype.hasOwnProperty,BA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jy={},Zy={};function zA(t){return Ld.call(Zy,t)?!0:Ld.call(Jy,t)?!1:BA.test(t)?Zy[t]=!0:(Jy[t]=!0,!1)}function $A(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HA(t,e,n,r){if(e===null||typeof e>"u"||$A(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new Tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new Tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new Tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new Tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new Tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new Tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new Tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new Tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new Tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var kp=/[\-:]([a-z])/g;function bp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kp,bp);tt[e]=new Tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kp,bp);tt[e]=new Tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kp,bp);tt[e]=new Tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new Tt(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new Tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new Tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Np(t,e,n,r){var s=tt.hasOwnProperty(e)?tt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HA(e,n,s,r)&&(n=null),r||s===null?zA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var er=UA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,El=Symbol.for("react.element"),Ys=Symbol.for("react.portal"),Xs=Symbol.for("react.fragment"),Dp=Symbol.for("react.strict_mode"),Fd=Symbol.for("react.profiler"),Cx=Symbol.for("react.provider"),Ax=Symbol.for("react.context"),Vp=Symbol.for("react.forward_ref"),Ud=Symbol.for("react.suspense"),Bd=Symbol.for("react.suspense_list"),jp=Symbol.for("react.memo"),hr=Symbol.for("react.lazy"),Px=Symbol.for("react.offscreen"),e0=Symbol.iterator;function yo(t){return t===null||typeof t!="object"?null:(t=e0&&t[e0]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,Fh;function Co(t){if(Fh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fh=e&&e[1]||""}return`
`+Fh+t}var Uh=!1;function Bh(t,e){if(!t||Uh)return"";Uh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Uh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Co(t):""}function WA(t){switch(t.tag){case 5:return Co(t.type);case 16:return Co("Lazy");case 13:return Co("Suspense");case 19:return Co("SuspenseList");case 0:case 2:case 15:return t=Bh(t.type,!1),t;case 11:return t=Bh(t.type.render,!1),t;case 1:return t=Bh(t.type,!0),t;default:return""}}function zd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xs:return"Fragment";case Ys:return"Portal";case Fd:return"Profiler";case Dp:return"StrictMode";case Ud:return"Suspense";case Bd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ax:return(t.displayName||"Context")+".Consumer";case Cx:return(t._context.displayName||"Context")+".Provider";case Vp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jp:return e=t.displayName||null,e!==null?e:zd(t.type)||"Memo";case hr:e=t._payload,t=t._init;try{return zd(t(e))}catch{}}return null}function qA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zd(e);case 8:return e===Dp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KA(t){var e=Rx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tl(t){t._valueTracker||(t._valueTracker=KA(t))}function kx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Rx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $d(t,e){var n=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function t0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Lr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bx(t,e){e=e.checked,e!=null&&Np(t,"checked",e,!1)}function Hd(t,e){bx(t,e);var n=Lr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wd(t,e.type,Lr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function n0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wd(t,e,n){(e!=="number"||xu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ao=Array.isArray;function pi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Lr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function qd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function r0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Ao(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Lr(n)}}function Nx(t,e){var n=Lr(e.value),r=Lr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function s0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Dx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Dx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sl,Vx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sl=Sl||document.createElement("div"),Sl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ia(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GA=["Webkit","ms","Moz","O"];Object.keys(Fo).forEach(function(t){GA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fo[e]=Fo[t]})});function jx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fo.hasOwnProperty(t)&&Fo[t]?(""+e).trim():e+"px"}function Ox(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=jx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var QA=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gd(t,e){if(e){if(QA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Qd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yd=null;function Op(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xd=null,mi=null,gi=null;function i0(t){if(t=Ba(t)){if(typeof Xd!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Pc(e),Xd(t.stateNode,t.type,e))}}function Mx(t){mi?gi?gi.push(t):gi=[t]:mi=t}function Lx(){if(mi){var t=mi,e=gi;if(gi=mi=null,i0(t),e)for(t=0;t<e.length;t++)i0(e[t])}}function Fx(t,e){return t(e)}function Ux(){}var zh=!1;function Bx(t,e,n){if(zh)return t(e,n);zh=!0;try{return Fx(t,e,n)}finally{zh=!1,(mi!==null||gi!==null)&&(Ux(),Lx())}}function oa(t,e){var n=t.stateNode;if(n===null)return null;var r=Pc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Jd=!1;if(Wn)try{var vo={};Object.defineProperty(vo,"passive",{get:function(){Jd=!0}}),window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{Jd=!1}function YA(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Uo=!1,Eu=null,Tu=!1,Zd=null,XA={onError:function(t){Uo=!0,Eu=t}};function JA(t,e,n,r,s,i,o,a,u){Uo=!1,Eu=null,YA.apply(XA,arguments)}function ZA(t,e,n,r,s,i,o,a,u){if(JA.apply(this,arguments),Uo){if(Uo){var c=Eu;Uo=!1,Eu=null}else throw Error(U(198));Tu||(Tu=!0,Zd=c)}}function Ds(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o0(t){if(Ds(t)!==t)throw Error(U(188))}function eP(t){var e=t.alternate;if(!e){if(e=Ds(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return o0(s),t;if(i===r)return o0(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function $x(t){return t=eP(t),t!==null?Hx(t):null}function Hx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Hx(t);if(e!==null)return e;t=t.sibling}return null}var Wx=Mt.unstable_scheduleCallback,a0=Mt.unstable_cancelCallback,tP=Mt.unstable_shouldYield,nP=Mt.unstable_requestPaint,je=Mt.unstable_now,rP=Mt.unstable_getCurrentPriorityLevel,Mp=Mt.unstable_ImmediatePriority,qx=Mt.unstable_UserBlockingPriority,Su=Mt.unstable_NormalPriority,sP=Mt.unstable_LowPriority,Kx=Mt.unstable_IdlePriority,Sc=null,mn=null;function iP(t){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Sc,t,void 0,(t.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:lP,oP=Math.log,aP=Math.LN2;function lP(t){return t>>>=0,t===0?32:31-(oP(t)/aP|0)|0}var Il=64,Cl=4194304;function Po(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Iu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Po(a):(i&=o,i!==0&&(r=Po(i)))}else o=n&~s,o!==0?r=Po(o):i!==0&&(r=Po(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-on(e),s=1<<n,r|=t[n],e&=~s;return r}function uP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-on(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=uP(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function ef(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Gx(){var t=Il;return Il<<=1,!(Il&4194240)&&(Il=64),t}function $h(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-on(e),t[e]=n}function hP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-on(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Lp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-on(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ce=0;function Qx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Yx,Fp,Xx,Jx,Zx,tf=!1,Al=[],Tr=null,Sr=null,Ir=null,aa=new Map,la=new Map,fr=[],dP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l0(t,e){switch(t){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":aa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(e.pointerId)}}function _o(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ba(e),e!==null&&Fp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function fP(t,e,n,r,s){switch(e){case"focusin":return Tr=_o(Tr,t,e,n,r,s),!0;case"dragenter":return Sr=_o(Sr,t,e,n,r,s),!0;case"mouseover":return Ir=_o(Ir,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return aa.set(i,_o(aa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,la.set(i,_o(la.get(i)||null,t,e,n,r,s)),!0}return!1}function e1(t){var e=ds(t.target);if(e!==null){var n=Ds(e);if(n!==null){if(e=n.tag,e===13){if(e=zx(n),e!==null){t.blockedOn=e,Zx(t.priority,function(){Xx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yd=r,n.target.dispatchEvent(r),Yd=null}else return e=Ba(n),e!==null&&Fp(e),t.blockedOn=n,!1;e.shift()}return!0}function u0(t,e,n){Jl(t)&&n.delete(e)}function pP(){tf=!1,Tr!==null&&Jl(Tr)&&(Tr=null),Sr!==null&&Jl(Sr)&&(Sr=null),Ir!==null&&Jl(Ir)&&(Ir=null),aa.forEach(u0),la.forEach(u0)}function wo(t,e){t.blockedOn===e&&(t.blockedOn=null,tf||(tf=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,pP)))}function ua(t){function e(s){return wo(s,t)}if(0<Al.length){wo(Al[0],t);for(var n=1;n<Al.length;n++){var r=Al[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Tr!==null&&wo(Tr,t),Sr!==null&&wo(Sr,t),Ir!==null&&wo(Ir,t),aa.forEach(e),la.forEach(e),n=0;n<fr.length;n++)r=fr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fr.length&&(n=fr[0],n.blockedOn===null);)e1(n),n.blockedOn===null&&fr.shift()}var yi=er.ReactCurrentBatchConfig,Cu=!0;function mP(t,e,n,r){var s=ce,i=yi.transition;yi.transition=null;try{ce=1,Up(t,e,n,r)}finally{ce=s,yi.transition=i}}function gP(t,e,n,r){var s=ce,i=yi.transition;yi.transition=null;try{ce=4,Up(t,e,n,r)}finally{ce=s,yi.transition=i}}function Up(t,e,n,r){if(Cu){var s=nf(t,e,n,r);if(s===null)Zh(t,e,r,Au,n),l0(t,r);else if(fP(s,t,e,n,r))r.stopPropagation();else if(l0(t,r),e&4&&-1<dP.indexOf(t)){for(;s!==null;){var i=Ba(s);if(i!==null&&Yx(i),i=nf(t,e,n,r),i===null&&Zh(t,e,r,Au,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Zh(t,e,r,null,n)}}var Au=null;function nf(t,e,n,r){if(Au=null,t=Op(r),t=ds(t),t!==null)if(e=Ds(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Au=t,null}function t1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rP()){case Mp:return 1;case qx:return 4;case Su:case sP:return 16;case Kx:return 536870912;default:return 16}default:return 16}}var _r=null,Bp=null,Zl=null;function n1(){if(Zl)return Zl;var t,e=Bp,n=e.length,r,s="value"in _r?_r.value:_r.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Zl=s.slice(t,1<r?1-r:void 0)}function eu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pl(){return!0}function c0(){return!1}function Ut(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pl:c0,this.isPropagationStopped=c0,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),e}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zp=Ut(Wi),Ua=Ce({},Wi,{view:0,detail:0}),yP=Ut(Ua),Hh,Wh,xo,Ic=Ce({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$p,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xo&&(xo&&t.type==="mousemove"?(Hh=t.screenX-xo.screenX,Wh=t.screenY-xo.screenY):Wh=Hh=0,xo=t),Hh)},movementY:function(t){return"movementY"in t?t.movementY:Wh}}),h0=Ut(Ic),vP=Ce({},Ic,{dataTransfer:0}),_P=Ut(vP),wP=Ce({},Ua,{relatedTarget:0}),qh=Ut(wP),xP=Ce({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),EP=Ut(xP),TP=Ce({},Wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SP=Ut(TP),IP=Ce({},Wi,{data:0}),d0=Ut(IP),CP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=PP[t])?!!e[t]:!1}function $p(){return RP}var kP=Ce({},Ua,{key:function(t){if(t.key){var e=CP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=eu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$p,charCode:function(t){return t.type==="keypress"?eu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?eu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bP=Ut(kP),NP=Ce({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f0=Ut(NP),DP=Ce({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$p}),VP=Ut(DP),jP=Ce({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),OP=Ut(jP),MP=Ce({},Ic,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LP=Ut(MP),FP=[9,13,27,32],Hp=Wn&&"CompositionEvent"in window,Bo=null;Wn&&"documentMode"in document&&(Bo=document.documentMode);var UP=Wn&&"TextEvent"in window&&!Bo,r1=Wn&&(!Hp||Bo&&8<Bo&&11>=Bo),p0=" ",m0=!1;function s1(t,e){switch(t){case"keyup":return FP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Js=!1;function BP(t,e){switch(t){case"compositionend":return i1(e);case"keypress":return e.which!==32?null:(m0=!0,p0);case"textInput":return t=e.data,t===p0&&m0?null:t;default:return null}}function zP(t,e){if(Js)return t==="compositionend"||!Hp&&s1(t,e)?(t=n1(),Zl=Bp=_r=null,Js=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return r1&&e.locale!=="ko"?null:e.data;default:return null}}var $P={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$P[t.type]:e==="textarea"}function o1(t,e,n,r){Mx(r),e=Pu(e,"onChange"),0<e.length&&(n=new zp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zo=null,ca=null;function HP(t){y1(t,0)}function Cc(t){var e=ti(t);if(kx(e))return t}function WP(t,e){if(t==="change")return e}var a1=!1;if(Wn){var Kh;if(Wn){var Gh="oninput"in document;if(!Gh){var y0=document.createElement("div");y0.setAttribute("oninput","return;"),Gh=typeof y0.oninput=="function"}Kh=Gh}else Kh=!1;a1=Kh&&(!document.documentMode||9<document.documentMode)}function v0(){zo&&(zo.detachEvent("onpropertychange",l1),ca=zo=null)}function l1(t){if(t.propertyName==="value"&&Cc(ca)){var e=[];o1(e,ca,t,Op(t)),Bx(HP,e)}}function qP(t,e,n){t==="focusin"?(v0(),zo=e,ca=n,zo.attachEvent("onpropertychange",l1)):t==="focusout"&&v0()}function KP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cc(ca)}function GP(t,e){if(t==="click")return Cc(e)}function QP(t,e){if(t==="input"||t==="change")return Cc(e)}function YP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ln=typeof Object.is=="function"?Object.is:YP;function ha(t,e){if(ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ld.call(e,s)||!ln(t[s],e[s]))return!1}return!0}function _0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function w0(t,e){var n=_0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_0(n)}}function u1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?u1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function c1(){for(var t=window,e=xu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xu(t.document)}return e}function Wp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XP(t){var e=c1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&u1(n.ownerDocument.documentElement,n)){if(r!==null&&Wp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=w0(n,i);var o=w0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JP=Wn&&"documentMode"in document&&11>=document.documentMode,Zs=null,rf=null,$o=null,sf=!1;function x0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sf||Zs==null||Zs!==xu(r)||(r=Zs,"selectionStart"in r&&Wp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$o&&ha($o,r)||($o=r,r=Pu(rf,"onSelect"),0<r.length&&(e=new zp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zs)))}function Rl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ei={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionend:Rl("Transition","TransitionEnd")},Qh={},h1={};Wn&&(h1=document.createElement("div").style,"AnimationEvent"in window||(delete ei.animationend.animation,delete ei.animationiteration.animation,delete ei.animationstart.animation),"TransitionEvent"in window||delete ei.transitionend.transition);function Ac(t){if(Qh[t])return Qh[t];if(!ei[t])return t;var e=ei[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in h1)return Qh[t]=e[n];return t}var d1=Ac("animationend"),f1=Ac("animationiteration"),p1=Ac("animationstart"),m1=Ac("transitionend"),g1=new Map,E0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gr(t,e){g1.set(t,e),Ns(e,[t])}for(var Yh=0;Yh<E0.length;Yh++){var Xh=E0[Yh],ZP=Xh.toLowerCase(),eR=Xh[0].toUpperCase()+Xh.slice(1);Gr(ZP,"on"+eR)}Gr(d1,"onAnimationEnd");Gr(f1,"onAnimationIteration");Gr(p1,"onAnimationStart");Gr("dblclick","onDoubleClick");Gr("focusin","onFocus");Gr("focusout","onBlur");Gr(m1,"onTransitionEnd");Ii("onMouseEnter",["mouseout","mouseover"]);Ii("onMouseLeave",["mouseout","mouseover"]);Ii("onPointerEnter",["pointerout","pointerover"]);Ii("onPointerLeave",["pointerout","pointerover"]);Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function T0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZA(r,e,void 0,t),t.currentTarget=null}function y1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;T0(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;T0(s,a,c),i=u}}}if(Tu)throw t=Zd,Tu=!1,Zd=null,t}function ye(t,e){var n=e[cf];n===void 0&&(n=e[cf]=new Set);var r=t+"__bubble";n.has(r)||(v1(e,t,2,!1),n.add(r))}function Jh(t,e,n){var r=0;e&&(r|=4),v1(n,t,r,e)}var kl="_reactListening"+Math.random().toString(36).slice(2);function da(t){if(!t[kl]){t[kl]=!0,Ix.forEach(function(n){n!=="selectionchange"&&(tR.has(n)||Jh(n,!1,t),Jh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kl]||(e[kl]=!0,Jh("selectionchange",!1,e))}}function v1(t,e,n,r){switch(t1(e)){case 1:var s=mP;break;case 4:s=gP;break;default:s=Up}n=s.bind(null,e,n,t),s=void 0,!Jd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Zh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ds(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Bx(function(){var c=i,h=Op(n),f=[];e:{var m=g1.get(t);if(m!==void 0){var y=zp,E=t;switch(t){case"keypress":if(eu(n)===0)break e;case"keydown":case"keyup":y=bP;break;case"focusin":E="focus",y=qh;break;case"focusout":E="blur",y=qh;break;case"beforeblur":case"afterblur":y=qh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=h0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=_P;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=VP;break;case d1:case f1:case p1:y=EP;break;case m1:y=OP;break;case"scroll":y=yP;break;case"wheel":y=LP;break;case"copy":case"cut":case"paste":y=SP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=f0}var S=(e&4)!==0,A=!S&&t==="scroll",w=S?m!==null?m+"Capture":null:m;S=[];for(var v=c,T;v!==null;){T=v;var b=T.stateNode;if(T.tag===5&&b!==null&&(T=b,w!==null&&(b=oa(v,w),b!=null&&S.push(fa(v,b,T)))),A)break;v=v.return}0<S.length&&(m=new y(m,E,null,n,h),f.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==Yd&&(E=n.relatedTarget||n.fromElement)&&(ds(E)||E[qn]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(E=n.relatedTarget||n.toElement,y=c,E=E?ds(E):null,E!==null&&(A=Ds(E),E!==A||E.tag!==5&&E.tag!==6)&&(E=null)):(y=null,E=c),y!==E)){if(S=h0,b="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(S=f0,b="onPointerLeave",w="onPointerEnter",v="pointer"),A=y==null?m:ti(y),T=E==null?m:ti(E),m=new S(b,v+"leave",y,n,h),m.target=A,m.relatedTarget=T,b=null,ds(h)===c&&(S=new S(w,v+"enter",E,n,h),S.target=T,S.relatedTarget=A,b=S),A=b,y&&E)t:{for(S=y,w=E,v=0,T=S;T;T=Hs(T))v++;for(T=0,b=w;b;b=Hs(b))T++;for(;0<v-T;)S=Hs(S),v--;for(;0<T-v;)w=Hs(w),T--;for(;v--;){if(S===w||w!==null&&S===w.alternate)break t;S=Hs(S),w=Hs(w)}S=null}else S=null;y!==null&&S0(f,m,y,S,!1),E!==null&&A!==null&&S0(f,A,E,S,!0)}}e:{if(m=c?ti(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var j=WP;else if(g0(m))if(a1)j=QP;else{j=KP;var D=qP}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=GP);if(j&&(j=j(t,c))){o1(f,j,n,h);break e}D&&D(t,m,c),t==="focusout"&&(D=m._wrapperState)&&D.controlled&&m.type==="number"&&Wd(m,"number",m.value)}switch(D=c?ti(c):window,t){case"focusin":(g0(D)||D.contentEditable==="true")&&(Zs=D,rf=c,$o=null);break;case"focusout":$o=rf=Zs=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,x0(f,n,h);break;case"selectionchange":if(JP)break;case"keydown":case"keyup":x0(f,n,h)}var I;if(Hp)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Js?s1(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(r1&&n.locale!=="ko"&&(Js||_!=="onCompositionStart"?_==="onCompositionEnd"&&Js&&(I=n1()):(_r=h,Bp="value"in _r?_r.value:_r.textContent,Js=!0)),D=Pu(c,_),0<D.length&&(_=new d0(_,t,null,n,h),f.push({event:_,listeners:D}),I?_.data=I:(I=i1(n),I!==null&&(_.data=I)))),(I=UP?BP(t,n):zP(t,n))&&(c=Pu(c,"onBeforeInput"),0<c.length&&(h=new d0("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=I))}y1(f,e)})}function fa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=oa(t,n),i!=null&&r.unshift(fa(t,i,s)),i=oa(t,e),i!=null&&r.push(fa(t,i,s))),t=t.return}return r}function Hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function S0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=oa(n,i),u!=null&&o.unshift(fa(n,u,a))):s||(u=oa(n,i),u!=null&&o.push(fa(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var nR=/\r\n?/g,rR=/\u0000|\uFFFD/g;function I0(t){return(typeof t=="string"?t:""+t).replace(nR,`
`).replace(rR,"")}function bl(t,e,n){if(e=I0(e),I0(t)!==e&&n)throw Error(U(425))}function Ru(){}var of=null,af=null;function lf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uf=typeof setTimeout=="function"?setTimeout:void 0,sR=typeof clearTimeout=="function"?clearTimeout:void 0,C0=typeof Promise=="function"?Promise:void 0,iR=typeof queueMicrotask=="function"?queueMicrotask:typeof C0<"u"?function(t){return C0.resolve(null).then(t).catch(oR)}:uf;function oR(t){setTimeout(function(){throw t})}function ed(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ua(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ua(e)}function Cr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function A0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qi=Math.random().toString(36).slice(2),pn="__reactFiber$"+qi,pa="__reactProps$"+qi,qn="__reactContainer$"+qi,cf="__reactEvents$"+qi,aR="__reactListeners$"+qi,lR="__reactHandles$"+qi;function ds(t){var e=t[pn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qn]||n[pn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=A0(t);t!==null;){if(n=t[pn])return n;t=A0(t)}return e}t=n,n=t.parentNode}return null}function Ba(t){return t=t[pn]||t[qn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ti(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Pc(t){return t[pa]||null}var hf=[],ni=-1;function Qr(t){return{current:t}}function ve(t){0>ni||(t.current=hf[ni],hf[ni]=null,ni--)}function fe(t,e){ni++,hf[ni]=t.current,t.current=e}var Fr={},mt=Qr(Fr),At=Qr(!1),xs=Fr;function Ci(t,e){var n=t.type.contextTypes;if(!n)return Fr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pt(t){return t=t.childContextTypes,t!=null}function ku(){ve(At),ve(mt)}function P0(t,e,n){if(mt.current!==Fr)throw Error(U(168));fe(mt,e),fe(At,n)}function _1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,qA(t)||"Unknown",s));return Ce({},n,r)}function bu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fr,xs=mt.current,fe(mt,t),fe(At,At.current),!0}function R0(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=_1(t,e,xs),r.__reactInternalMemoizedMergedChildContext=t,ve(At),ve(mt),fe(mt,t)):ve(At),fe(At,n)}var jn=null,Rc=!1,td=!1;function w1(t){jn===null?jn=[t]:jn.push(t)}function uR(t){Rc=!0,w1(t)}function Yr(){if(!td&&jn!==null){td=!0;var t=0,e=ce;try{var n=jn;for(ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}jn=null,Rc=!1}catch(s){throw jn!==null&&(jn=jn.slice(t+1)),Wx(Mp,Yr),s}finally{ce=e,td=!1}}return null}var ri=[],si=0,Nu=null,Du=0,$t=[],Ht=0,Es=null,On=1,Mn="";function as(t,e){ri[si++]=Du,ri[si++]=Nu,Nu=t,Du=e}function x1(t,e,n){$t[Ht++]=On,$t[Ht++]=Mn,$t[Ht++]=Es,Es=t;var r=On;t=Mn;var s=32-on(r)-1;r&=~(1<<s),n+=1;var i=32-on(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,On=1<<32-on(e)+s|n<<s|r,Mn=i+t}else On=1<<i|n<<s|r,Mn=t}function qp(t){t.return!==null&&(as(t,1),x1(t,1,0))}function Kp(t){for(;t===Nu;)Nu=ri[--si],ri[si]=null,Du=ri[--si],ri[si]=null;for(;t===Es;)Es=$t[--Ht],$t[Ht]=null,Mn=$t[--Ht],$t[Ht]=null,On=$t[--Ht],$t[Ht]=null}var Vt=null,Dt=null,we=!1,tn=null;function E1(t,e){var n=qt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function k0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vt=t,Dt=Cr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vt=t,Dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Es!==null?{id:On,overflow:Mn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vt=t,Dt=null,!0):!1;default:return!1}}function df(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ff(t){if(we){var e=Dt;if(e){var n=e;if(!k0(t,e)){if(df(t))throw Error(U(418));e=Cr(n.nextSibling);var r=Vt;e&&k0(t,e)?E1(r,n):(t.flags=t.flags&-4097|2,we=!1,Vt=t)}}else{if(df(t))throw Error(U(418));t.flags=t.flags&-4097|2,we=!1,Vt=t}}}function b0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vt=t}function Nl(t){if(t!==Vt)return!1;if(!we)return b0(t),we=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lf(t.type,t.memoizedProps)),e&&(e=Dt)){if(df(t))throw T1(),Error(U(418));for(;e;)E1(t,e),e=Cr(e.nextSibling)}if(b0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dt=Cr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dt=null}}else Dt=Vt?Cr(t.stateNode.nextSibling):null;return!0}function T1(){for(var t=Dt;t;)t=Cr(t.nextSibling)}function Ai(){Dt=Vt=null,we=!1}function Gp(t){tn===null?tn=[t]:tn.push(t)}var cR=er.ReactCurrentBatchConfig;function Eo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Dl(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function N0(t){var e=t._init;return e(t._payload)}function S1(t){function e(w,v){if(t){var T=w.deletions;T===null?(w.deletions=[v],w.flags|=16):T.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=kr(w,v),w.index=0,w.sibling=null,w}function i(w,v,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<v?(w.flags|=2,v):T):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,T,b){return v===null||v.tag!==6?(v=ld(T,w.mode,b),v.return=w,v):(v=s(v,T),v.return=w,v)}function u(w,v,T,b){var j=T.type;return j===Xs?h(w,v,T.props.children,b,T.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===hr&&N0(j)===v.type)?(b=s(v,T.props),b.ref=Eo(w,v,T),b.return=w,b):(b=au(T.type,T.key,T.props,null,w.mode,b),b.ref=Eo(w,v,T),b.return=w,b)}function c(w,v,T,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=ud(T,w.mode,b),v.return=w,v):(v=s(v,T.children||[]),v.return=w,v)}function h(w,v,T,b,j){return v===null||v.tag!==7?(v=vs(T,w.mode,b,j),v.return=w,v):(v=s(v,T),v.return=w,v)}function f(w,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ld(""+v,w.mode,T),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case El:return T=au(v.type,v.key,v.props,null,w.mode,T),T.ref=Eo(w,null,v),T.return=w,T;case Ys:return v=ud(v,w.mode,T),v.return=w,v;case hr:var b=v._init;return f(w,b(v._payload),T)}if(Ao(v)||yo(v))return v=vs(v,w.mode,T,null),v.return=w,v;Dl(w,v)}return null}function m(w,v,T,b){var j=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return j!==null?null:a(w,v,""+T,b);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case El:return T.key===j?u(w,v,T,b):null;case Ys:return T.key===j?c(w,v,T,b):null;case hr:return j=T._init,m(w,v,j(T._payload),b)}if(Ao(T)||yo(T))return j!==null?null:h(w,v,T,b,null);Dl(w,T)}return null}function y(w,v,T,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return w=w.get(T)||null,a(v,w,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case El:return w=w.get(b.key===null?T:b.key)||null,u(v,w,b,j);case Ys:return w=w.get(b.key===null?T:b.key)||null,c(v,w,b,j);case hr:var D=b._init;return y(w,v,T,D(b._payload),j)}if(Ao(b)||yo(b))return w=w.get(T)||null,h(v,w,b,j,null);Dl(v,b)}return null}function E(w,v,T,b){for(var j=null,D=null,I=v,_=v=0,C=null;I!==null&&_<T.length;_++){I.index>_?(C=I,I=null):C=I.sibling;var P=m(w,I,T[_],b);if(P===null){I===null&&(I=C);break}t&&I&&P.alternate===null&&e(w,I),v=i(P,v,_),D===null?j=P:D.sibling=P,D=P,I=C}if(_===T.length)return n(w,I),we&&as(w,_),j;if(I===null){for(;_<T.length;_++)I=f(w,T[_],b),I!==null&&(v=i(I,v,_),D===null?j=I:D.sibling=I,D=I);return we&&as(w,_),j}for(I=r(w,I);_<T.length;_++)C=y(I,w,_,T[_],b),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?_:C.key),v=i(C,v,_),D===null?j=C:D.sibling=C,D=C);return t&&I.forEach(function(N){return e(w,N)}),we&&as(w,_),j}function S(w,v,T,b){var j=yo(T);if(typeof j!="function")throw Error(U(150));if(T=j.call(T),T==null)throw Error(U(151));for(var D=j=null,I=v,_=v=0,C=null,P=T.next();I!==null&&!P.done;_++,P=T.next()){I.index>_?(C=I,I=null):C=I.sibling;var N=m(w,I,P.value,b);if(N===null){I===null&&(I=C);break}t&&I&&N.alternate===null&&e(w,I),v=i(N,v,_),D===null?j=N:D.sibling=N,D=N,I=C}if(P.done)return n(w,I),we&&as(w,_),j;if(I===null){for(;!P.done;_++,P=T.next())P=f(w,P.value,b),P!==null&&(v=i(P,v,_),D===null?j=P:D.sibling=P,D=P);return we&&as(w,_),j}for(I=r(w,I);!P.done;_++,P=T.next())P=y(I,w,_,P.value,b),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?_:P.key),v=i(P,v,_),D===null?j=P:D.sibling=P,D=P);return t&&I.forEach(function(V){return e(w,V)}),we&&as(w,_),j}function A(w,v,T,b){if(typeof T=="object"&&T!==null&&T.type===Xs&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case El:e:{for(var j=T.key,D=v;D!==null;){if(D.key===j){if(j=T.type,j===Xs){if(D.tag===7){n(w,D.sibling),v=s(D,T.props.children),v.return=w,w=v;break e}}else if(D.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===hr&&N0(j)===D.type){n(w,D.sibling),v=s(D,T.props),v.ref=Eo(w,D,T),v.return=w,w=v;break e}n(w,D);break}else e(w,D);D=D.sibling}T.type===Xs?(v=vs(T.props.children,w.mode,b,T.key),v.return=w,w=v):(b=au(T.type,T.key,T.props,null,w.mode,b),b.ref=Eo(w,v,T),b.return=w,w=b)}return o(w);case Ys:e:{for(D=T.key;v!==null;){if(v.key===D)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(w,v.sibling),v=s(v,T.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=ud(T,w.mode,b),v.return=w,w=v}return o(w);case hr:return D=T._init,A(w,v,D(T._payload),b)}if(Ao(T))return E(w,v,T,b);if(yo(T))return S(w,v,T,b);Dl(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(w,v.sibling),v=s(v,T),v.return=w,w=v):(n(w,v),v=ld(T,w.mode,b),v.return=w,w=v),o(w)):n(w,v)}return A}var Pi=S1(!0),I1=S1(!1),Vu=Qr(null),ju=null,ii=null,Qp=null;function Yp(){Qp=ii=ju=null}function Xp(t){var e=Vu.current;ve(Vu),t._currentValue=e}function pf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vi(t,e){ju=t,Qp=ii=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ct=!0),t.firstContext=null)}function Gt(t){var e=t._currentValue;if(Qp!==t)if(t={context:t,memoizedValue:e,next:null},ii===null){if(ju===null)throw Error(U(308));ii=t,ju.dependencies={lanes:0,firstContext:t}}else ii=ii.next=t;return e}var fs=null;function Jp(t){fs===null?fs=[t]:fs.push(t)}function C1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Jp(e)):(n.next=s.next,s.next=n),e.interleaved=n,Kn(t,r)}function Kn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var dr=!1;function Zp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Un(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ar(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Kn(t,n)}return s=r.interleaved,s===null?(e.next=e,Jp(r)):(e.next=s.next,s.next=e),r.interleaved=e,Kn(t,n)}function tu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lp(t,n)}}function D0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ou(t,e,n,r){var s=t.updateQueue;dr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,h=c=u=null,a=i;do{var m=a.lane,y=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,S=a;switch(m=e,y=n,S.tag){case 1:if(E=S.payload,typeof E=="function"){f=E.call(y,f,m);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=S.payload,m=typeof E=="function"?E.call(y,f,m):E,m==null)break e;f=Ce({},f,m);break e;case 2:dr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=y,u=f):h=h.next=y,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ss|=o,t.lanes=o,t.memoizedState=f}}function V0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var za={},gn=Qr(za),ma=Qr(za),ga=Qr(za);function ps(t){if(t===za)throw Error(U(174));return t}function em(t,e){switch(fe(ga,e),fe(ma,t),fe(gn,za),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kd(e,t)}ve(gn),fe(gn,e)}function Ri(){ve(gn),ve(ma),ve(ga)}function P1(t){ps(ga.current);var e=ps(gn.current),n=Kd(e,t.type);e!==n&&(fe(ma,t),fe(gn,n))}function tm(t){ma.current===t&&(ve(gn),ve(ma))}var Te=Qr(0);function Mu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nd=[];function nm(){for(var t=0;t<nd.length;t++)nd[t]._workInProgressVersionPrimary=null;nd.length=0}var nu=er.ReactCurrentDispatcher,rd=er.ReactCurrentBatchConfig,Ts=0,Ie=null,Fe=null,Ke=null,Lu=!1,Ho=!1,ya=0,hR=0;function ot(){throw Error(U(321))}function rm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ln(t[n],e[n]))return!1;return!0}function sm(t,e,n,r,s,i){if(Ts=i,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nu.current=t===null||t.memoizedState===null?mR:gR,t=n(r,s),Ho){i=0;do{if(Ho=!1,ya=0,25<=i)throw Error(U(301));i+=1,Ke=Fe=null,e.updateQueue=null,nu.current=yR,t=n(r,s)}while(Ho)}if(nu.current=Fu,e=Fe!==null&&Fe.next!==null,Ts=0,Ke=Fe=Ie=null,Lu=!1,e)throw Error(U(300));return t}function im(){var t=ya!==0;return ya=0,t}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ie.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Qt(){if(Fe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var e=Ke===null?Ie.memoizedState:Ke.next;if(e!==null)Ke=e,Fe=t;else{if(t===null)throw Error(U(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Ke===null?Ie.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function va(t,e){return typeof e=="function"?e(t):e}function sd(t){var e=Qt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Fe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var h=c.lane;if((Ts&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Ie.lanes|=h,Ss|=h}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,ln(r,e.memoizedState)||(Ct=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ie.lanes|=i,Ss|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function id(t){var e=Qt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ln(i,e.memoizedState)||(Ct=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function R1(){}function k1(t,e){var n=Ie,r=Qt(),s=e(),i=!ln(r.memoizedState,s);if(i&&(r.memoizedState=s,Ct=!0),r=r.queue,om(D1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,_a(9,N1.bind(null,n,r,s,e),void 0,null),Ge===null)throw Error(U(349));Ts&30||b1(n,e,s)}return s}function b1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function N1(t,e,n,r){e.value=n,e.getSnapshot=r,V1(e)&&j1(t)}function D1(t,e,n){return n(function(){V1(e)&&j1(t)})}function V1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ln(t,n)}catch{return!0}}function j1(t){var e=Kn(t,1);e!==null&&an(e,t,1,-1)}function j0(t){var e=dn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:t},e.queue=t,t=t.dispatch=pR.bind(null,Ie,t),[e.memoizedState,t]}function _a(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function O1(){return Qt().memoizedState}function ru(t,e,n,r){var s=dn();Ie.flags|=t,s.memoizedState=_a(1|e,n,void 0,r===void 0?null:r)}function kc(t,e,n,r){var s=Qt();r=r===void 0?null:r;var i=void 0;if(Fe!==null){var o=Fe.memoizedState;if(i=o.destroy,r!==null&&rm(r,o.deps)){s.memoizedState=_a(e,n,i,r);return}}Ie.flags|=t,s.memoizedState=_a(1|e,n,i,r)}function O0(t,e){return ru(8390656,8,t,e)}function om(t,e){return kc(2048,8,t,e)}function M1(t,e){return kc(4,2,t,e)}function L1(t,e){return kc(4,4,t,e)}function F1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function U1(t,e,n){return n=n!=null?n.concat([t]):null,kc(4,4,F1.bind(null,e,t),n)}function am(){}function B1(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function z1(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $1(t,e,n){return Ts&21?(ln(n,e)||(n=Gx(),Ie.lanes|=n,Ss|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ct=!0),t.memoizedState=n)}function dR(t,e){var n=ce;ce=n!==0&&4>n?n:4,t(!0);var r=rd.transition;rd.transition={};try{t(!1),e()}finally{ce=n,rd.transition=r}}function H1(){return Qt().memoizedState}function fR(t,e,n){var r=Rr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},W1(t))q1(e,n);else if(n=C1(t,e,n,r),n!==null){var s=xt();an(n,t,r,s),K1(n,e,r)}}function pR(t,e,n){var r=Rr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(W1(t))q1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ln(a,o)){var u=e.interleaved;u===null?(s.next=s,Jp(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=C1(t,e,s,r),n!==null&&(s=xt(),an(n,t,r,s),K1(n,e,r))}}function W1(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function q1(t,e){Ho=Lu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function K1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lp(t,n)}}var Fu={readContext:Gt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},mR={readContext:Gt,useCallback:function(t,e){return dn().memoizedState=[t,e===void 0?null:e],t},useContext:Gt,useEffect:O0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ru(4194308,4,F1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ru(4194308,4,t,e)},useInsertionEffect:function(t,e){return ru(4,2,t,e)},useMemo:function(t,e){var n=dn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fR.bind(null,Ie,t),[r.memoizedState,t]},useRef:function(t){var e=dn();return t={current:t},e.memoizedState=t},useState:j0,useDebugValue:am,useDeferredValue:function(t){return dn().memoizedState=t},useTransition:function(){var t=j0(!1),e=t[0];return t=dR.bind(null,t[1]),dn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ie,s=dn();if(we){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Ge===null)throw Error(U(349));Ts&30||b1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,O0(D1.bind(null,r,i,t),[t]),r.flags|=2048,_a(9,N1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=dn(),e=Ge.identifierPrefix;if(we){var n=Mn,r=On;n=(r&~(1<<32-on(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ya++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gR={readContext:Gt,useCallback:B1,useContext:Gt,useEffect:om,useImperativeHandle:U1,useInsertionEffect:M1,useLayoutEffect:L1,useMemo:z1,useReducer:sd,useRef:O1,useState:function(){return sd(va)},useDebugValue:am,useDeferredValue:function(t){var e=Qt();return $1(e,Fe.memoizedState,t)},useTransition:function(){var t=sd(va)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:R1,useSyncExternalStore:k1,useId:H1,unstable_isNewReconciler:!1},yR={readContext:Gt,useCallback:B1,useContext:Gt,useEffect:om,useImperativeHandle:U1,useInsertionEffect:M1,useLayoutEffect:L1,useMemo:z1,useReducer:id,useRef:O1,useState:function(){return id(va)},useDebugValue:am,useDeferredValue:function(t){var e=Qt();return Fe===null?e.memoizedState=t:$1(e,Fe.memoizedState,t)},useTransition:function(){var t=id(va)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:R1,useSyncExternalStore:k1,useId:H1,unstable_isNewReconciler:!1};function Zt(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function mf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bc={isMounted:function(t){return(t=t._reactInternals)?Ds(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xt(),s=Rr(t),i=Un(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ar(t,i,s),e!==null&&(an(e,t,s,r),tu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xt(),s=Rr(t),i=Un(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ar(t,i,s),e!==null&&(an(e,t,s,r),tu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xt(),r=Rr(t),s=Un(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ar(t,s,r),e!==null&&(an(e,t,r,n),tu(e,t,r))}};function M0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ha(n,r)||!ha(s,i):!0}function G1(t,e,n){var r=!1,s=Fr,i=e.contextType;return typeof i=="object"&&i!==null?i=Gt(i):(s=Pt(e)?xs:mt.current,r=e.contextTypes,i=(r=r!=null)?Ci(t,s):Fr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function L0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bc.enqueueReplaceState(e,e.state,null)}function gf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Zp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Gt(i):(i=Pt(e)?xs:mt.current,s.context=Ci(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(mf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&bc.enqueueReplaceState(s,s.state,null),Ou(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ki(t,e){try{var n="",r=e;do n+=WA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function od(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vR=typeof WeakMap=="function"?WeakMap:Map;function Q1(t,e,n){n=Un(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bu||(Bu=!0,Af=r),yf(t,e)},n}function Y1(t,e,n){n=Un(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){yf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){yf(t,e),typeof r!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function F0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=NR.bind(null,t,e,n),e.then(t,t))}function U0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function B0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Un(-1,1),e.tag=2,Ar(n,e,1))),n.lanes|=1),t)}var _R=er.ReactCurrentOwner,Ct=!1;function wt(t,e,n,r){e.child=t===null?I1(e,null,n,r):Pi(e,t.child,n,r)}function z0(t,e,n,r,s){n=n.render;var i=e.ref;return vi(e,s),r=sm(t,e,n,r,i,s),n=im(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gn(t,e,s)):(we&&n&&qp(e),e.flags|=1,wt(t,e,r,s),e.child)}function $0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!mm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,X1(t,e,i,r,s)):(t=au(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ha,n(o,r)&&t.ref===e.ref)return Gn(t,e,s)}return e.flags|=1,t=kr(i,r),t.ref=e.ref,t.return=e,e.child=t}function X1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ha(i,r)&&t.ref===e.ref)if(Ct=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ct=!0);else return e.lanes=t.lanes,Gn(t,e,s)}return vf(t,e,n,r,s)}function J1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(ai,bt),bt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(ai,bt),bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,fe(ai,bt),bt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,fe(ai,bt),bt|=r;return wt(t,e,s,n),e.child}function Z1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vf(t,e,n,r,s){var i=Pt(n)?xs:mt.current;return i=Ci(e,i),vi(e,s),n=sm(t,e,n,r,i,s),r=im(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gn(t,e,s)):(we&&r&&qp(e),e.flags|=1,wt(t,e,n,s),e.child)}function H0(t,e,n,r,s){if(Pt(n)){var i=!0;bu(e)}else i=!1;if(vi(e,s),e.stateNode===null)su(t,e),G1(e,n,r),gf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Gt(c):(c=Pt(n)?xs:mt.current,c=Ci(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&L0(e,o,r,c),dr=!1;var m=e.memoizedState;o.state=m,Ou(e,r,o,s),u=e.memoizedState,a!==r||m!==u||At.current||dr?(typeof h=="function"&&(mf(e,n,h,r),u=e.memoizedState),(a=dr||M0(e,n,a,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,A1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Zt(e.type,a),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Gt(u):(u=Pt(n)?xs:mt.current,u=Ci(e,u));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==u)&&L0(e,o,r,u),dr=!1,m=e.memoizedState,o.state=m,Ou(e,r,o,s);var E=e.memoizedState;a!==f||m!==E||At.current||dr?(typeof y=="function"&&(mf(e,n,y,r),E=e.memoizedState),(c=dr||M0(e,n,c,r,m,E,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return _f(t,e,n,r,i,s)}function _f(t,e,n,r,s,i){Z1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&R0(e,n,!1),Gn(t,e,i);r=e.stateNode,_R.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Pi(e,t.child,null,i),e.child=Pi(e,null,a,i)):wt(t,e,a,i),e.memoizedState=r.state,s&&R0(e,n,!0),e.child}function eE(t){var e=t.stateNode;e.pendingContext?P0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&P0(t,e.context,!1),em(t,e.containerInfo)}function W0(t,e,n,r,s){return Ai(),Gp(s),e.flags|=256,wt(t,e,n,r),e.child}var wf={dehydrated:null,treeContext:null,retryLane:0};function xf(t){return{baseLanes:t,cachePool:null,transitions:null}}function tE(t,e,n){var r=e.pendingProps,s=Te.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),fe(Te,s&1),t===null)return ff(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vc(o,r,0,null),t=vs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=xf(n),e.memoizedState=wf,t):lm(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return wR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=kr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=kr(a,i):(i=vs(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?xf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=wf,r}return i=t.child,t=i.sibling,r=kr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lm(t,e){return e=Vc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vl(t,e,n,r){return r!==null&&Gp(r),Pi(e,t.child,null,n),t=lm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=od(Error(U(422))),Vl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Vc({mode:"visible",children:r.children},s,0,null),i=vs(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Pi(e,t.child,null,o),e.child.memoizedState=xf(o),e.memoizedState=wf,i);if(!(e.mode&1))return Vl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(U(419)),r=od(i,r,void 0),Vl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ct||a){if(r=Ge,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Kn(t,s),an(r,t,s,-1))}return pm(),r=od(Error(U(421))),Vl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=DR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Dt=Cr(s.nextSibling),Vt=e,we=!0,tn=null,t!==null&&($t[Ht++]=On,$t[Ht++]=Mn,$t[Ht++]=Es,On=t.id,Mn=t.overflow,Es=e),e=lm(e,r.children),e.flags|=4096,e)}function q0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pf(t.return,e,n)}function ad(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function nE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(wt(t,e,r.children,n),r=Te.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&q0(t,n,e);else if(t.tag===19)q0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fe(Te,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Mu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ad(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Mu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ad(e,!0,n,null,i);break;case"together":ad(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function su(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ss|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=kr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=kr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xR(t,e,n){switch(e.tag){case 3:eE(e),Ai();break;case 5:P1(e);break;case 1:Pt(e.type)&&bu(e);break;case 4:em(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;fe(Vu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(fe(Te,Te.current&1),e.flags|=128,null):n&e.child.childLanes?tE(t,e,n):(fe(Te,Te.current&1),t=Gn(t,e,n),t!==null?t.sibling:null);fe(Te,Te.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),fe(Te,Te.current),r)break;return null;case 22:case 23:return e.lanes=0,J1(t,e,n)}return Gn(t,e,n)}var rE,Ef,sE,iE;rE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ef=function(){};sE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ps(gn.current);var i=null;switch(n){case"input":s=$d(t,s),r=$d(t,r),i=[];break;case"select":s=Ce({},s,{value:void 0}),r=Ce({},r,{value:void 0}),i=[];break;case"textarea":s=qd(t,s),r=qd(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ru)}Gd(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sa.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sa.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ye("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};iE=function(t,e,n,r){n!==r&&(e.flags|=4)};function To(t,e){if(!we)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function at(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ER(t,e,n){var r=e.pendingProps;switch(Kp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(e),null;case 1:return Pt(e.type)&&ku(),at(e),null;case 3:return r=e.stateNode,Ri(),ve(At),ve(mt),nm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tn!==null&&(kf(tn),tn=null))),Ef(t,e),at(e),null;case 5:tm(e);var s=ps(ga.current);if(n=e.type,t!==null&&e.stateNode!=null)sE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return at(e),null}if(t=ps(gn.current),Nl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[pn]=e,r[pa]=i,t=(e.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(s=0;s<Ro.length;s++)ye(Ro[s],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":t0(r,i),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ye("invalid",r);break;case"textarea":r0(r,i),ye("invalid",r)}Gd(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&bl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&bl(r.textContent,a,t),s=["children",""+a]):sa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ye("scroll",r)}switch(n){case"input":Tl(r),n0(r,i,!0);break;case"textarea":Tl(r),s0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ru)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Dx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[pn]=e,t[pa]=r,rE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Qd(n,r),n){case"dialog":ye("cancel",t),ye("close",t),s=r;break;case"iframe":case"object":case"embed":ye("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ro.length;s++)ye(Ro[s],t);s=r;break;case"source":ye("error",t),s=r;break;case"img":case"image":case"link":ye("error",t),ye("load",t),s=r;break;case"details":ye("toggle",t),s=r;break;case"input":t0(t,r),s=$d(t,r),ye("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ce({},r,{value:void 0}),ye("invalid",t);break;case"textarea":r0(t,r),s=qd(t,r),ye("invalid",t);break;default:s=r}Gd(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?Ox(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Vx(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ia(t,u):typeof u=="number"&&ia(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(sa.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ye("scroll",t):u!=null&&Np(t,i,u,o))}switch(n){case"input":Tl(t),n0(t,r,!1);break;case"textarea":Tl(t),s0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Lr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?pi(t,!!r.multiple,i,!1):r.defaultValue!=null&&pi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ru)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return at(e),null;case 6:if(t&&e.stateNode!=null)iE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=ps(ga.current),ps(gn.current),Nl(e)){if(r=e.stateNode,n=e.memoizedProps,r[pn]=e,(i=r.nodeValue!==n)&&(t=Vt,t!==null))switch(t.tag){case 3:bl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pn]=e,e.stateNode=r}return at(e),null;case 13:if(ve(Te),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(we&&Dt!==null&&e.mode&1&&!(e.flags&128))T1(),Ai(),e.flags|=98560,i=!1;else if(i=Nl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[pn]=e}else Ai(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;at(e),i=!1}else tn!==null&&(kf(tn),tn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?Be===0&&(Be=3):pm())),e.updateQueue!==null&&(e.flags|=4),at(e),null);case 4:return Ri(),Ef(t,e),t===null&&da(e.stateNode.containerInfo),at(e),null;case 10:return Xp(e.type._context),at(e),null;case 17:return Pt(e.type)&&ku(),at(e),null;case 19:if(ve(Te),i=e.memoizedState,i===null)return at(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)To(i,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mu(t),o!==null){for(e.flags|=128,To(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fe(Te,Te.current&1|2),e.child}t=t.sibling}i.tail!==null&&je()>bi&&(e.flags|=128,r=!0,To(i,!1),e.lanes=4194304)}else{if(!r)if(t=Mu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),To(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!we)return at(e),null}else 2*je()-i.renderingStartTime>bi&&n!==1073741824&&(e.flags|=128,r=!0,To(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=je(),e.sibling=null,n=Te.current,fe(Te,r?n&1|2:n&1),e):(at(e),null);case 22:case 23:return fm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bt&1073741824&&(at(e),e.subtreeFlags&6&&(e.flags|=8192)):at(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function TR(t,e){switch(Kp(e),e.tag){case 1:return Pt(e.type)&&ku(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ri(),ve(At),ve(mt),nm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tm(e),null;case 13:if(ve(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Ai()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ve(Te),null;case 4:return Ri(),null;case 10:return Xp(e.type._context),null;case 22:case 23:return fm(),null;case 24:return null;default:return null}}var jl=!1,dt=!1,SR=typeof WeakSet=="function"?WeakSet:Set,H=null;function oi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(t,e,r)}else n.current=null}function Tf(t,e,n){try{n()}catch(r){be(t,e,r)}}var K0=!1;function IR(t,e){if(of=Cu,t=c1(),Wp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,f=t,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===n&&++c===s&&(a=o),m===i&&++h===r&&(u=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(af={focusedElem:t,selectionRange:n},Cu=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var S=E.memoizedProps,A=E.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?S:Zt(e.type,S),A);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(b){be(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return E=K0,K0=!1,E}function Wo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Tf(e,n,i)}s=s.next}while(s!==r)}}function Nc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function oE(t){var e=t.alternate;e!==null&&(t.alternate=null,oE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pn],delete e[pa],delete e[cf],delete e[aR],delete e[lR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function aE(t){return t.tag===5||t.tag===3||t.tag===4}function G0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function If(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ru));else if(r!==4&&(t=t.child,t!==null))for(If(t,e,n),t=t.sibling;t!==null;)If(t,e,n),t=t.sibling}function Cf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cf(t,e,n),t=t.sibling;t!==null;)Cf(t,e,n),t=t.sibling}var Ye=null,en=!1;function lr(t,e,n){for(n=n.child;n!==null;)lE(t,e,n),n=n.sibling}function lE(t,e,n){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Sc,n)}catch{}switch(n.tag){case 5:dt||oi(n,e);case 6:var r=Ye,s=en;Ye=null,lr(t,e,n),Ye=r,en=s,Ye!==null&&(en?(t=Ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(en?(t=Ye,n=n.stateNode,t.nodeType===8?ed(t.parentNode,n):t.nodeType===1&&ed(t,n),ua(t)):ed(Ye,n.stateNode));break;case 4:r=Ye,s=en,Ye=n.stateNode.containerInfo,en=!0,lr(t,e,n),Ye=r,en=s;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Tf(n,e,o),s=s.next}while(s!==r)}lr(t,e,n);break;case 1:if(!dt&&(oi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){be(n,e,a)}lr(t,e,n);break;case 21:lr(t,e,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,lr(t,e,n),dt=r):lr(t,e,n);break;default:lr(t,e,n)}}function Q0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SR),e.forEach(function(r){var s=VR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Xt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ye=a.stateNode,en=!1;break e;case 3:Ye=a.stateNode.containerInfo,en=!0;break e;case 4:Ye=a.stateNode.containerInfo,en=!0;break e}a=a.return}if(Ye===null)throw Error(U(160));lE(i,o,s),Ye=null,en=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){be(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uE(e,t),e=e.sibling}function uE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xt(e,t),hn(t),r&4){try{Wo(3,t,t.return),Nc(3,t)}catch(S){be(t,t.return,S)}try{Wo(5,t,t.return)}catch(S){be(t,t.return,S)}}break;case 1:Xt(e,t),hn(t),r&512&&n!==null&&oi(n,n.return);break;case 5:if(Xt(e,t),hn(t),r&512&&n!==null&&oi(n,n.return),t.flags&32){var s=t.stateNode;try{ia(s,"")}catch(S){be(t,t.return,S)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&bx(s,i),Qd(a,o);var c=Qd(a,i);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?Ox(s,f):h==="dangerouslySetInnerHTML"?Vx(s,f):h==="children"?ia(s,f):Np(s,h,f,c)}switch(a){case"input":Hd(s,i);break;case"textarea":Nx(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?pi(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?pi(s,!!i.multiple,i.defaultValue,!0):pi(s,!!i.multiple,i.multiple?[]:"",!1))}s[pa]=i}catch(S){be(t,t.return,S)}}break;case 6:if(Xt(e,t),hn(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(S){be(t,t.return,S)}}break;case 3:if(Xt(e,t),hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ua(e.containerInfo)}catch(S){be(t,t.return,S)}break;case 4:Xt(e,t),hn(t);break;case 13:Xt(e,t),hn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(hm=je())),r&4&&Q0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(dt=(c=dt)||h,Xt(e,t),dt=c):Xt(e,t),hn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(H=t,h=t.child;h!==null;){for(f=H=h;H!==null;){switch(m=H,y=m.child,m.tag){case 0:case 11:case 14:case 15:Wo(4,m,m.return);break;case 1:oi(m,m.return);var E=m.stateNode;if(typeof E.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(S){be(r,n,S)}}break;case 5:oi(m,m.return);break;case 22:if(m.memoizedState!==null){X0(f);continue}}y!==null?(y.return=m,H=y):X0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=jx("display",o))}catch(S){be(t,t.return,S)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(S){be(t,t.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xt(e,t),hn(t),r&4&&Q0(t);break;case 21:break;default:Xt(e,t),hn(t)}}function hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(aE(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ia(s,""),r.flags&=-33);var i=G0(t);Cf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=G0(t);If(t,a,o);break;default:throw Error(U(161))}}catch(u){be(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CR(t,e,n){H=t,cE(t)}function cE(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||jl;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||dt;a=jl;var c=dt;if(jl=o,(dt=u)&&!c)for(H=s;H!==null;)o=H,u=o.child,o.tag===22&&o.memoizedState!==null?J0(s):u!==null?(u.return=o,H=u):J0(s);for(;i!==null;)H=i,cE(i),i=i.sibling;H=s,jl=a,dt=c}Y0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):Y0(t)}}function Y0(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dt||Nc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Zt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&V0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}V0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ua(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}dt||e.flags&512&&Sf(e)}catch(m){be(e,e.return,m)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function X0(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function J0(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nc(4,e)}catch(u){be(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){be(e,s,u)}}var i=e.return;try{Sf(e)}catch(u){be(e,i,u)}break;case 5:var o=e.return;try{Sf(e)}catch(u){be(e,o,u)}}}catch(u){be(e,e.return,u)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var AR=Math.ceil,Uu=er.ReactCurrentDispatcher,um=er.ReactCurrentOwner,Kt=er.ReactCurrentBatchConfig,oe=0,Ge=null,Le=null,et=0,bt=0,ai=Qr(0),Be=0,wa=null,Ss=0,Dc=0,cm=0,qo=null,It=null,hm=0,bi=1/0,Vn=null,Bu=!1,Af=null,Pr=null,Ol=!1,wr=null,zu=0,Ko=0,Pf=null,iu=-1,ou=0;function xt(){return oe&6?je():iu!==-1?iu:iu=je()}function Rr(t){return t.mode&1?oe&2&&et!==0?et&-et:cR.transition!==null?(ou===0&&(ou=Gx()),ou):(t=ce,t!==0||(t=window.event,t=t===void 0?16:t1(t.type)),t):1}function an(t,e,n,r){if(50<Ko)throw Ko=0,Pf=null,Error(U(185));Fa(t,n,r),(!(oe&2)||t!==Ge)&&(t===Ge&&(!(oe&2)&&(Dc|=n),Be===4&&pr(t,et)),Rt(t,r),n===1&&oe===0&&!(e.mode&1)&&(bi=je()+500,Rc&&Yr()))}function Rt(t,e){var n=t.callbackNode;cP(t,e);var r=Iu(t,t===Ge?et:0);if(r===0)n!==null&&a0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&a0(n),e===1)t.tag===0?uR(Z0.bind(null,t)):w1(Z0.bind(null,t)),iR(function(){!(oe&6)&&Yr()}),n=null;else{switch(Qx(r)){case 1:n=Mp;break;case 4:n=qx;break;case 16:n=Su;break;case 536870912:n=Kx;break;default:n=Su}n=vE(n,hE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hE(t,e){if(iu=-1,ou=0,oe&6)throw Error(U(327));var n=t.callbackNode;if(_i()&&t.callbackNode!==n)return null;var r=Iu(t,t===Ge?et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$u(t,r);else{e=r;var s=oe;oe|=2;var i=fE();(Ge!==t||et!==e)&&(Vn=null,bi=je()+500,ys(t,e));do try{kR();break}catch(a){dE(t,a)}while(!0);Yp(),Uu.current=i,oe=s,Le!==null?e=0:(Ge=null,et=0,e=Be)}if(e!==0){if(e===2&&(s=ef(t),s!==0&&(r=s,e=Rf(t,s))),e===1)throw n=wa,ys(t,0),pr(t,r),Rt(t,je()),n;if(e===6)pr(t,r);else{if(s=t.current.alternate,!(r&30)&&!PR(s)&&(e=$u(t,r),e===2&&(i=ef(t),i!==0&&(r=i,e=Rf(t,i))),e===1))throw n=wa,ys(t,0),pr(t,r),Rt(t,je()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:ls(t,It,Vn);break;case 3:if(pr(t,r),(r&130023424)===r&&(e=hm+500-je(),10<e)){if(Iu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){xt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=uf(ls.bind(null,t,It,Vn),e);break}ls(t,It,Vn);break;case 4:if(pr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-on(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*AR(r/1960))-r,10<r){t.timeoutHandle=uf(ls.bind(null,t,It,Vn),r);break}ls(t,It,Vn);break;case 5:ls(t,It,Vn);break;default:throw Error(U(329))}}}return Rt(t,je()),t.callbackNode===n?hE.bind(null,t):null}function Rf(t,e){var n=qo;return t.current.memoizedState.isDehydrated&&(ys(t,e).flags|=256),t=$u(t,e),t!==2&&(e=It,It=n,e!==null&&kf(e)),t}function kf(t){It===null?It=t:It.push.apply(It,t)}function PR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ln(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pr(t,e){for(e&=~cm,e&=~Dc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-on(e),r=1<<n;t[n]=-1,e&=~r}}function Z0(t){if(oe&6)throw Error(U(327));_i();var e=Iu(t,0);if(!(e&1))return Rt(t,je()),null;var n=$u(t,e);if(t.tag!==0&&n===2){var r=ef(t);r!==0&&(e=r,n=Rf(t,r))}if(n===1)throw n=wa,ys(t,0),pr(t,e),Rt(t,je()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ls(t,It,Vn),Rt(t,je()),null}function dm(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(bi=je()+500,Rc&&Yr())}}function Is(t){wr!==null&&wr.tag===0&&!(oe&6)&&_i();var e=oe;oe|=1;var n=Kt.transition,r=ce;try{if(Kt.transition=null,ce=1,t)return t()}finally{ce=r,Kt.transition=n,oe=e,!(oe&6)&&Yr()}}function fm(){bt=ai.current,ve(ai)}function ys(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sR(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(Kp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ku();break;case 3:Ri(),ve(At),ve(mt),nm();break;case 5:tm(r);break;case 4:Ri();break;case 13:ve(Te);break;case 19:ve(Te);break;case 10:Xp(r.type._context);break;case 22:case 23:fm()}n=n.return}if(Ge=t,Le=t=kr(t.current,null),et=bt=e,Be=0,wa=null,cm=Dc=Ss=0,It=qo=null,fs!==null){for(e=0;e<fs.length;e++)if(n=fs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}fs=null}return t}function dE(t,e){do{var n=Le;try{if(Yp(),nu.current=Fu,Lu){for(var r=Ie.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Lu=!1}if(Ts=0,Ke=Fe=Ie=null,Ho=!1,ya=0,um.current=null,n===null||n.return===null){Be=1,wa=e,Le=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=et,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=U0(o);if(y!==null){y.flags&=-257,B0(y,o,a,i,e),y.mode&1&&F0(i,c,e),e=y,u=c;var E=e.updateQueue;if(E===null){var S=new Set;S.add(u),e.updateQueue=S}else E.add(u);break e}else{if(!(e&1)){F0(i,c,e),pm();break e}u=Error(U(426))}}else if(we&&a.mode&1){var A=U0(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),B0(A,o,a,i,e),Gp(ki(u,a));break e}}i=u=ki(u,a),Be!==4&&(Be=2),qo===null?qo=[i]:qo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=Q1(i,u,e);D0(i,w);break e;case 1:a=u;var v=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Pr===null||!Pr.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=Y1(i,a,e);D0(i,b);break e}}i=i.return}while(i!==null)}mE(n)}catch(j){e=j,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function fE(){var t=Uu.current;return Uu.current=Fu,t===null?Fu:t}function pm(){(Be===0||Be===3||Be===2)&&(Be=4),Ge===null||!(Ss&268435455)&&!(Dc&268435455)||pr(Ge,et)}function $u(t,e){var n=oe;oe|=2;var r=fE();(Ge!==t||et!==e)&&(Vn=null,ys(t,e));do try{RR();break}catch(s){dE(t,s)}while(!0);if(Yp(),oe=n,Uu.current=r,Le!==null)throw Error(U(261));return Ge=null,et=0,Be}function RR(){for(;Le!==null;)pE(Le)}function kR(){for(;Le!==null&&!tP();)pE(Le)}function pE(t){var e=yE(t.alternate,t,bt);t.memoizedProps=t.pendingProps,e===null?mE(t):Le=e,um.current=null}function mE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TR(n,e),n!==null){n.flags&=32767,Le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Be=6,Le=null;return}}else if(n=ER(n,e,bt),n!==null){Le=n;return}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);Be===0&&(Be=5)}function ls(t,e,n){var r=ce,s=Kt.transition;try{Kt.transition=null,ce=1,bR(t,e,n,r)}finally{Kt.transition=s,ce=r}return null}function bR(t,e,n,r){do _i();while(wr!==null);if(oe&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(hP(t,i),t===Ge&&(Le=Ge=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ol||(Ol=!0,vE(Su,function(){return _i(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Kt.transition,Kt.transition=null;var o=ce;ce=1;var a=oe;oe|=4,um.current=null,IR(t,n),uE(n,t),XP(af),Cu=!!of,af=of=null,t.current=n,CR(n),nP(),oe=a,ce=o,Kt.transition=i}else t.current=n;if(Ol&&(Ol=!1,wr=t,zu=s),i=t.pendingLanes,i===0&&(Pr=null),iP(n.stateNode),Rt(t,je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Bu)throw Bu=!1,t=Af,Af=null,t;return zu&1&&t.tag!==0&&_i(),i=t.pendingLanes,i&1?t===Pf?Ko++:(Ko=0,Pf=t):Ko=0,Yr(),null}function _i(){if(wr!==null){var t=Qx(zu),e=Kt.transition,n=ce;try{if(Kt.transition=null,ce=16>t?16:t,wr===null)var r=!1;else{if(t=wr,wr=null,zu=0,oe&6)throw Error(U(331));var s=oe;for(oe|=4,H=t.current;H!==null;){var i=H,o=i.child;if(H.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(H=c;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:Wo(8,h,i)}var f=h.child;if(f!==null)f.return=h,H=f;else for(;H!==null;){h=H;var m=h.sibling,y=h.return;if(oE(h),h===c){H=null;break}if(m!==null){m.return=y,H=m;break}H=y}}}var E=i.alternate;if(E!==null){var S=E.child;if(S!==null){E.child=null;do{var A=S.sibling;S.sibling=null,S=A}while(S!==null)}}H=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,H=o;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Wo(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,H=w;break e}H=i.return}}var v=t.current;for(H=v;H!==null;){o=H;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,H=T;else e:for(o=v;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Nc(9,a)}}catch(j){be(a,a.return,j)}if(a===o){H=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,H=b;break e}H=a.return}}if(oe=s,Yr(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Sc,t)}catch{}r=!0}return r}finally{ce=n,Kt.transition=e}}return!1}function ev(t,e,n){e=ki(n,e),e=Q1(t,e,1),t=Ar(t,e,1),e=xt(),t!==null&&(Fa(t,1,e),Rt(t,e))}function be(t,e,n){if(t.tag===3)ev(t,t,n);else for(;e!==null;){if(e.tag===3){ev(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pr===null||!Pr.has(r))){t=ki(n,t),t=Y1(e,t,1),e=Ar(e,t,1),t=xt(),e!==null&&(Fa(e,1,t),Rt(e,t));break}}e=e.return}}function NR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xt(),t.pingedLanes|=t.suspendedLanes&n,Ge===t&&(et&n)===n&&(Be===4||Be===3&&(et&130023424)===et&&500>je()-hm?ys(t,0):cm|=n),Rt(t,e)}function gE(t,e){e===0&&(t.mode&1?(e=Cl,Cl<<=1,!(Cl&130023424)&&(Cl=4194304)):e=1);var n=xt();t=Kn(t,e),t!==null&&(Fa(t,e,n),Rt(t,n))}function DR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gE(t,n)}function VR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),gE(t,n)}var yE;yE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||At.current)Ct=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ct=!1,xR(t,e,n);Ct=!!(t.flags&131072)}else Ct=!1,we&&e.flags&1048576&&x1(e,Du,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;su(t,e),t=e.pendingProps;var s=Ci(e,mt.current);vi(e,n),s=sm(null,e,r,t,s,n);var i=im();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pt(r)?(i=!0,bu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zp(e),s.updater=bc,e.stateNode=s,s._reactInternals=e,gf(e,r,t,n),e=_f(null,e,r,!0,i,n)):(e.tag=0,we&&i&&qp(e),wt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(su(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=OR(r),t=Zt(r,t),s){case 0:e=vf(null,e,r,t,n);break e;case 1:e=H0(null,e,r,t,n);break e;case 11:e=z0(null,e,r,t,n);break e;case 14:e=$0(null,e,r,Zt(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zt(r,s),vf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zt(r,s),H0(t,e,r,s,n);case 3:e:{if(eE(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,A1(t,e),Ou(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ki(Error(U(423)),e),e=W0(t,e,r,n,s);break e}else if(r!==s){s=ki(Error(U(424)),e),e=W0(t,e,r,n,s);break e}else for(Dt=Cr(e.stateNode.containerInfo.firstChild),Vt=e,we=!0,tn=null,n=I1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ai(),r===s){e=Gn(t,e,n);break e}wt(t,e,r,n)}e=e.child}return e;case 5:return P1(e),t===null&&ff(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,lf(r,s)?o=null:i!==null&&lf(r,i)&&(e.flags|=32),Z1(t,e),wt(t,e,o,n),e.child;case 6:return t===null&&ff(e),null;case 13:return tE(t,e,n);case 4:return em(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Pi(e,null,r,n):wt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zt(r,s),z0(t,e,r,s,n);case 7:return wt(t,e,e.pendingProps,n),e.child;case 8:return wt(t,e,e.pendingProps.children,n),e.child;case 12:return wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,fe(Vu,r._currentValue),r._currentValue=o,i!==null)if(ln(i.value,o)){if(i.children===s.children&&!At.current){e=Gn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Un(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),pf(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),pf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}wt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,vi(e,n),s=Gt(s),r=r(s),e.flags|=1,wt(t,e,r,n),e.child;case 14:return r=e.type,s=Zt(r,e.pendingProps),s=Zt(r.type,s),$0(t,e,r,s,n);case 15:return X1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zt(r,s),su(t,e),e.tag=1,Pt(r)?(t=!0,bu(e)):t=!1,vi(e,n),G1(e,r,s),gf(e,r,s,n),_f(null,e,r,!0,t,n);case 19:return nE(t,e,n);case 22:return J1(t,e,n)}throw Error(U(156,e.tag))};function vE(t,e){return Wx(t,e)}function jR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(t,e,n,r){return new jR(t,e,n,r)}function mm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function OR(t){if(typeof t=="function")return mm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vp)return 11;if(t===jp)return 14}return 2}function kr(t,e){var n=t.alternate;return n===null?(n=qt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function au(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")mm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xs:return vs(n.children,s,i,e);case Dp:o=8,s|=8;break;case Fd:return t=qt(12,n,e,s|2),t.elementType=Fd,t.lanes=i,t;case Ud:return t=qt(13,n,e,s),t.elementType=Ud,t.lanes=i,t;case Bd:return t=qt(19,n,e,s),t.elementType=Bd,t.lanes=i,t;case Px:return Vc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Cx:o=10;break e;case Ax:o=9;break e;case Vp:o=11;break e;case jp:o=14;break e;case hr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=qt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function vs(t,e,n,r){return t=qt(7,t,r,e),t.lanes=n,t}function Vc(t,e,n,r){return t=qt(22,t,r,e),t.elementType=Px,t.lanes=n,t.stateNode={isHidden:!1},t}function ld(t,e,n){return t=qt(6,t,null,e),t.lanes=n,t}function ud(t,e,n){return e=qt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function MR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$h(0),this.expirationTimes=$h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$h(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gm(t,e,n,r,s,i,o,a,u){return t=new MR(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zp(i),t}function LR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ys,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function _E(t){if(!t)return Fr;t=t._reactInternals;e:{if(Ds(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Pt(n))return _1(t,n,e)}return e}function wE(t,e,n,r,s,i,o,a,u){return t=gm(n,r,!0,t,s,i,o,a,u),t.context=_E(null),n=t.current,r=xt(),s=Rr(n),i=Un(r,s),i.callback=e??null,Ar(n,i,s),t.current.lanes=s,Fa(t,s,r),Rt(t,r),t}function jc(t,e,n,r){var s=e.current,i=xt(),o=Rr(s);return n=_E(n),e.context===null?e.context=n:e.pendingContext=n,e=Un(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ar(s,e,o),t!==null&&(an(t,s,o,i),tu(t,s,o)),o}function Hu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ym(t,e){tv(t,e),(t=t.alternate)&&tv(t,e)}function FR(){return null}var xE=typeof reportError=="function"?reportError:function(t){console.error(t)};function vm(t){this._internalRoot=t}Oc.prototype.render=vm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));jc(t,e,null,null)};Oc.prototype.unmount=vm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Is(function(){jc(null,t,null,null)}),e[qn]=null}};function Oc(t){this._internalRoot=t}Oc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Jx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fr.length&&e!==0&&e<fr[n].priority;n++);fr.splice(n,0,t),n===0&&e1(t)}};function _m(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nv(){}function UR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Hu(o);i.call(c)}}var o=wE(e,r,t,0,null,!1,!1,"",nv);return t._reactRootContainer=o,t[qn]=o.current,da(t.nodeType===8?t.parentNode:t),Is(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Hu(u);a.call(c)}}var u=gm(t,0,!1,null,null,!1,!1,"",nv);return t._reactRootContainer=u,t[qn]=u.current,da(t.nodeType===8?t.parentNode:t),Is(function(){jc(e,u,n,r)}),u}function Lc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Hu(o);a.call(u)}}jc(e,o,t,s)}else o=UR(n,e,t,s,r);return Hu(o)}Yx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Po(e.pendingLanes);n!==0&&(Lp(e,n|1),Rt(e,je()),!(oe&6)&&(bi=je()+500,Yr()))}break;case 13:Is(function(){var r=Kn(t,1);if(r!==null){var s=xt();an(r,t,1,s)}}),ym(t,1)}};Fp=function(t){if(t.tag===13){var e=Kn(t,134217728);if(e!==null){var n=xt();an(e,t,134217728,n)}ym(t,134217728)}};Xx=function(t){if(t.tag===13){var e=Rr(t),n=Kn(t,e);if(n!==null){var r=xt();an(n,t,e,r)}ym(t,e)}};Jx=function(){return ce};Zx=function(t,e){var n=ce;try{return ce=t,e()}finally{ce=n}};Xd=function(t,e,n){switch(e){case"input":if(Hd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Pc(r);if(!s)throw Error(U(90));kx(r),Hd(r,s)}}}break;case"textarea":Nx(t,n);break;case"select":e=n.value,e!=null&&pi(t,!!n.multiple,e,!1)}};Fx=dm;Ux=Is;var BR={usingClientEntryPoint:!1,Events:[Ba,ti,Pc,Mx,Lx,dm]},So={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zR={bundleType:So.bundleType,version:So.version,rendererPackageName:So.rendererPackageName,rendererConfig:So.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:er.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$x(t),t===null?null:t.stateNode},findFiberByHostInstance:So.findFiberByHostInstance||FR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{Sc=Ml.inject(zR),mn=Ml}catch{}}Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BR;Ft.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_m(e))throw Error(U(200));return LR(t,e,null,n)};Ft.createRoot=function(t,e){if(!_m(t))throw Error(U(299));var n=!1,r="",s=xE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=gm(t,1,!1,null,null,n,!1,r,s),t[qn]=e.current,da(t.nodeType===8?t.parentNode:t),new vm(e)};Ft.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=$x(e),t=t===null?null:t.stateNode,t};Ft.flushSync=function(t){return Is(t)};Ft.hydrate=function(t,e,n){if(!Mc(e))throw Error(U(200));return Lc(null,t,e,!0,n)};Ft.hydrateRoot=function(t,e,n){if(!_m(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=xE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=wE(e,null,t,1,n??null,s,!1,i,o),t[qn]=e.current,da(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Oc(e)};Ft.render=function(t,e,n){if(!Mc(e))throw Error(U(200));return Lc(null,t,e,!1,n)};Ft.unmountComponentAtNode=function(t){if(!Mc(t))throw Error(U(40));return t._reactRootContainer?(Is(function(){Lc(null,null,t,!1,function(){t._reactRootContainer=null,t[qn]=null})}),!0):!1};Ft.unstable_batchedUpdates=dm;Ft.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mc(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Lc(t,e,n,!1,r)};Ft.version="18.3.1-next-f1338f8080-20240426";function EE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(EE)}catch(t){console.error(t)}}EE(),Ex.exports=Ft;var $R=Ex.exports,TE,rv=$R;TE=rv.createRoot,rv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xa(){return xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xa.apply(this,arguments)}var xr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xr||(xr={}));const sv="popstate";function HR(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return bf("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Wu(s)}return qR(e,n,null,t)}function Oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function SE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WR(){return Math.random().toString(36).substr(2,8)}function iv(t,e){return{usr:t.state,key:t.key,idx:e}}function bf(t,e,n,r){return n===void 0&&(n=null),xa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ki(e):e,{state:n,key:e&&e.key||r||WR()})}function Wu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ki(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function qR(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=xr.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(xa({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=xr.Pop;let A=h(),w=A==null?null:A-c;c=A,u&&u({action:a,location:S.location,delta:w})}function m(A,w){a=xr.Push;let v=bf(S.location,A,w);c=h()+1;let T=iv(v,c),b=S.createHref(v);try{o.pushState(T,"",b)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(b)}i&&u&&u({action:a,location:S.location,delta:1})}function y(A,w){a=xr.Replace;let v=bf(S.location,A,w);c=h();let T=iv(v,c),b=S.createHref(v);o.replaceState(T,"",b),i&&u&&u({action:a,location:S.location,delta:0})}function E(A){let w=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof A=="string"?A:Wu(A);return v=v.replace(/ $/,"%20"),Oe(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let S={get action(){return a},get location(){return t(s,o)},listen(A){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(sv,f),u=A,()=>{s.removeEventListener(sv,f),u=null}},createHref(A){return e(s,A)},createURL:E,encodeLocation(A){let w=E(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:y,go(A){return o.go(A)}};return S}var ov;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ov||(ov={}));function KR(t,e,n){return n===void 0&&(n="/"),GR(t,e,n,!1)}function GR(t,e,n,r){let s=typeof e=="string"?Ki(e):e,i=wm(s.pathname||"/",n);if(i==null)return null;let o=IE(t);QR(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=ok(i);a=sk(o[u],c,r)}return a}function IE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Oe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=br([r,u.relativePath]),h=n.concat(u);i.children&&i.children.length>0&&(Oe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),IE(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:nk(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of CE(i.path))s(i,o,u)}),e}function CE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=CE(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function QR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YR=/^:[\w-]+$/,XR=3,JR=2,ZR=1,ek=10,tk=-2,av=t=>t==="*";function nk(t,e){let n=t.split("/"),r=n.length;return n.some(av)&&(r+=tk),e&&(r+=JR),n.filter(s=>!av(s)).reduce((s,i)=>s+(YR.test(i)?XR:i===""?ZR:ek),r)}function rk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function sk(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=lv({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),m=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=lv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:br([i,f.pathname]),pathnameBase:ck(br([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=br([i,f.pathnameBase]))}return o}function lv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ik(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:m,isOptional:y}=h;if(m==="*"){let S=a[f]||"";o=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const E=a[f];return y&&!E?c[m]=void 0:c[m]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function ik(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),SE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ok(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return SE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ak(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ki(t):t;return{pathname:n?n.startsWith("/")?n:lk(n,e):e,search:hk(r),hash:dk(s)}}function lk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function cd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xm(t,e){let n=uk(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Em(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ki(t):(s=xa({},t),Oe(!s.pathname||!s.pathname.includes("?"),cd("?","pathname","search",s)),Oe(!s.pathname||!s.pathname.includes("#"),cd("#","pathname","hash",s)),Oe(!s.search||!s.search.includes("#"),cd("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let u=ak(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const br=t=>t.join("/").replace(/\/\/+/g,"/"),ck=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const AE=["post","put","patch","delete"];new Set(AE);const pk=["get",...AE];new Set(pk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ea(){return Ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ea.apply(this,arguments)}const Tm=R.createContext(null),mk=R.createContext(null),Xr=R.createContext(null),Fc=R.createContext(null),tr=R.createContext({outlet:null,matches:[],isDataRoute:!1}),PE=R.createContext(null);function gk(t,e){let{relative:n}=e===void 0?{}:e;Gi()||Oe(!1);let{basename:r,navigator:s}=R.useContext(Xr),{hash:i,pathname:o,search:a}=kE(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:br([r,o])),s.createHref({pathname:u,search:a,hash:i})}function Gi(){return R.useContext(Fc)!=null}function Vs(){return Gi()||Oe(!1),R.useContext(Fc).location}function RE(t){R.useContext(Xr).static||R.useLayoutEffect(t)}function In(){let{isDataRoute:t}=R.useContext(tr);return t?Rk():yk()}function yk(){Gi()||Oe(!1);let t=R.useContext(Tm),{basename:e,future:n,navigator:r}=R.useContext(Xr),{matches:s}=R.useContext(tr),{pathname:i}=Vs(),o=JSON.stringify(xm(s,n.v7_relativeSplatPath)),a=R.useRef(!1);return RE(()=>{a.current=!0}),R.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=Em(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:br([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function Uc(){let{matches:t}=R.useContext(tr),e=t[t.length-1];return e?e.params:{}}function kE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=R.useContext(Xr),{matches:s}=R.useContext(tr),{pathname:i}=Vs(),o=JSON.stringify(xm(s,r.v7_relativeSplatPath));return R.useMemo(()=>Em(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function vk(t,e){return _k(t,e)}function _k(t,e,n,r){Gi()||Oe(!1);let{navigator:s}=R.useContext(Xr),{matches:i}=R.useContext(tr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Vs(),h;if(e){var f;let A=typeof e=="string"?Ki(e):e;u==="/"||(f=A.pathname)!=null&&f.startsWith(u)||Oe(!1),h=A}else h=c;let m=h.pathname||"/",y=m;if(u!=="/"){let A=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(A.length).join("/")}let E=KR(t,{pathname:y}),S=Sk(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},a,A.params),pathname:br([u,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?u:br([u,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),i,n,r);return e&&S?R.createElement(Fc.Provider,{value:{location:Ea({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:xr.Pop}},S):S}function wk(){let t=Pk(),e=fk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:s},n):null,null)}const xk=R.createElement(wk,null);class Ek extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(tr.Provider,{value:this.props.routeContext},R.createElement(PE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Tk(t){let{routeContext:e,match:n,children:r}=t,s=R.useContext(Tm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(tr.Provider,{value:e},r)}function Sk(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||Oe(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:m,errors:y}=n,E=f.route.loader&&m[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||E){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let y,E=!1,S=null,A=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,S=f.route.errorElement||xk,u&&(c<0&&m===0?(E=!0,A=null):c===m&&(E=!0,A=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,m+1)),v=()=>{let T;return y?T=S:E?T=A:f.route.Component?T=R.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=h,R.createElement(Tk,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?R.createElement(Ek,{location:n.location,revalidation:n.revalidation,component:S,error:y,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var bE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(bE||{}),qu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qu||{});function Ik(t){let e=R.useContext(Tm);return e||Oe(!1),e}function Ck(t){let e=R.useContext(mk);return e||Oe(!1),e}function Ak(t){let e=R.useContext(tr);return e||Oe(!1),e}function NE(t){let e=Ak(),n=e.matches[e.matches.length-1];return n.route.id||Oe(!1),n.route.id}function Pk(){var t;let e=R.useContext(PE),n=Ck(qu.UseRouteError),r=NE(qu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Rk(){let{router:t}=Ik(bE.UseNavigateStable),e=NE(qu.UseNavigateStable),n=R.useRef(!1);return RE(()=>{n.current=!0}),R.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ea({fromRouteId:e},i)))},[t,e])}function kk(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ni(t){let{to:e,replace:n,state:r,relative:s}=t;Gi()||Oe(!1);let{future:i,static:o}=R.useContext(Xr),{matches:a}=R.useContext(tr),{pathname:u}=Vs(),c=In(),h=Em(e,xm(a,i.v7_relativeSplatPath),u,s==="path"),f=JSON.stringify(h);return R.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function Re(t){Oe(!1)}function bk(t){let{basename:e="/",children:n=null,location:r,navigationType:s=xr.Pop,navigator:i,static:o=!1,future:a}=t;Gi()&&Oe(!1);let u=e.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:u,navigator:i,static:o,future:Ea({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof r=="string"&&(r=Ki(r));let{pathname:h="/",search:f="",hash:m="",state:y=null,key:E="default"}=r,S=R.useMemo(()=>{let A=wm(h,u);return A==null?null:{location:{pathname:A,search:f,hash:m,state:y,key:E},navigationType:s}},[u,h,f,m,y,E,s]);return S==null?null:R.createElement(Xr.Provider,{value:c},R.createElement(Fc.Provider,{children:n,value:S}))}function Nk(t){let{children:e,location:n}=t;return vk(Nf(e),n)}new Promise(()=>{});function Nf(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,s)=>{if(!R.isValidElement(r))return;let i=[...e,s];if(r.type===R.Fragment){n.push.apply(n,Nf(r.props.children,i));return}r.type!==Re&&Oe(!1),!r.props.index||!r.props.children||Oe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Nf(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Df(){return Df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Df.apply(this,arguments)}function Dk(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Vk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jk(t,e){return t.button===0&&(!e||e==="_self")&&!Vk(t)}function Vf(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function Ok(t,e){let n=Vf(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const Mk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Lk="6";try{window.__reactRouterVersion=Lk}catch{}const Fk="startTransition",uv=NA[Fk];function Uk(t){let{basename:e,children:n,future:r,window:s}=t,i=R.useRef();i.current==null&&(i.current=HR({window:s,v5Compat:!0}));let o=i.current,[a,u]=R.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=R.useCallback(f=>{c&&uv?uv(()=>u(f)):u(f)},[u,c]);return R.useLayoutEffect(()=>o.listen(h),[o,h]),R.useEffect(()=>kk(r),[r]),R.createElement(bk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Bk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ut=R.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:u,to:c,preventScrollReset:h,viewTransition:f}=e,m=Dk(e,Mk),{basename:y}=R.useContext(Xr),E,S=!1;if(typeof c=="string"&&zk.test(c)&&(E=c,Bk))try{let T=new URL(window.location.href),b=c.startsWith("//")?new URL(T.protocol+c):new URL(c),j=wm(b.pathname,y);b.origin===T.origin&&j!=null?c=j+b.search+b.hash:S=!0}catch{}let A=gk(c,{relative:s}),w=$k(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:s,viewTransition:f});function v(T){r&&r(T),T.defaultPrevented||w(T)}return R.createElement("a",Df({},m,{href:E||A,onClick:S||i?r:v,ref:n,target:u}))});var cv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(cv||(cv={}));var hv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hv||(hv={}));function $k(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,u=In(),c=Vs(),h=kE(t,{relative:o});return R.useCallback(f=>{if(jk(f,n)){f.preventDefault();let m=r!==void 0?r:Wu(c)===Wu(h);u(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,u,h,r,s,n,t,i,o,a])}function Hk(t){let e=R.useRef(Vf(t)),n=R.useRef(!1),r=Vs(),s=R.useMemo(()=>Ok(r.search,n.current?null:e.current),[r.search]),i=In(),o=R.useCallback((a,u)=>{const c=Vf(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,u)},[i,s]);return[s,o]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),pe=(t,e)=>{const n=R.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},h)=>R.createElement("svg",{ref:h,...Wk,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${qk(t)}`,a].join(" "),...c},[...e.map(([f,m])=>R.createElement(f,m)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=pe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=pe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=pe("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=pe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=pe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=pe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=pe("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=pe("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=pe("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=pe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sb=()=>{};var mv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ib=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},FE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|c>>6,y=c&63;u||(y=64,o||(m=64)),r.push(n[h],n[f],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ib(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new ob;const m=i<<2|a>>4;if(r.push(m),c!==64){const y=a<<4&240|c>>2;if(r.push(y),f!==64){const E=c<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ob extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ab=function(t){const e=LE(t);return FE.encodeByteArray(e,!0)},Gu=function(t){return ab(t).replace(/\./g,"")},UE=function(t){try{return FE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=()=>lb().__FIREBASE_DEFAULTS__,cb=()=>{if(typeof process>"u"||typeof mv>"u")return;const t=mv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&UE(t[1]);return e&&JSON.parse(e)},Bc=()=>{try{return sb()||ub()||cb()||hb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BE=t=>{var e,n;return(n=(e=Bc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},db=t=>{const e=BE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zE=()=>{var t;return(t=Bc())===null||t===void 0?void 0:t.config},$E=t=>{var e;return(e=Bc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t){return t.endsWith(".cloudworkstations.dev")}async function HE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gu(JSON.stringify(n)),Gu(JSON.stringify(o)),""].join(".")}const Go={};function mb(){const t={prod:[],emulator:[]};for(const e of Object.keys(Go))Go[e]?t.emulator.push(e):t.prod.push(e);return t}function gb(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gv=!1;function WE(t,e){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||Go[t]===e||Go[t]||gv)return;Go[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=mb().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{gv=!0,o()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=gb(r),y=n("text"),E=document.getElementById(y)||document.createElement("span"),S=n("learnmore"),A=document.getElementById(S)||document.createElement("a"),w=n("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const T=m.element;a(T),h(A,S);const b=c();u(v,w),T.append(v,E,A,b),document.body.appendChild(T)}i?(E.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function vb(){var t;const e=(t=Bc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _b(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Eb(){const t=gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Tb(){return!vb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sb(){try{return typeof indexedDB=="object"}catch{return!1}}function Ib(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="FirebaseError";class nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Cb,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ha.prototype.create)}}class Ha{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Ab(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new nr(s,a,r)}}function Ab(t,e){return t.replace(Pb,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Pb=/\{\$([^}]+)}/g;function Rb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(yv(i)&&yv(o)){if(!Cs(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function yv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ko(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function bo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function kb(t,e){const n=new bb(t,e);return n.subscribe.bind(n)}class bb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Nb(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=hd),s.error===void 0&&(s.error=hd),s.complete===void 0&&(s.complete=hd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nb(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t){return t&&t._delegate?t._delegate:t}class As{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jb(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Vb(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Vb(t){return t===us?void 0:t}function jb(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Db(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(re||(re={}));const Mb={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},Lb=re.INFO,Fb={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},Ub=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Fb[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=Lb,this._logHandler=Ub,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Mb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const Bb=(t,e)=>e.some(n=>t instanceof n);let vv,_v;function zb(){return vv||(vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $b(){return _v||(_v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qE=new WeakMap,Mf=new WeakMap,KE=new WeakMap,dd=new WeakMap,Am=new WeakMap;function Hb(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Dr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qE.set(n,t)}).catch(()=>{}),Am.set(e,t),e}function Wb(t){if(Mf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Mf.set(t,e)}let Lf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qb(t){Lf=t(Lf)}function Kb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fd(this),e,...n);return KE.set(r,e.sort?e.sort():[e]),Dr(r)}:$b().includes(t)?function(...e){return t.apply(fd(this),e),Dr(qE.get(this))}:function(...e){return Dr(t.apply(fd(this),e))}}function Gb(t){return typeof t=="function"?Kb(t):(t instanceof IDBTransaction&&Wb(t),Bb(t,zb())?new Proxy(t,Lf):t)}function Dr(t){if(t instanceof IDBRequest)return Hb(t);if(dd.has(t))return dd.get(t);const e=Gb(t);return e!==t&&(dd.set(t,e),Am.set(e,t)),e}const fd=t=>Am.get(t);function Qb(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Dr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Dr(o.result),u.oldVersion,u.newVersion,Dr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Yb=["get","getKey","getAll","getAllKeys","count"],Xb=["put","add","delete","clear"],pd=new Map;function wv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pd.get(e))return pd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Xb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Yb.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return pd.set(e,i),i}qb(t=>({...t,get:(e,n,r)=>wv(e,n)||t.get(e,n,r),has:(e,n)=>!!wv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Zb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Zb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ff="@firebase/app",xv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new Cm("@firebase/app"),e2="@firebase/app-compat",t2="@firebase/analytics-compat",n2="@firebase/analytics",r2="@firebase/app-check-compat",s2="@firebase/app-check",i2="@firebase/auth",o2="@firebase/auth-compat",a2="@firebase/database",l2="@firebase/data-connect",u2="@firebase/database-compat",c2="@firebase/functions",h2="@firebase/functions-compat",d2="@firebase/installations",f2="@firebase/installations-compat",p2="@firebase/messaging",m2="@firebase/messaging-compat",g2="@firebase/performance",y2="@firebase/performance-compat",v2="@firebase/remote-config",_2="@firebase/remote-config-compat",w2="@firebase/storage",x2="@firebase/storage-compat",E2="@firebase/firestore",T2="@firebase/ai",S2="@firebase/firestore-compat",I2="firebase",C2="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="[DEFAULT]",A2={[Ff]:"fire-core",[e2]:"fire-core-compat",[n2]:"fire-analytics",[t2]:"fire-analytics-compat",[s2]:"fire-app-check",[r2]:"fire-app-check-compat",[i2]:"fire-auth",[o2]:"fire-auth-compat",[a2]:"fire-rtdb",[l2]:"fire-data-connect",[u2]:"fire-rtdb-compat",[c2]:"fire-fn",[h2]:"fire-fn-compat",[d2]:"fire-iid",[f2]:"fire-iid-compat",[p2]:"fire-fcm",[m2]:"fire-fcm-compat",[g2]:"fire-perf",[y2]:"fire-perf-compat",[v2]:"fire-rc",[_2]:"fire-rc-compat",[w2]:"fire-gcs",[x2]:"fire-gcs-compat",[E2]:"fire-fst",[S2]:"fire-fst-compat",[T2]:"fire-vertex","fire-js":"fire-js",[I2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new Map,P2=new Map,Bf=new Map;function Ev(t,e){try{t.container.addComponent(e)}catch(n){Qn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Di(t){const e=t.name;if(Bf.has(e))return Qn.debug(`There were multiple attempts to register component ${e}.`),!1;Bf.set(e,t);for(const n of Qu.values())Ev(n,t);for(const n of P2.values())Ev(n,t);return!0}function Pm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new Ha("app","Firebase",R2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=C2;function GE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Uf,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Vr.create("bad-app-name",{appName:String(s)});if(n||(n=zE()),!n)throw Vr.create("no-options");const i=Qu.get(s);if(i){if(Cs(n,i.options)&&Cs(r,i.config))return i;throw Vr.create("duplicate-app",{appName:s})}const o=new Ob(s);for(const u of Bf.values())o.addComponent(u);const a=new k2(n,r,o);return Qu.set(s,a),a}function QE(t=Uf){const e=Qu.get(t);if(!e&&t===Uf&&zE())return GE();if(!e)throw Vr.create("no-app",{appName:t});return e}function jr(t,e,n){var r;let s=(r=A2[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qn.warn(a.join(" "));return}Di(new As(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="firebase-heartbeat-database",N2=1,Sa="firebase-heartbeat-store";let md=null;function YE(){return md||(md=Qb(b2,N2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vr.create("idb-open",{originalErrorMessage:t.message})})),md}async function D2(t){try{const n=(await YE()).transaction(Sa),r=await n.objectStore(Sa).get(XE(t));return await n.done,r}catch(e){if(e instanceof nr)Qn.warn(e.message);else{const n=Vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qn.warn(n.message)}}}async function Tv(t,e){try{const r=(await YE()).transaction(Sa,"readwrite");await r.objectStore(Sa).put(e,XE(t)),await r.done}catch(n){if(n instanceof nr)Qn.warn(n.message);else{const r=Vr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qn.warn(r.message)}}}function XE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=1024,j2=30;class O2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new L2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Sv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>j2){const o=F2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sv(),{heartbeatsToSend:r,unsentEntries:s}=M2(this._heartbeatsCache.heartbeats),i=Gu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Qn.warn(n),""}}}function Sv(){return new Date().toISOString().substring(0,10)}function M2(t,e=V2){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Iv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Iv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class L2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sb()?Ib().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await D2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Iv(t){return Gu(JSON.stringify({version:2,heartbeats:t})).length}function F2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t){Di(new As("platform-logger",e=>new Jb(e),"PRIVATE")),Di(new As("heartbeat",e=>new O2(e),"PRIVATE")),jr(Ff,xv,t),jr(Ff,xv,"esm2017"),jr("fire-js","")}U2("");function Rm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function JE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const B2=JE,ZE=new Ha("auth","Firebase",JE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new Cm("@firebase/auth");function z2(t,...e){Yu.logLevel<=re.WARN&&Yu.warn(`Auth (${Qi}): ${t}`,...e)}function lu(t,...e){Yu.logLevel<=re.ERROR&&Yu.error(`Auth (${Qi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,...e){throw km(t,...e)}function yn(t,...e){return km(t,...e)}function eT(t,e,n){const r=Object.assign(Object.assign({},B2()),{[e]:n});return new Ha("auth","Firebase",r).create(e,{appName:t.name})}function Bn(t){return eT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function km(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ZE.create(t,...e)}function Q(t,e,...n){if(!t)throw km(e,...n)}function Ln(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lu(e),new Error(e)}function Yn(t,e){t||Ln(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $2(){return Cv()==="http:"||Cv()==="https:"}function Cv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($2()||wb()||"connection"in navigator)?navigator.onLine:!0}function W2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yn(n>e,"Short delay should be less than long delay!"),this.isMobile=yb()||xb()}get(){return H2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(t,e){Yn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G2=new qa(3e4,6e4);function Cn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function An(t,e,n,r,s={}){return nT(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Wa(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},i);return _b()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&$a(t.emulatorConfig.host)&&(c.credentials="include"),tT.fetch()(await rT(t,t.config.apiHost,n,a),c)})}async function nT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},q2),e);try{const s=new Y2(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ll(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ll(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ll(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ll(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw eT(t,h,c);un(t,h)}}catch(s){if(s instanceof nr)throw s;un(t,"network-request-failed",{message:String(s)})}}async function Ka(t,e,n,r,s={}){const i=await An(t,e,n,r,s);return"mfaPendingCredential"in i&&un(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function rT(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?bm(t.config,s):`${t.config.apiScheme}://${s}`;return K2.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function Q2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Y2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yn(this.auth,"network-request-failed")),G2.get())})}}function Ll(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=yn(t,e,r);return s.customData._tokenResponse=n,s}function Av(t){return t!==void 0&&t.enterprise!==void 0}class X2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Q2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function J2(t,e){return An(t,"GET","/v2/recaptchaConfig",Cn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2(t,e){return An(t,"POST","/v1/accounts:delete",e)}async function Xu(t,e){return An(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eN(t,e=!1){const n=We(t),r=await n.getIdToken(e),s=Nm(r);Q(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Qo(gd(s.auth_time)),issuedAtTime:Qo(gd(s.iat)),expirationTime:Qo(gd(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function gd(t){return Number(t)*1e3}function Nm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lu("JWT malformed, contained fewer than 3 sections"),null;try{const s=UE(n);return s?JSON.parse(s):(lu("Failed to decode base64 JWT payload"),null)}catch(s){return lu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Pv(t){const e=Nm(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof nr&&tN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function tN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qo(this.lastLoginAt),this.creationTime=Qo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ia(t,Xu(n,{idToken:r}));Q(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?sT(i.providerUserInfo):[],a=sN(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=u?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new $f(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function rN(t){const e=We(t);await Ju(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sN(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function sT(t){return t.map(e=>{var{providerId:n}=e,r=Rm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(t,e){const n=await nT(t,{},async()=>{const r=Wa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await rT(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oN(t,e){return An(t,"POST","/v2/accounts:revokeToken",Cn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const n=Pv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await iN(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new wi;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Q(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Q(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wi,this.toJSON())}_performRefresh(){return Ln("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class nn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Rm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new $f(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ia(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eN(this,e)}reload(){return rN(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new nn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ju(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wt(this.auth.app))return Promise.reject(Bn(this.auth));const e=await this.getIdToken();return await Ia(this,Z2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,u,c,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,y=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:b,isAnonymous:j,providerData:D,stsTokenManager:I}=n;Q(T&&I,e,"internal-error");const _=wi.fromJSON(this.name,I);Q(typeof T=="string",e,"internal-error"),ur(f,e.name),ur(m,e.name),Q(typeof b=="boolean",e,"internal-error"),Q(typeof j=="boolean",e,"internal-error"),ur(y,e.name),ur(E,e.name),ur(S,e.name),ur(A,e.name),ur(w,e.name),ur(v,e.name);const C=new nn({uid:T,auth:e,email:m,emailVerified:b,displayName:f,isAnonymous:j,photoURL:E,phoneNumber:y,tenantId:S,stsTokenManager:_,createdAt:w,lastLoginAt:v});return D&&Array.isArray(D)&&(C.providerData=D.map(P=>Object.assign({},P))),A&&(C._redirectEventId=A),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new wi;s.updateFromServerResponse(n);const i=new nn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ju(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Q(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?sT(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new wi;a.updateFromIdToken(r);const u=new nn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new $f(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=new Map;function Fn(t){Yn(t instanceof Function,"Expected a class definition");let e=Rv.get(t);return e?(Yn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Rv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iT.type="NONE";const kv=iT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t,e,n){return`firebase:${t}:${e}:${n}`}class xi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=uu(this.userKey,s.apiKey,i),this.fullPersistenceKey=uu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Xu(this.auth,{idToken:e}).catch(()=>{});return n?nn._fromGetAccountInfoResponse(this.auth,n,e):null}return nn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xi(Fn(kv),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Fn(kv);const o=uu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let f;if(typeof h=="string"){const m=await Xu(e,{idToken:h}).catch(()=>{});if(!m)break;f=await nn._fromGetAccountInfoResponse(e,m,h)}else f=nn._fromJSON(e,h);c!==i&&(a=f),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new xi(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new xi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hT(e))return"Blackberry";if(dT(e))return"Webos";if(aT(e))return"Safari";if((e.includes("chrome/")||lT(e))&&!e.includes("edge/"))return"Chrome";if(cT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oT(t=gt()){return/firefox\//i.test(t)}function aT(t=gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lT(t=gt()){return/crios\//i.test(t)}function uT(t=gt()){return/iemobile/i.test(t)}function cT(t=gt()){return/android/i.test(t)}function hT(t=gt()){return/blackberry/i.test(t)}function dT(t=gt()){return/webos/i.test(t)}function Dm(t=gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aN(t=gt()){var e;return Dm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lN(){return Eb()&&document.documentMode===10}function fT(t=gt()){return Dm(t)||cT(t)||dT(t)||hT(t)||/windows phone/i.test(t)||uT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t,e=[]){let n;switch(t){case"Browser":n=bv(gt());break;case"Worker":n=`${bv(gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(t,e={}){return An(t,"GET","/v2/passwordPolicy",Cn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=6;class dN{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:hN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nv(this),this.idTokenSubscription=new Nv(this),this.beforeStateQueue=new uN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await xi.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xu(this,{idToken:e}),r=await nn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Wt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ju(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=W2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wt(this.app))return Promise.reject(Bn(this));const n=e?We(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wt(this.app)?Promise.reject(Bn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wt(this.app)?Promise.reject(Bn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cN(this),n=new dN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ha("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await oN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fn(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await xi.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Wt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&z2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Jr(t){return We(t)}class Nv{constructor(e){this.auth=e,this.observer=null,this.addObserver=kb(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pN(t){zc=t}function mT(t){return zc.loadJS(t)}function mN(){return zc.recaptchaEnterpriseScript}function gN(){return zc.gapiScript}function yN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class vN{constructor(){this.enterprise=new _N}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _N{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const wN="recaptcha-enterprise",gT="NO_RECAPTCHA";class xN{constructor(e){this.type=wN,this.auth=Jr(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{J2(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new X2(u);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function s(i,o,a){const u=window.grecaptcha;Av(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(gT)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vN().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Av(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=mN();u.length!==0&&(u+=a),mT(u).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Dv(t,e,n,r=!1,s=!1){const i=new xN(t);let o;if(s)o=gT;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const u=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Zu(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Dv(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Dv(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t,e){const n=Pm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Cs(i,e??{}))return s;un(s,"already-initialized")}return n.initialize({options:e})}function TN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function SN(t,e,n){const r=Jr(t);Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=yT(e),{host:o,port:a}=IN(e),u=a===null?"":`:${a}`,c={url:`${i}//${o}${u}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Q(Cs(c,r.config.emulator)&&Cs(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,$a(o)?(HE(`${i}//${o}${u}`),WE("Auth",!0)):CN()}function yT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function IN(t){const e=yT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Vv(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Vv(o)}}}function Vv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function CN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ln("not implemented")}_getIdTokenResponse(e){return Ln("not implemented")}_linkToIdToken(e,n){return Ln("not implemented")}_getReauthenticationResolver(e){return Ln("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(t,e){return An(t,"POST","/v1/accounts:resetPassword",Cn(t,e))}async function PN(t,e){return An(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(t,e){return Ka(t,"POST","/v1/accounts:signInWithPassword",Cn(t,e))}async function kN(t,e){return An(t,"POST","/v1/accounts:sendOobCode",Cn(t,e))}async function bN(t,e){return kN(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(t,e){return Ka(t,"POST","/v1/accounts:signInWithEmailLink",Cn(t,e))}async function DN(t,e){return Ka(t,"POST","/v1/accounts:signInWithEmailLink",Cn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends Vm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ca(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ca(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zu(e,n,"signInWithPassword",RN);case"emailLink":return NN(e,{email:this._email,oobCode:this._password});default:un(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zu(e,r,"signUpPassword",PN);case"emailLink":return DN(e,{idToken:n,email:this._email,oobCode:this._password});default:un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ei(t,e){return Ka(t,"POST","/v1/accounts:signInWithIdp",Cn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="http://localhost";class Ps extends Vm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Rm(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ps(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ei(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ei(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ei(e,n)}buildRequest(){const e={requestUri:VN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ON(t){const e=ko(bo(t)).link,n=e?ko(bo(e)).deep_link_id:null,r=ko(bo(t)).deep_link_id;return(r?ko(bo(r)).link:null)||r||n||e||t}class jm{constructor(e){var n,r,s,i,o,a;const u=ko(bo(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,f=jN((s=u.mode)!==null&&s!==void 0?s:null);Q(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=u.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=ON(e);try{return new jm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.providerId=Yi.PROVIDER_ID}static credential(e,n){return Ca._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jm.parseLink(n);return Q(r,"argument-error"),Ca._fromEmailAndCode(e,r.code,r.tenantId)}}Yi.PROVIDER_ID="password";Yi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends vT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends Ga{constructor(){super("facebook.com")}static credential(e){return Ps._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Ga{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ps._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return gr.credential(n,r)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Ga{constructor(){super("github.com")}static credential(e){return Ps._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.GITHUB_SIGN_IN_METHOD="github.com";yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Ga{constructor(){super("twitter.com")}static credential(e,n){return Ps._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vr.credential(n,r)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(t,e){return Ka(t,"POST","/v1/accounts:signUp",Cn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await nn._fromIdTokenResponse(e,r,s),o=jv(r);return new Rs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=jv(r);return new Rs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function jv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends nr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ec.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ec(e,n,r,s)}}function _T(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ec._fromErrorAndOperation(t,i,e,r):i})}async function LN(t,e,n=!1){const r=await Ia(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Rs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(t,e,n=!1){const{auth:r}=t;if(Wt(r.app))return Promise.reject(Bn(r));const s="reauthenticate";try{const i=await Ia(t,_T(r,s,e,t),n);Q(i.idToken,r,"internal-error");const o=Nm(i.idToken);Q(o,r,"internal-error");const{sub:a}=o;return Q(t.uid===a,r,"user-mismatch"),Rs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&un(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wT(t,e,n=!1){if(Wt(t.app))return Promise.reject(Bn(t));const r="signIn",s=await _T(t,r,e),i=await Rs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function UN(t,e){return wT(Jr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Om(t){const e=Jr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BN(t,e,n){const r=Jr(t);await Zu(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",bN)}async function zN(t,e,n){await AN(We(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Om(t),r})}async function $N(t,e,n){if(Wt(t.app))return Promise.reject(Bn(t));const r=Jr(t),o=await Zu(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MN).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Om(t),u}),a=await Rs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function HN(t,e,n){return Wt(t.app)?Promise.reject(Bn(t)):UN(We(t),Yi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Om(t),r})}function WN(t,e,n,r){return We(t).onIdTokenChanged(e,n,r)}function qN(t,e,n){return We(t).beforeAuthStateChanged(e,n)}function KN(t,e,n,r){return We(t).onAuthStateChanged(e,n,r)}function GN(t){return We(t).signOut()}const tc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tc,"1"),this.storage.removeItem(tc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=1e3,YN=10;class ET extends xT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);lN()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,YN):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},QN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ET.type="LOCAL";const XN=ET;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT extends xT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TT.type="SESSION";const ST=TT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new $c(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),u=await JN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$c.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const c=Mm("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return window}function eD(t){vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(){return typeof vn().WorkerGlobalScope<"u"&&typeof vn().importScripts=="function"}async function tD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rD(){return IT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="firebaseLocalStorageDb",sD=1,nc="firebaseLocalStorage",AT="fbase_key";class Qa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hc(t,e){return t.transaction([nc],e?"readwrite":"readonly").objectStore(nc)}function iD(){const t=indexedDB.deleteDatabase(CT);return new Qa(t).toPromise()}function Hf(){const t=indexedDB.open(CT,sD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nc,{keyPath:AT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nc)?e(r):(r.close(),await iD(),e(await Hf()))})})}async function Ov(t,e,n){const r=Hc(t,!0).put({[AT]:e,value:n});return new Qa(r).toPromise()}async function oD(t,e){const n=Hc(t,!1).get(e),r=await new Qa(n).toPromise();return r===void 0?null:r.value}function Mv(t,e){const n=Hc(t,!0).delete(e);return new Qa(n).toPromise()}const aD=800,lD=3;class PT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$c._getInstance(rD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tD(),!this.activeServiceWorker)return;this.sender=new ZN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hf();return await Ov(e,tc,"1"),await Mv(e,tc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ov(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Mv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Hc(s,!1).getAll();return new Qa(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PT.type="LOCAL";const uD=PT;new qa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t,e){return e?Fn(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm extends Vm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ei(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ei(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ei(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hD(t){return wT(t.auth,new Lm(t),t.bypassAuthState)}function dD(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),FN(n,new Lm(t),t.bypassAuthState)}async function fD(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),LN(n,new Lm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hD;case"linkViaPopup":case"linkViaRedirect":return fD;case"reauthViaPopup":case"reauthViaRedirect":return dD;default:un(this.auth,"internal-error")}}resolve(e){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new qa(2e3,1e4);class li extends RT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,li.currentPopupAction&&li.currentPopupAction.cancel(),li.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){Yn(this.filter.length===1,"Popup operations only handle one event");const e=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,li.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pD.get())};e()}}li.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="pendingRedirect",cu=new Map;class gD extends RT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cu.get(this.auth._key());if(!e){try{const r=await yD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cu.set(this.auth._key(),e)}return this.bypassAuthState||cu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yD(t,e){const n=wD(e),r=_D(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function vD(t,e){cu.set(t._key(),e)}function _D(t){return Fn(t._redirectPersistence)}function wD(t){return uu(mD,t.config.apiKey,t.name)}async function xD(t,e,n=!1){if(Wt(t.app))return Promise.reject(Bn(t));const r=Jr(t),s=cD(r,e),o=await new gD(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=10*60*1e3;class TD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ED&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lv(e))}saveEventToCache(e){this.cachedEventUids.add(Lv(e)),this.lastProcessedEventTime=Date.now()}}function Lv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(t,e={}){return An(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AD=/^https?/;async function PD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ID(t);for(const n of e)try{if(RD(n))return}catch{}un(t,"unauthorized-domain")}function RD(t){const e=zf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!AD.test(n))return!1;if(CD.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new qa(3e4,6e4);function Fv(){const t=vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bD(t){return new Promise((e,n)=>{var r,s,i;function o(){Fv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fv(),n(yn(t,"network-request-failed"))},timeout:kD.get()})}if(!((s=(r=vn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=vn().gapi)===null||i===void 0)&&i.load)o();else{const a=yN("iframefcb");return vn()[a]=()=>{gapi.load?o():n(yn(t,"network-request-failed"))},mT(`${gN()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw hu=null,e})}let hu=null;function ND(t){return hu=hu||bD(t),hu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=new qa(5e3,15e3),VD="__/auth/iframe",jD="emulator/auth/iframe",OD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LD(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bm(e,jD):`https://${t.config.authDomain}/${VD}`,r={apiKey:e.apiKey,appName:t.name,v:Qi},s=MD.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Wa(r).slice(1)}`}async function FD(t){const e=await ND(t),n=vn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:LD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OD,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=yn(t,"network-request-failed"),a=vn().setTimeout(()=>{i(o)},DD.get());function u(){vn().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BD=500,zD=600,$D="_blank",HD="http://localhost";class Uv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WD(t,e,n,r=BD,s=zD){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},UD),{width:r.toString(),height:s.toString(),top:i,left:o}),c=gt().toLowerCase();n&&(a=lT(c)?$D:n),oT(c)&&(e=e||HD,u.scrollbars="yes");const h=Object.entries(u).reduce((m,[y,E])=>`${m}${y}=${E},`,"");if(aN(c)&&a!=="_self")return qD(e||"",a),new Uv(null);const f=window.open(e||"",a,h);Q(f,t,"popup-blocked");try{f.focus()}catch{}return new Uv(f)}function qD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="__/auth/handler",GD="emulator/auth/handler",QD=encodeURIComponent("fac");async function Bv(t,e,n,r,s,i){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qi,eventId:s};if(e instanceof vT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Rb(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Ga){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),c=u?`#${QD}=${encodeURIComponent(u)}`:"";return`${YD(t)}?${Wa(a).slice(1)}${c}`}function YD({config:t}){return t.emulator?bm(t,GD):`https://${t.authDomain}/${KD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="webStorageSupport";class XD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ST,this._completeRedirectFn=xD,this._overrideRedirectResult=vD}async _openPopup(e,n,r,s){var i;Yn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Bv(e,n,r,zf(),s);return WD(e,o,Mm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Bv(e,n,r,zf(),s);return eD(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Yn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await FD(e),r=new TD(e);return n.register("authEvent",s=>(Q(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yd,{type:yd},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[yd];o!==void 0&&n(!!o),un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fT()||aT()||Dm()}}const JD=XD;var zv="@firebase/auth",$v="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tV(t){Di(new As("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pT(t)},c=new fN(r,s,i,u);return TN(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Di(new As("auth-internal",e=>{const n=Jr(e.getProvider("auth").getImmediate());return(r=>new ZD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(zv,$v,eV(t)),jr(zv,$v,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=5*60,rV=$E("authIdTokenMaxAge")||nV;let Hv=null;const sV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rV)return;const s=n==null?void 0:n.token;Hv!==s&&(Hv=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function iV(t=QE()){const e=Pm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=EN(t,{popupRedirectResolver:JD,persistence:[uD,XN,ST]}),r=$E("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=sV(i.toString());qN(n,o,()=>o(n.currentUser)),WN(n,a=>o(a))}}const s=BE("auth");return s&&SN(n,`http://${s}`),n}function oV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}pN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=yn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",oV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tV("Browser");var aV="firebase",lV="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(aV,lV,"app");var Wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Or,bT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,_){function C(){}C.prototype=_.prototype,I.D=_.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(P,N,V){for(var k=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)k[yt-2]=arguments[yt];return _.prototype[N].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,_,C){C||(C=0);var P=Array(16);if(typeof _=="string")for(var N=0;16>N;++N)P[N]=_.charCodeAt(C++)|_.charCodeAt(C++)<<8|_.charCodeAt(C++)<<16|_.charCodeAt(C++)<<24;else for(N=0;16>N;++N)P[N]=_[C++]|_[C++]<<8|_[C++]<<16|_[C++]<<24;_=I.g[0],C=I.g[1],N=I.g[2];var V=I.g[3],k=_+(V^C&(N^V))+P[0]+3614090360&4294967295;_=C+(k<<7&4294967295|k>>>25),k=V+(N^_&(C^N))+P[1]+3905402710&4294967295,V=_+(k<<12&4294967295|k>>>20),k=N+(C^V&(_^C))+P[2]+606105819&4294967295,N=V+(k<<17&4294967295|k>>>15),k=C+(_^N&(V^_))+P[3]+3250441966&4294967295,C=N+(k<<22&4294967295|k>>>10),k=_+(V^C&(N^V))+P[4]+4118548399&4294967295,_=C+(k<<7&4294967295|k>>>25),k=V+(N^_&(C^N))+P[5]+1200080426&4294967295,V=_+(k<<12&4294967295|k>>>20),k=N+(C^V&(_^C))+P[6]+2821735955&4294967295,N=V+(k<<17&4294967295|k>>>15),k=C+(_^N&(V^_))+P[7]+4249261313&4294967295,C=N+(k<<22&4294967295|k>>>10),k=_+(V^C&(N^V))+P[8]+1770035416&4294967295,_=C+(k<<7&4294967295|k>>>25),k=V+(N^_&(C^N))+P[9]+2336552879&4294967295,V=_+(k<<12&4294967295|k>>>20),k=N+(C^V&(_^C))+P[10]+4294925233&4294967295,N=V+(k<<17&4294967295|k>>>15),k=C+(_^N&(V^_))+P[11]+2304563134&4294967295,C=N+(k<<22&4294967295|k>>>10),k=_+(V^C&(N^V))+P[12]+1804603682&4294967295,_=C+(k<<7&4294967295|k>>>25),k=V+(N^_&(C^N))+P[13]+4254626195&4294967295,V=_+(k<<12&4294967295|k>>>20),k=N+(C^V&(_^C))+P[14]+2792965006&4294967295,N=V+(k<<17&4294967295|k>>>15),k=C+(_^N&(V^_))+P[15]+1236535329&4294967295,C=N+(k<<22&4294967295|k>>>10),k=_+(N^V&(C^N))+P[1]+4129170786&4294967295,_=C+(k<<5&4294967295|k>>>27),k=V+(C^N&(_^C))+P[6]+3225465664&4294967295,V=_+(k<<9&4294967295|k>>>23),k=N+(_^C&(V^_))+P[11]+643717713&4294967295,N=V+(k<<14&4294967295|k>>>18),k=C+(V^_&(N^V))+P[0]+3921069994&4294967295,C=N+(k<<20&4294967295|k>>>12),k=_+(N^V&(C^N))+P[5]+3593408605&4294967295,_=C+(k<<5&4294967295|k>>>27),k=V+(C^N&(_^C))+P[10]+38016083&4294967295,V=_+(k<<9&4294967295|k>>>23),k=N+(_^C&(V^_))+P[15]+3634488961&4294967295,N=V+(k<<14&4294967295|k>>>18),k=C+(V^_&(N^V))+P[4]+3889429448&4294967295,C=N+(k<<20&4294967295|k>>>12),k=_+(N^V&(C^N))+P[9]+568446438&4294967295,_=C+(k<<5&4294967295|k>>>27),k=V+(C^N&(_^C))+P[14]+3275163606&4294967295,V=_+(k<<9&4294967295|k>>>23),k=N+(_^C&(V^_))+P[3]+4107603335&4294967295,N=V+(k<<14&4294967295|k>>>18),k=C+(V^_&(N^V))+P[8]+1163531501&4294967295,C=N+(k<<20&4294967295|k>>>12),k=_+(N^V&(C^N))+P[13]+2850285829&4294967295,_=C+(k<<5&4294967295|k>>>27),k=V+(C^N&(_^C))+P[2]+4243563512&4294967295,V=_+(k<<9&4294967295|k>>>23),k=N+(_^C&(V^_))+P[7]+1735328473&4294967295,N=V+(k<<14&4294967295|k>>>18),k=C+(V^_&(N^V))+P[12]+2368359562&4294967295,C=N+(k<<20&4294967295|k>>>12),k=_+(C^N^V)+P[5]+4294588738&4294967295,_=C+(k<<4&4294967295|k>>>28),k=V+(_^C^N)+P[8]+2272392833&4294967295,V=_+(k<<11&4294967295|k>>>21),k=N+(V^_^C)+P[11]+1839030562&4294967295,N=V+(k<<16&4294967295|k>>>16),k=C+(N^V^_)+P[14]+4259657740&4294967295,C=N+(k<<23&4294967295|k>>>9),k=_+(C^N^V)+P[1]+2763975236&4294967295,_=C+(k<<4&4294967295|k>>>28),k=V+(_^C^N)+P[4]+1272893353&4294967295,V=_+(k<<11&4294967295|k>>>21),k=N+(V^_^C)+P[7]+4139469664&4294967295,N=V+(k<<16&4294967295|k>>>16),k=C+(N^V^_)+P[10]+3200236656&4294967295,C=N+(k<<23&4294967295|k>>>9),k=_+(C^N^V)+P[13]+681279174&4294967295,_=C+(k<<4&4294967295|k>>>28),k=V+(_^C^N)+P[0]+3936430074&4294967295,V=_+(k<<11&4294967295|k>>>21),k=N+(V^_^C)+P[3]+3572445317&4294967295,N=V+(k<<16&4294967295|k>>>16),k=C+(N^V^_)+P[6]+76029189&4294967295,C=N+(k<<23&4294967295|k>>>9),k=_+(C^N^V)+P[9]+3654602809&4294967295,_=C+(k<<4&4294967295|k>>>28),k=V+(_^C^N)+P[12]+3873151461&4294967295,V=_+(k<<11&4294967295|k>>>21),k=N+(V^_^C)+P[15]+530742520&4294967295,N=V+(k<<16&4294967295|k>>>16),k=C+(N^V^_)+P[2]+3299628645&4294967295,C=N+(k<<23&4294967295|k>>>9),k=_+(N^(C|~V))+P[0]+4096336452&4294967295,_=C+(k<<6&4294967295|k>>>26),k=V+(C^(_|~N))+P[7]+1126891415&4294967295,V=_+(k<<10&4294967295|k>>>22),k=N+(_^(V|~C))+P[14]+2878612391&4294967295,N=V+(k<<15&4294967295|k>>>17),k=C+(V^(N|~_))+P[5]+4237533241&4294967295,C=N+(k<<21&4294967295|k>>>11),k=_+(N^(C|~V))+P[12]+1700485571&4294967295,_=C+(k<<6&4294967295|k>>>26),k=V+(C^(_|~N))+P[3]+2399980690&4294967295,V=_+(k<<10&4294967295|k>>>22),k=N+(_^(V|~C))+P[10]+4293915773&4294967295,N=V+(k<<15&4294967295|k>>>17),k=C+(V^(N|~_))+P[1]+2240044497&4294967295,C=N+(k<<21&4294967295|k>>>11),k=_+(N^(C|~V))+P[8]+1873313359&4294967295,_=C+(k<<6&4294967295|k>>>26),k=V+(C^(_|~N))+P[15]+4264355552&4294967295,V=_+(k<<10&4294967295|k>>>22),k=N+(_^(V|~C))+P[6]+2734768916&4294967295,N=V+(k<<15&4294967295|k>>>17),k=C+(V^(N|~_))+P[13]+1309151649&4294967295,C=N+(k<<21&4294967295|k>>>11),k=_+(N^(C|~V))+P[4]+4149444226&4294967295,_=C+(k<<6&4294967295|k>>>26),k=V+(C^(_|~N))+P[11]+3174756917&4294967295,V=_+(k<<10&4294967295|k>>>22),k=N+(_^(V|~C))+P[2]+718787259&4294967295,N=V+(k<<15&4294967295|k>>>17),k=C+(V^(N|~_))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+_&4294967295,I.g[1]=I.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+V&4294967295}r.prototype.u=function(I,_){_===void 0&&(_=I.length);for(var C=_-this.blockSize,P=this.B,N=this.h,V=0;V<_;){if(N==0)for(;V<=C;)s(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<_;)if(P[N++]=I.charCodeAt(V++),N==this.blockSize){s(this,P),N=0;break}}else for(;V<_;)if(P[N++]=I[V++],N==this.blockSize){s(this,P),N=0;break}}this.h=N,this.o+=_},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var _=1;_<I.length-8;++_)I[_]=0;var C=8*this.o;for(_=I.length-8;_<I.length;++_)I[_]=C&255,C/=256;for(this.u(I),I=Array(16),_=C=0;4>_;++_)for(var P=0;32>P;P+=8)I[C++]=this.g[_]>>>P&255;return I};function i(I,_){var C=a;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=_(I)}function o(I,_){this.h=_;for(var C=[],P=!0,N=I.length-1;0<=N;N--){var V=I[N]|0;P&&V==_||(C[N]=V,P=!1)}this.g=C}var a={};function u(I){return-128<=I&&128>I?i(I,function(_){return new o([_|0],0>_?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return A(c(-I));for(var _=[],C=1,P=0;I>=C;P++)_[P]=I/C|0,C*=4294967296;return new o(_,0)}function h(I,_){if(I.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(I.charAt(0)=="-")return A(h(I.substring(1),_));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(_,8)),P=f,N=0;N<I.length;N+=8){var V=Math.min(8,I.length-N),k=parseInt(I.substring(N,N+V),_);8>V?(V=c(Math.pow(_,V)),P=P.j(V).add(c(k))):(P=P.j(C),P=P.add(c(k)))}return P}var f=u(0),m=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(S(this))return-A(this).m();for(var I=0,_=1,C=0;C<this.g.length;C++){var P=this.i(C);I+=(0<=P?P:4294967296+P)*_,_*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(E(this))return"0";if(S(this))return"-"+A(this).toString(I);for(var _=c(Math.pow(I,6)),C=this,P="";;){var N=b(C,_).g;C=w(C,N.j(_));var V=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=N,E(C))return V+P;for(;6>V.length;)V="0"+V;P=V+P}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function E(I){if(I.h!=0)return!1;for(var _=0;_<I.g.length;_++)if(I.g[_]!=0)return!1;return!0}function S(I){return I.h==-1}t.l=function(I){return I=w(this,I),S(I)?-1:E(I)?0:1};function A(I){for(var _=I.g.length,C=[],P=0;P<_;P++)C[P]=~I.g[P];return new o(C,~I.h).add(m)}t.abs=function(){return S(this)?A(this):this},t.add=function(I){for(var _=Math.max(this.g.length,I.g.length),C=[],P=0,N=0;N<=_;N++){var V=P+(this.i(N)&65535)+(I.i(N)&65535),k=(V>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);P=k>>>16,V&=65535,k&=65535,C[N]=k<<16|V}return new o(C,C[C.length-1]&-2147483648?-1:0)};function w(I,_){return I.add(A(_))}t.j=function(I){if(E(this)||E(I))return f;if(S(this))return S(I)?A(this).j(A(I)):A(A(this).j(I));if(S(I))return A(this.j(A(I)));if(0>this.l(y)&&0>I.l(y))return c(this.m()*I.m());for(var _=this.g.length+I.g.length,C=[],P=0;P<2*_;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<I.g.length;N++){var V=this.i(P)>>>16,k=this.i(P)&65535,yt=I.i(N)>>>16,sr=I.i(N)&65535;C[2*P+2*N]+=k*sr,v(C,2*P+2*N),C[2*P+2*N+1]+=V*sr,v(C,2*P+2*N+1),C[2*P+2*N+1]+=k*yt,v(C,2*P+2*N+1),C[2*P+2*N+2]+=V*yt,v(C,2*P+2*N+2)}for(P=0;P<_;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=_;P<2*_;P++)C[P]=0;return new o(C,0)};function v(I,_){for(;(I[_]&65535)!=I[_];)I[_+1]+=I[_]>>>16,I[_]&=65535,_++}function T(I,_){this.g=I,this.h=_}function b(I,_){if(E(_))throw Error("division by zero");if(E(I))return new T(f,f);if(S(I))return _=b(A(I),_),new T(A(_.g),A(_.h));if(S(_))return _=b(I,A(_)),new T(A(_.g),_.h);if(30<I.g.length){if(S(I)||S(_))throw Error("slowDivide_ only works with positive integers.");for(var C=m,P=_;0>=P.l(I);)C=j(C),P=j(P);var N=D(C,1),V=D(P,1);for(P=D(P,2),C=D(C,2);!E(P);){var k=V.add(P);0>=k.l(I)&&(N=N.add(C),V=k),P=D(P,1),C=D(C,1)}return _=w(I,N.j(_)),new T(N,_)}for(N=f;0<=I.l(_);){for(C=Math.max(1,Math.floor(I.m()/_.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),V=c(C),k=V.j(_);S(k)||0<k.l(I);)C-=P,V=c(C),k=V.j(_);E(V)&&(V=m),N=N.add(V),I=w(I,k)}return new T(N,I)}t.A=function(I){return b(this,I).h},t.and=function(I){for(var _=Math.max(this.g.length,I.g.length),C=[],P=0;P<_;P++)C[P]=this.i(P)&I.i(P);return new o(C,this.h&I.h)},t.or=function(I){for(var _=Math.max(this.g.length,I.g.length),C=[],P=0;P<_;P++)C[P]=this.i(P)|I.i(P);return new o(C,this.h|I.h)},t.xor=function(I){for(var _=Math.max(this.g.length,I.g.length),C=[],P=0;P<_;P++)C[P]=this.i(P)^I.i(P);return new o(C,this.h^I.h)};function j(I){for(var _=I.g.length+1,C=[],P=0;P<_;P++)C[P]=I.i(P)<<1|I.i(P-1)>>>31;return new o(C,I.h)}function D(I,_){var C=_>>5;_%=32;for(var P=I.g.length-C,N=[],V=0;V<P;V++)N[V]=0<_?I.i(V+C)>>>_|I.i(V+C+1)<<32-_:I.i(V+C);return new o(N,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Or=o}).apply(typeof Wv<"u"?Wv:typeof self<"u"?self:typeof window<"u"?window:{});var Fl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NT,No,DT,du,Wf,VT,jT,OT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,g){return l==Array.prototype||l==Object.prototype||(l[p]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fl=="object"&&Fl];for(var p=0;p<l.length;++p){var g=l[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,p){if(p)e:{var g=r;l=l.split(".");for(var x=0;x<l.length-1;x++){var O=l[x];if(!(O in g))break e;g=g[O]}l=l[l.length-1],x=g[l],p=p(x),p!=x&&p!=null&&e(g,l,{configurable:!0,writable:!0,value:p})}}function i(l,p){l instanceof String&&(l+="");var g=0,x=!1,O={next:function(){if(!x&&g<l.length){var M=g++;return{value:p(M,l[M]),done:!1}}return x=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}s("Array.prototype.values",function(l){return l||function(){return i(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function c(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function h(l,p,g){return l.call.apply(l.bind,arguments)}function f(l,p,g){if(!l)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,x),l.apply(p,O)}}return function(){return l.apply(p,arguments)}}function m(l,p,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function y(l,p){var g=Array.prototype.slice.call(arguments,1);return function(){var x=g.slice();return x.push.apply(x,arguments),l.apply(this,x)}}function E(l,p){function g(){}g.prototype=p.prototype,l.aa=p.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(x,O,M){for(var B=Array(arguments.length-2),de=2;de<arguments.length;de++)B[de-2]=arguments[de];return p.prototype[O].apply(x,B)}}function S(l){const p=l.length;if(0<p){const g=Array(p);for(let x=0;x<p;x++)g[x]=l[x];return g}return[]}function A(l,p){for(let g=1;g<arguments.length;g++){const x=arguments[g];if(u(x)){const O=l.length||0,M=x.length||0;l.length=O+M;for(let B=0;B<M;B++)l[O+B]=x[B]}else l.push(x)}}class w{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(l){return/^[\s\xa0]*$/.test(l)}function T(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function b(l){return b[" "](l),l}b[" "]=function(){};var j=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function D(l,p,g){for(const x in l)p.call(g,l[x],x,l)}function I(l,p){for(const g in l)p.call(void 0,l[g],g,l)}function _(l){const p={};for(const g in l)p[g]=l[g];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,p){let g,x;for(let O=1;O<arguments.length;O++){x=arguments[O];for(g in x)l[g]=x[g];for(let M=0;M<C.length;M++)g=C[M],Object.prototype.hasOwnProperty.call(x,g)&&(l[g]=x[g])}}function N(l){var p=1;l=l.split(":");const g=[];for(;0<p&&l.length;)g.push(l.shift()),p--;return l.length&&g.push(l.join(":")),g}function V(l){a.setTimeout(()=>{throw l},0)}function k(){var l=G;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class yt{constructor(){this.h=this.g=null}add(p,g){const x=sr.get();x.set(p,g),this.h?this.h.next=x:this.g=x,this.h=x}}var sr=new w(()=>new Fs,l=>l.reset());class Fs{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let me,z=!1,G=new yt,X=()=>{const l=a.Promise.resolve(void 0);me=()=>{l.then(Ee)}};var Ee=()=>{for(var l;l=k();){try{l.h.call(l.g)}catch(g){V(g)}var p=sr;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}z=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ne(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}Ne.prototype.h=function(){this.defaultPrevented=!0};var Pn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return l}();function Rn(l,p){if(Ne.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,x=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(j){e:{try{b(p.nodeName);var O=!0;break e}catch{}O=!1}O||(p=null)}}else g=="mouseover"?p=l.fromElement:g=="mouseout"&&(p=l.toElement);this.relatedTarget=p,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:kn[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Rn.aa.h.call(this)}}E(Rn,Ne);var kn={2:"touch",3:"pen",4:"mouse"};Rn.prototype.h=function(){Rn.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var bn="closure_listenable_"+(1e6*Math.random()|0),LC=0;function FC(l,p,g,x,O){this.listener=l,this.proxy=null,this.src=p,this.type=g,this.capture=!!x,this.ha=O,this.key=++LC,this.da=this.fa=!1}function rl(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function sl(l){this.src=l,this.g={},this.h=0}sl.prototype.add=function(l,p,g,x,O){var M=l.toString();l=this.g[M],l||(l=this.g[M]=[],this.h++);var B=gh(l,p,x,O);return-1<B?(p=l[B],g||(p.fa=!1)):(p=new FC(p,this.src,M,!!x,O),p.fa=g,l.push(p)),p};function mh(l,p){var g=p.type;if(g in l.g){var x=l.g[g],O=Array.prototype.indexOf.call(x,p,void 0),M;(M=0<=O)&&Array.prototype.splice.call(x,O,1),M&&(rl(p),l.g[g].length==0&&(delete l.g[g],l.h--))}}function gh(l,p,g,x){for(var O=0;O<l.length;++O){var M=l[O];if(!M.da&&M.listener==p&&M.capture==!!g&&M.ha==x)return O}return-1}var yh="closure_lm_"+(1e6*Math.random()|0),vh={};function Yg(l,p,g,x,O){if(Array.isArray(p)){for(var M=0;M<p.length;M++)Yg(l,p[M],g,x,O);return null}return g=Zg(g),l&&l[bn]?l.K(p,g,c(x)?!!x.capture:!!x,O):UC(l,p,g,!1,x,O)}function UC(l,p,g,x,O,M){if(!p)throw Error("Invalid event type");var B=c(O)?!!O.capture:!!O,de=wh(l);if(de||(l[yh]=de=new sl(l)),g=de.add(p,g,x,B,M),g.proxy)return g;if(x=BC(),g.proxy=x,x.src=l,x.listener=g,l.addEventListener)Pn||(O=B),O===void 0&&(O=!1),l.addEventListener(p.toString(),x,O);else if(l.attachEvent)l.attachEvent(Jg(p.toString()),x);else if(l.addListener&&l.removeListener)l.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return g}function BC(){function l(g){return p.call(l.src,l.listener,g)}const p=zC;return l}function Xg(l,p,g,x,O){if(Array.isArray(p))for(var M=0;M<p.length;M++)Xg(l,p[M],g,x,O);else x=c(x)?!!x.capture:!!x,g=Zg(g),l&&l[bn]?(l=l.i,p=String(p).toString(),p in l.g&&(M=l.g[p],g=gh(M,g,x,O),-1<g&&(rl(M[g]),Array.prototype.splice.call(M,g,1),M.length==0&&(delete l.g[p],l.h--)))):l&&(l=wh(l))&&(p=l.g[p.toString()],l=-1,p&&(l=gh(p,g,x,O)),(g=-1<l?p[l]:null)&&_h(g))}function _h(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[bn])mh(p.i,l);else{var g=l.type,x=l.proxy;p.removeEventListener?p.removeEventListener(g,x,l.capture):p.detachEvent?p.detachEvent(Jg(g),x):p.addListener&&p.removeListener&&p.removeListener(x),(g=wh(p))?(mh(g,l),g.h==0&&(g.src=null,p[yh]=null)):rl(l)}}}function Jg(l){return l in vh?vh[l]:vh[l]="on"+l}function zC(l,p){if(l.da)l=!0;else{p=new Rn(p,this);var g=l.listener,x=l.ha||l.src;l.fa&&_h(l),l=g.call(x,p)}return l}function wh(l){return l=l[yh],l instanceof sl?l:null}var xh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zg(l){return typeof l=="function"?l:(l[xh]||(l[xh]=function(p){return l.handleEvent(p)}),l[xh])}function rt(){he.call(this),this.i=new sl(this),this.M=this,this.F=null}E(rt,he),rt.prototype[bn]=!0,rt.prototype.removeEventListener=function(l,p,g,x){Xg(this,l,p,g,x)};function vt(l,p){var g,x=l.F;if(x)for(g=[];x;x=x.F)g.push(x);if(l=l.M,x=p.type||p,typeof p=="string")p=new Ne(p,l);else if(p instanceof Ne)p.target=p.target||l;else{var O=p;p=new Ne(x,l),P(p,O)}if(O=!0,g)for(var M=g.length-1;0<=M;M--){var B=p.g=g[M];O=il(B,x,!0,p)&&O}if(B=p.g=l,O=il(B,x,!0,p)&&O,O=il(B,x,!1,p)&&O,g)for(M=0;M<g.length;M++)B=p.g=g[M],O=il(B,x,!1,p)&&O}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var g=l.g[p],x=0;x<g.length;x++)rl(g[x]);delete l.g[p],l.h--}}this.F=null},rt.prototype.K=function(l,p,g,x){return this.i.add(String(l),p,!1,g,x)},rt.prototype.L=function(l,p,g,x){return this.i.add(String(l),p,!0,g,x)};function il(l,p,g,x){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var O=!0,M=0;M<p.length;++M){var B=p[M];if(B&&!B.da&&B.capture==g){var de=B.listener,Qe=B.ha||B.src;B.fa&&mh(l.i,B),O=de.call(Qe,x)!==!1&&O}}return O&&!x.defaultPrevented}function ey(l,p,g){if(typeof l=="function")g&&(l=m(l,g));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(l,p||0)}function ty(l){l.g=ey(()=>{l.g=null,l.i&&(l.i=!1,ty(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class $C extends he{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ty(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ro(l){he.call(this),this.h=l,this.g={}}E(ro,he);var ny=[];function ry(l){D(l.g,function(p,g){this.g.hasOwnProperty(g)&&_h(p)},l),l.g={}}ro.prototype.N=function(){ro.aa.N.call(this),ry(this)},ro.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Eh=a.JSON.stringify,HC=a.JSON.parse,WC=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Th(){}Th.prototype.h=null;function sy(l){return l.h||(l.h=l.i())}function iy(){}var so={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sh(){Ne.call(this,"d")}E(Sh,Ne);function Ih(){Ne.call(this,"c")}E(Ih,Ne);var ts={},oy=null;function ol(){return oy=oy||new rt}ts.La="serverreachability";function ay(l){Ne.call(this,ts.La,l)}E(ay,Ne);function io(l){const p=ol();vt(p,new ay(p))}ts.STAT_EVENT="statevent";function ly(l,p){Ne.call(this,ts.STAT_EVENT,l),this.stat=p}E(ly,Ne);function _t(l){const p=ol();vt(p,new ly(p,l))}ts.Ma="timingevent";function uy(l,p){Ne.call(this,ts.Ma,l),this.size=p}E(uy,Ne);function oo(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},p)}function ao(){this.g=!0}ao.prototype.xa=function(){this.g=!1};function qC(l,p,g,x,O,M){l.info(function(){if(l.g)if(M)for(var B="",de=M.split("&"),Qe=0;Qe<de.length;Qe++){var ae=de[Qe].split("=");if(1<ae.length){var st=ae[0];ae=ae[1];var it=st.split("_");B=2<=it.length&&it[1]=="type"?B+(st+"="+ae+"&"):B+(st+"=redacted&")}}else B=null;else B=M;return"XMLHTTP REQ ("+x+") [attempt "+O+"]: "+p+`
`+g+`
`+B})}function KC(l,p,g,x,O,M,B){l.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+O+"]: "+p+`
`+g+`
`+M+" "+B})}function Us(l,p,g,x){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+QC(l,g)+(x?" "+x:"")})}function GC(l,p){l.info(function(){return"TIMEOUT: "+p})}ao.prototype.info=function(){};function QC(l,p){if(!l.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var x=g[l];if(!(2>x.length)){var O=x[1];if(Array.isArray(O)&&!(1>O.length)){var M=O[0];if(M!="noop"&&M!="stop"&&M!="close")for(var B=1;B<O.length;B++)O[B]=""}}}}return Eh(g)}catch{return p}}var al={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ch;function ll(){}E(ll,Th),ll.prototype.g=function(){return new XMLHttpRequest},ll.prototype.i=function(){return{}},Ch=new ll;function ir(l,p,g,x){this.j=l,this.i=p,this.l=g,this.R=x||1,this.U=new ro(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hy}function hy(){this.i=null,this.g="",this.h=!1}var dy={},Ah={};function Ph(l,p,g){l.L=1,l.v=dl(Nn(p)),l.m=g,l.P=!0,fy(l,null)}function fy(l,p){l.F=Date.now(),ul(l),l.A=Nn(l.v);var g=l.A,x=l.R;Array.isArray(x)||(x=[String(x)]),Ay(g.i,"t",x),l.C=0,g=l.j.J,l.h=new hy,l.g=Wy(l.j,g?p:null,!l.m),0<l.O&&(l.M=new $C(m(l.Y,l,l.g),l.O)),p=l.U,g=l.g,x=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(ny[0]=O.toString()),O=ny);for(var M=0;M<O.length;M++){var B=Yg(g,O[M],x||p.handleEvent,!1,p.h||p);if(!B)break;p.g[B.key]=B}p=l.H?_(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),io(),qC(l.i,l.u,l.A,l.l,l.R,l.m)}ir.prototype.ca=function(l){l=l.target;const p=this.M;p&&Dn(l)==3?p.j():this.Y(l)},ir.prototype.Y=function(l){try{if(l==this.g)e:{const it=Dn(this.g);var p=this.g.Ba();const $s=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||Vy(this.g)))){this.J||it!=4||p==7||(p==8||0>=$s?io(3):io(2)),Rh(this);var g=this.g.Z();this.X=g;t:if(py(this)){var x=Vy(this.g);l="";var O=x.length,M=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ns(this),lo(this);var B="";break t}this.h.i=new a.TextDecoder}for(p=0;p<O;p++)this.h.h=!0,l+=this.h.i.decode(x[p],{stream:!(M&&p==O-1)});x.length=0,this.h.g+=l,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=g==200,KC(this.i,this.u,this.A,this.l,this.R,it,g),this.o){if(this.T&&!this.K){t:{if(this.g){var de,Qe=this.g;if((de=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(de)){var ae=de;break t}}ae=null}if(g=ae)Us(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kh(this,g);else{this.o=!1,this.s=3,_t(12),ns(this),lo(this);break e}}if(this.P){g=!0;let Yt;for(;!this.J&&this.C<B.length;)if(Yt=YC(this,B),Yt==Ah){it==4&&(this.s=4,_t(14),g=!1),Us(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==dy){this.s=4,_t(15),Us(this.i,this.l,B,"[Invalid Chunk]"),g=!1;break}else Us(this.i,this.l,Yt,null),kh(this,Yt);if(py(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||B.length!=0||this.h.h||(this.s=1,_t(16),g=!1),this.o=this.o&&g,!g)Us(this.i,this.l,B,"[Invalid Chunked Response]"),ns(this),lo(this);else if(0<B.length&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.ba&&!st.M&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Oh(st),st.M=!0,_t(11))}}else Us(this.i,this.l,B,null),kh(this,B);it==4&&ns(this),this.o&&!this.J&&(it==4?By(this.j,this):(this.o=!1,ul(this)))}else fA(this.g),g==400&&0<B.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),ns(this),lo(this)}}}catch{}finally{}};function py(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function YC(l,p){var g=l.C,x=p.indexOf(`
`,g);return x==-1?Ah:(g=Number(p.substring(g,x)),isNaN(g)?dy:(x+=1,x+g>p.length?Ah:(p=p.slice(x,x+g),l.C=x+g,p)))}ir.prototype.cancel=function(){this.J=!0,ns(this)};function ul(l){l.S=Date.now()+l.I,my(l,l.I)}function my(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=oo(m(l.ba,l),p)}function Rh(l){l.B&&(a.clearTimeout(l.B),l.B=null)}ir.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(GC(this.i,this.A),this.L!=2&&(io(),_t(17)),ns(this),this.s=2,lo(this)):my(this,this.S-l)};function lo(l){l.j.G==0||l.J||By(l.j,l)}function ns(l){Rh(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,ry(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function kh(l,p){try{var g=l.j;if(g.G!=0&&(g.g==l||bh(g.h,l))){if(!l.K&&bh(g.h,l)&&g.G==3){try{var x=g.Da.g.parse(p)}catch{x=null}if(Array.isArray(x)&&x.length==3){var O=x;if(O[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)vl(g),gl(g);else break e;jh(g),_t(18)}}else g.za=O[1],0<g.za-g.T&&37500>O[2]&&g.F&&g.v==0&&!g.C&&(g.C=oo(m(g.Za,g),6e3));if(1>=vy(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ss(g,11)}else if((l.K||g.g==l)&&vl(g),!v(p))for(O=g.Da.g.parse(p),p=0;p<O.length;p++){let ae=O[p];if(g.T=ae[0],ae=ae[1],g.G==2)if(ae[0]=="c"){g.K=ae[1],g.ia=ae[2];const st=ae[3];st!=null&&(g.la=st,g.j.info("VER="+g.la));const it=ae[4];it!=null&&(g.Aa=it,g.j.info("SVER="+g.Aa));const $s=ae[5];$s!=null&&typeof $s=="number"&&0<$s&&(x=1.5*$s,g.L=x,g.j.info("backChannelRequestTimeoutMs_="+x)),x=g;const Yt=l.g;if(Yt){const wl=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wl){var M=x.h;M.g||wl.indexOf("spdy")==-1&&wl.indexOf("quic")==-1&&wl.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Nh(M,M.h),M.h=null))}if(x.D){const Mh=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;Mh&&(x.ya=Mh,ge(x.I,x.D,Mh))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),x=g;var B=l;if(x.qa=Hy(x,x.J?x.ia:null,x.W),B.K){_y(x.h,B);var de=B,Qe=x.L;Qe&&(de.I=Qe),de.B&&(Rh(de),ul(de)),x.g=B}else Fy(x);0<g.i.length&&yl(g)}else ae[0]!="stop"&&ae[0]!="close"||ss(g,7);else g.G==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?ss(g,7):Vh(g):ae[0]!="noop"&&g.l&&g.l.ta(ae),g.v=0)}}io(4)}catch{}}var XC=class{constructor(l,p){this.g=l,this.map=p}};function gy(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function vy(l){return l.h?1:l.g?l.g.size:0}function bh(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Nh(l,p){l.g?l.g.add(p):l.h=p}function _y(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}gy.prototype.cancel=function(){if(this.i=wy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function wy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const g of l.g.values())p=p.concat(g.D);return p}return S(l.i)}function JC(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var p=[],g=l.length,x=0;x<g;x++)p.push(l[x]);return p}p=[],g=0;for(x in l)p[g++]=l[x];return p}function ZC(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var p=[];l=l.length;for(var g=0;g<l;g++)p.push(g);return p}p=[],g=0;for(const x in l)p[g++]=x;return p}}}function xy(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var g=ZC(l),x=JC(l),O=x.length,M=0;M<O;M++)p.call(void 0,x[M],g&&g[M],l)}var Ey=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eA(l,p){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var x=l[g].indexOf("="),O=null;if(0<=x){var M=l[g].substring(0,x);O=l[g].substring(x+1)}else M=l[g];p(M,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function rs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof rs){this.h=l.h,cl(this,l.j),this.o=l.o,this.g=l.g,hl(this,l.s),this.l=l.l;var p=l.i,g=new ho;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),Ty(this,g),this.m=l.m}else l&&(p=String(l).match(Ey))?(this.h=!1,cl(this,p[1]||"",!0),this.o=uo(p[2]||""),this.g=uo(p[3]||"",!0),hl(this,p[4]),this.l=uo(p[5]||"",!0),Ty(this,p[6]||"",!0),this.m=uo(p[7]||"")):(this.h=!1,this.i=new ho(null,this.h))}rs.prototype.toString=function(){var l=[],p=this.j;p&&l.push(co(p,Sy,!0),":");var g=this.g;return(g||p=="file")&&(l.push("//"),(p=this.o)&&l.push(co(p,Sy,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(co(g,g.charAt(0)=="/"?rA:nA,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",co(g,iA)),l.join("")};function Nn(l){return new rs(l)}function cl(l,p,g){l.j=g?uo(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function hl(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Ty(l,p,g){p instanceof ho?(l.i=p,oA(l.i,l.h)):(g||(p=co(p,sA)),l.i=new ho(p,l.h))}function ge(l,p,g){l.i.set(p,g)}function dl(l){return ge(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function uo(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function co(l,p,g){return typeof l=="string"?(l=encodeURI(l).replace(p,tA),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function tA(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Sy=/[#\/\?@]/g,nA=/[#\?:]/g,rA=/[#\?]/g,sA=/[#\?@]/g,iA=/#/g;function ho(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function or(l){l.g||(l.g=new Map,l.h=0,l.i&&eA(l.i,function(p,g){l.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=ho.prototype,t.add=function(l,p){or(this),this.i=null,l=Bs(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(p),this.h+=1,this};function Iy(l,p){or(l),p=Bs(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Cy(l,p){return or(l),p=Bs(l,p),l.g.has(p)}t.forEach=function(l,p){or(this),this.g.forEach(function(g,x){g.forEach(function(O){l.call(p,O,x,this)},this)},this)},t.na=function(){or(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let x=0;x<p.length;x++){const O=l[x];for(let M=0;M<O.length;M++)g.push(p[x])}return g},t.V=function(l){or(this);let p=[];if(typeof l=="string")Cy(this,l)&&(p=p.concat(this.g.get(Bs(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)p=p.concat(l[g])}return p},t.set=function(l,p){return or(this),this.i=null,l=Bs(this,l),Cy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},t.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function Ay(l,p,g){Iy(l,p),0<g.length&&(l.i=null,l.g.set(Bs(l,p),S(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var x=p[g];const M=encodeURIComponent(String(x)),B=this.V(x);for(x=0;x<B.length;x++){var O=M;B[x]!==""&&(O+="="+encodeURIComponent(String(B[x]))),l.push(O)}}return this.i=l.join("&")};function Bs(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function oA(l,p){p&&!l.j&&(or(l),l.i=null,l.g.forEach(function(g,x){var O=x.toLowerCase();x!=O&&(Iy(this,x),Ay(this,O,g))},l)),l.j=p}function aA(l,p){const g=new ao;if(a.Image){const x=new Image;x.onload=y(ar,g,"TestLoadImage: loaded",!0,p,x),x.onerror=y(ar,g,"TestLoadImage: error",!1,p,x),x.onabort=y(ar,g,"TestLoadImage: abort",!1,p,x),x.ontimeout=y(ar,g,"TestLoadImage: timeout",!1,p,x),a.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=l}else p(!1)}function lA(l,p){const g=new ao,x=new AbortController,O=setTimeout(()=>{x.abort(),ar(g,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:x.signal}).then(M=>{clearTimeout(O),M.ok?ar(g,"TestPingServer: ok",!0,p):ar(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(O),ar(g,"TestPingServer: error",!1,p)})}function ar(l,p,g,x,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),x(g)}catch{}}function uA(){this.g=new WC}function cA(l,p,g){const x=g||"";try{xy(l,function(O,M){let B=O;c(O)&&(B=Eh(O)),p.push(x+M+"="+encodeURIComponent(B))})}catch(O){throw p.push(x+"type="+encodeURIComponent("_badmap")),O}}function fl(l){this.l=l.Ub||null,this.j=l.eb||!1}E(fl,Th),fl.prototype.g=function(){return new pl(this.l,this.j)},fl.prototype.i=function(l){return function(){return l}}({});function pl(l,p){rt.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(pl,rt),t=pl.prototype,t.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,po(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,po(this)),this.g&&(this.readyState=3,po(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Py(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Py(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?fo(this):po(this),this.readyState==3&&Py(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,fo(this))},t.Qa=function(l){this.g&&(this.response=l,fo(this))},t.ga=function(){this.g&&fo(this)};function fo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,po(l)}t.setRequestHeader=function(l,p){this.u.append(l,p)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=p.next();return l.join(`\r
`)};function po(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(pl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Ry(l){let p="";return D(l,function(g,x){p+=x,p+=":",p+=g,p+=`\r
`}),p}function Dh(l,p,g){e:{for(x in g){var x=!1;break e}x=!0}x||(g=Ry(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):ge(l,p,g))}function Pe(l){rt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Pe,rt);var hA=/^https?$/i,dA=["POST","PUT"];t=Pe.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,p,g,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ch.g(),this.v=this.o?sy(this.o):sy(Ch),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(M){ky(this,M);return}if(l=g||"",g=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var O in x)g.set(O,x[O]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const M of x.keys())g.set(M,x.get(M));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(g.keys()).find(M=>M.toLowerCase()=="content-type"),O=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(dA,p,void 0))||x||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,B]of g)this.g.setRequestHeader(M,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dy(this),this.u=!0,this.g.send(l),this.u=!1}catch(M){ky(this,M)}};function ky(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,by(l),ml(l)}function by(l){l.A||(l.A=!0,vt(l,"complete"),vt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,vt(this,"complete"),vt(this,"abort"),ml(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ml(this,!0)),Pe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ny(this):this.bb())},t.bb=function(){Ny(this)};function Ny(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Dn(l)!=4||l.Z()!=2)){if(l.u&&Dn(l)==4)ey(l.Ea,0,l);else if(vt(l,"readystatechange"),Dn(l)==4){l.h=!1;try{const B=l.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var x;if(x=B===0){var O=String(l.D).match(Ey)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),x=!hA.test(O?O.toLowerCase():"")}g=x}if(g)vt(l,"complete"),vt(l,"success");else{l.m=6;try{var M=2<Dn(l)?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.Z()+"]",by(l)}}finally{ml(l)}}}}function ml(l,p){if(l.g){Dy(l);const g=l.g,x=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||vt(l,"ready");try{g.onreadystatechange=x}catch{}}}function Dy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Dn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),HC(p)}};function Vy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function fA(l){const p={};l=(l.g&&2<=Dn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<l.length;x++){if(v(l[x]))continue;var g=N(l[x]);const O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const M=p[O]||[];p[O]=M,M.push(g)}I(p,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mo(l,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||p}function jy(l){this.Aa=0,this.i=[],this.j=new ao,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mo("baseRetryDelayMs",5e3,l),this.cb=mo("retryDelaySeedMs",1e4,l),this.Wa=mo("forwardChannelMaxRetries",2,l),this.wa=mo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new gy(l&&l.concurrentRequestLimit),this.Da=new uA,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=jy.prototype,t.la=8,t.G=1,t.connect=function(l,p,g,x){_t(0),this.W=l,this.H=p||{},g&&x!==void 0&&(this.H.OSID=g,this.H.OAID=x),this.F=this.X,this.I=Hy(this,null,this.W),yl(this)};function Vh(l){if(Oy(l),l.G==3){var p=l.U++,g=Nn(l.I);if(ge(g,"SID",l.K),ge(g,"RID",p),ge(g,"TYPE","terminate"),go(l,g),p=new ir(l,l.j,p),p.L=2,p.v=dl(Nn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=Wy(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ul(p)}$y(l)}function gl(l){l.g&&(Oh(l),l.g.cancel(),l.g=null)}function Oy(l){gl(l),l.u&&(a.clearTimeout(l.u),l.u=null),vl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function yl(l){if(!yy(l.h)&&!l.s){l.s=!0;var p=l.Ga;me||X(),z||(me(),z=!0),G.add(p,l),l.B=0}}function pA(l,p){return vy(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=oo(m(l.Ga,l,p),zy(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new ir(this,this.j,l);let M=this.o;if(this.S&&(M?(M=_(M),P(M,this.S)):M=this.S),this.m!==null||this.O||(O.H=M,M=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var x=this.i[g];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(p+=x,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=Ly(this,O,p),g=Nn(this.I),ge(g,"RID",l),ge(g,"CVER",22),this.D&&ge(g,"X-HTTP-Session-Id",this.D),go(this,g),M&&(this.O?p="headers="+encodeURIComponent(String(Ry(M)))+"&"+p:this.m&&Dh(g,this.m,M)),Nh(this.h,O),this.Ua&&ge(g,"TYPE","init"),this.P?(ge(g,"$req",p),ge(g,"SID","null"),O.T=!0,Ph(O,g,null)):Ph(O,g,p),this.G=2}}else this.G==3&&(l?My(this,l):this.i.length==0||yy(this.h)||My(this))};function My(l,p){var g;p?g=p.l:g=l.U++;const x=Nn(l.I);ge(x,"SID",l.K),ge(x,"RID",g),ge(x,"AID",l.T),go(l,x),l.m&&l.o&&Dh(x,l.m,l.o),g=new ir(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Ly(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Nh(l.h,g),Ph(g,x,p)}function go(l,p){l.H&&D(l.H,function(g,x){ge(p,x,g)}),l.l&&xy({},function(g,x){ge(p,x,g)})}function Ly(l,p,g){g=Math.min(l.i.length,g);var x=l.l?m(l.l.Na,l.l,l):null;e:{var O=l.i;let M=-1;for(;;){const B=["count="+g];M==-1?0<g?(M=O[0].g,B.push("ofs="+M)):M=0:B.push("ofs="+M);let de=!0;for(let Qe=0;Qe<g;Qe++){let ae=O[Qe].g;const st=O[Qe].map;if(ae-=M,0>ae)M=Math.max(0,O[Qe].g-100),de=!1;else try{cA(st,B,"req"+ae+"_")}catch{x&&x(st)}}if(de){x=B.join("&");break e}}}return l=l.i.splice(0,g),p.D=l,x}function Fy(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;me||X(),z||(me(),z=!0),G.add(p,l),l.v=0}}function jh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=oo(m(l.Fa,l),zy(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Uy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=oo(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),gl(this),Uy(this))};function Oh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Uy(l){l.g=new ir(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=Nn(l.qa);ge(p,"RID","rpc"),ge(p,"SID",l.K),ge(p,"AID",l.T),ge(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&ge(p,"TO",l.ja),ge(p,"TYPE","xmlhttp"),go(l,p),l.m&&l.o&&Dh(p,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=dl(Nn(p)),g.m=null,g.P=!0,fy(g,l)}t.Za=function(){this.C!=null&&(this.C=null,gl(this),jh(this),_t(19))};function vl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function By(l,p){var g=null;if(l.g==p){vl(l),Oh(l),l.g=null;var x=2}else if(bh(l.h,p))g=p.D,_y(l.h,p),x=1;else return;if(l.G!=0){if(p.o)if(x==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var O=l.B;x=ol(),vt(x,new uy(x,g)),yl(l)}else Fy(l);else if(O=p.s,O==3||O==0&&0<p.X||!(x==1&&pA(l,p)||x==2&&jh(l)))switch(g&&0<g.length&&(p=l.h,p.i=p.i.concat(g)),O){case 1:ss(l,5);break;case 4:ss(l,10);break;case 3:ss(l,6);break;default:ss(l,2)}}}function zy(l,p){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*p}function ss(l,p){if(l.j.info("Error code "+p),p==2){var g=m(l.fb,l),x=l.Xa;const O=!x;x=new rs(x||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||cl(x,"https"),dl(x),O?aA(x.toString(),g):lA(x.toString(),g)}else _t(2);l.G=0,l.l&&l.l.sa(p),$y(l),Oy(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function $y(l){if(l.G=0,l.ka=[],l.l){const p=wy(l.h);(p.length!=0||l.i.length!=0)&&(A(l.ka,p),A(l.ka,l.i),l.h.i.length=0,S(l.i),l.i.length=0),l.l.ra()}}function Hy(l,p,g){var x=g instanceof rs?Nn(g):new rs(g);if(x.g!="")p&&(x.g=p+"."+x.g),hl(x,x.s);else{var O=a.location;x=O.protocol,p=p?p+"."+O.hostname:O.hostname,O=+O.port;var M=new rs(null);x&&cl(M,x),p&&(M.g=p),O&&hl(M,O),g&&(M.l=g),x=M}return g=l.D,p=l.ya,g&&p&&ge(x,g,p),ge(x,"VER",l.la),go(l,x),x}function Wy(l,p,g){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Pe(new fl({eb:g})):new Pe(l.pa),p.Ha(l.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qy(){}t=qy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _l(){}_l.prototype.g=function(l,p){return new kt(l,p)};function kt(l,p){rt.call(this),this.g=new jy(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!v(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new zs(this)}E(kt,rt),kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Vh(this.g)},kt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Eh(l),l=g);p.i.push(new XC(p.Ya++,l)),p.G==3&&yl(p)},kt.prototype.N=function(){this.g.l=null,delete this.j,Vh(this.g),delete this.g,kt.aa.N.call(this)};function Ky(l){Sh.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const g in p){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}E(Ky,Sh);function Gy(){Ih.call(this),this.status=1}E(Gy,Ih);function zs(l){this.g=l}E(zs,qy),zs.prototype.ua=function(){vt(this.g,"a")},zs.prototype.ta=function(l){vt(this.g,new Ky(l))},zs.prototype.sa=function(l){vt(this.g,new Gy)},zs.prototype.ra=function(){vt(this.g,"b")},_l.prototype.createWebChannel=_l.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,OT=function(){return new _l},jT=function(){return ol()},VT=ts,Wf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},al.NO_ERROR=0,al.TIMEOUT=8,al.HTTP_ERROR=6,du=al,cy.COMPLETE="complete",DT=cy,iy.EventType=so,so.OPEN="a",so.CLOSE="b",so.ERROR="c",so.MESSAGE="d",rt.prototype.listen=rt.prototype.K,No=iy,Pe.prototype.listenOnce=Pe.prototype.L,Pe.prototype.getLastError=Pe.prototype.Ka,Pe.prototype.getLastErrorCode=Pe.prototype.Ba,Pe.prototype.getStatus=Pe.prototype.Z,Pe.prototype.getResponseJson=Pe.prototype.Oa,Pe.prototype.getResponseText=Pe.prototype.oa,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Ha,NT=Pe}).apply(typeof Fl<"u"?Fl:typeof self<"u"?self:typeof window<"u"?window:{});const qv="@firebase/firestore",Kv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xi="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Cm("@firebase/firestore");function Ws(){return ks.logLevel}function $(t,...e){if(ks.logLevel<=re.DEBUG){const n=e.map(Fm);ks.debug(`Firestore (${Xi}): ${t}`,...n)}}function Xn(t,...e){if(ks.logLevel<=re.ERROR){const n=e.map(Fm);ks.error(`Firestore (${Xi}): ${t}`,...n)}}function Vi(t,...e){if(ks.logLevel<=re.WARN){const n=e.map(Fm);ks.warn(`Firestore (${Xi}): ${t}`,...n)}}function Fm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,MT(t,r,n)}function MT(t,e,n){let r=`FIRESTORE (${Xi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Xn(r),new Error(r)}function ue(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||MT(e,s,r)}function Z(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ht.UNAUTHENTICATED))}shutdown(){}}class cV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hV{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ue(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new _s,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new _s)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string",31837,{l:r}),new LT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string",2055,{h:e}),new ht(e)}}class dV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ue(this.o===void 0,3512);const r=i=>{i.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Gv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Gv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=mV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function te(t,e){return t<e?-1:t>e?1:0}function qf(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return te(r,s);{const i=FT(),o=gV(i.encode(Qv(t,n)),i.encode(Qv(e,n)));return o!==0?o:te(r,s)}}n+=r>65535?2:1}return te(t.length,e.length)}function Qv(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function gV(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return te(t[n],e[n]);return te(t.length,e.length)}function ji(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=-62135596800,Xv=1e6;class $e{static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Xv);return new $e(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Yv)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xv}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Yv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(e){return new J(e)}static min(){return new J(new $e(0,0))}static max(){return new J(new $e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="__name__";class fn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Y(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=fn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return te(e.length,n.length)}static compareSegments(e,n){const r=fn.isNumericId(e),s=fn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?fn.extractNumericId(e).compare(fn.extractNumericId(n)):qf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Or.fromString(e.substring(4,e.length-2))}}class xe extends fn{construct(e,n,r){return new xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new xe(n)}static emptyPath(){return new xe([])}}const yV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends fn{construct(e,n,r){return new Ze(e,n,r)}static isValidIdentifier(e){return yV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jv}static keyField(){return new Ze([Jv])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new W(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new W(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.path=e}static fromPath(e){return new q(xe.fromString(e))}static fromName(e){return new q(xe.fromString(e).popFirst(5))}static empty(){return new q(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new xe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=-1;function vV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=J.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new Ur(s,q.empty(),e)}function _V(t){return new Ur(t.readTime,t.key,Aa)}class Ur{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ur(J.min(),q.empty(),Aa)}static max(){return new Ur(J.max(),q.empty(),Aa)}}function wV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ji(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==xV)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(s=>s?L.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new L((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new L((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function TV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Wc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=-1;function qc(t){return t==null}function rc(t){return t===0&&1/t==-1/0}function SV(t){return typeof t=="number"&&Number.isInteger(t)&&!rc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="";function IV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Zv(e)),e=CV(t.get(n),e);return Zv(e)}function CV(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case BT:n+="";break;default:n+=i}}return n}function Zv(t){return t+BT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,n){this.comparator=e,this.root=n||Je.EMPTY}insert(e,n){return new Ae(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(e){return new Ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Je.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ul(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ul(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ul(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ul(this.root,e,this.comparator,!0)}}class Ul{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Je{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Je.RED,this.left=s??Je.EMPTY,this.right=i??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Je(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Je.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Je(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t_(this.data.getIterator())}getIteratorFrom(e){return new t_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof He)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new He(this.comparator);return n.data=e,n}}class t_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new rn([])}unionWith(e){let n=new He(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ji(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new $T("Invalid base64 string: "+i):i}}(e);return new nt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nt.EMPTY_BYTE_STRING=new nt("");const AV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(t){if(ue(!!t,39018),typeof t=="string"){let e=0;const n=AV.exec(t);if(ue(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zr(t){return typeof t=="string"?nt.fromBase64String(t):nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="server_timestamp",WT="__type__",qT="__previous_value__",KT="__local_write_time__";function Bm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[WT])===null||n===void 0?void 0:n.stringValue)===HT}function Kc(t){const e=t.mapValue.fields[qT];return Bm(e)?Kc(e):e}function Pa(t){const e=Br(t.mapValue.fields[KT].timestampValue);return new $e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n,r,s,i,o,a,u,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h}}const sc="(default)";class Ra{constructor(e,n){this.projectId=e,this.database=n||sc}static empty(){return new Ra("","")}get isDefaultDatabase(){return this.database===sc}isEqual(e){return e instanceof Ra&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="__type__",QT="__max__",Bl={mapValue:{fields:{__type__:{stringValue:QT}}}},YT="__vector__",ic="value";function $r(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bm(t)?4:kV(t)?9007199254740991:RV(t)?10:11:Y(28295,{value:t})}function Tn(t,e){if(t===e)return!0;const n=$r(t);if(n!==$r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pa(t).isEqual(Pa(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Br(s.timestampValue),a=Br(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return zr(s.bytesValue).isEqual(zr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ve(s.geoPointValue.latitude)===Ve(i.geoPointValue.latitude)&&Ve(s.geoPointValue.longitude)===Ve(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ve(s.integerValue)===Ve(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ve(s.doubleValue),a=Ve(i.doubleValue);return o===a?rc(o)===rc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ji(t.arrayValue.values||[],e.arrayValue.values||[],Tn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(e_(o)!==e_(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Tn(o[u],a[u])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}}function ka(t,e){return(t.values||[]).find(n=>Tn(n,e))!==void 0}function Oi(t,e){if(t===e)return 0;const n=$r(t),r=$r(e);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ve(i.integerValue||i.doubleValue),u=Ve(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return n_(t.timestampValue,e.timestampValue);case 4:return n_(Pa(t),Pa(e));case 5:return qf(t.stringValue,e.stringValue);case 6:return function(i,o){const a=zr(i),u=zr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=te(a[c],u[c]);if(h!==0)return h}return te(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=te(Ve(i.latitude),Ve(o.latitude));return a!==0?a:te(Ve(i.longitude),Ve(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return r_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,c,h;const f=i.fields||{},m=o.fields||{},y=(a=f[ic])===null||a===void 0?void 0:a.arrayValue,E=(u=m[ic])===null||u===void 0?void 0:u.arrayValue,S=te(((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:r_(y,E)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Bl.mapValue&&o===Bl.mapValue)return 0;if(i===Bl.mapValue)return 1;if(o===Bl.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const m=qf(u[f],h[f]);if(m!==0)return m;const y=Oi(a[u[f]],c[h[f]]);if(y!==0)return y}return te(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{Pe:n})}}function n_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return te(t,e);const n=Br(t),r=Br(e),s=te(n.seconds,r.seconds);return s!==0?s:te(n.nanos,r.nanos)}function r_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Oi(n[s],r[s]);if(i)return i}return te(n.length,r.length)}function Mi(t){return Kf(t)}function Kf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Br(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Kf(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Kf(n.fields[o])}`;return s+"}"}(t.mapValue):Y(61005,{value:t})}function fu(t){switch($r(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kc(t);return e?16+fu(e):16;case 5:return 2*t.stringValue.length;case 6:return zr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+fu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Zr(r.fields,(i,o)=>{s+=i.length+fu(o)}),s}(t.mapValue);default:throw Y(13486,{value:t})}}function Gf(t){return!!t&&"integerValue"in t}function zm(t){return!!t&&"arrayValue"in t}function s_(t){return!!t&&"nullValue"in t}function i_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pu(t){return!!t&&"mapValue"in t}function RV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[GT])===null||n===void 0?void 0:n.stringValue)===YT}function Yo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===QT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.value=e}static empty(){return new Nt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yo(n)}setAll(e){let n=Ze.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Yo(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());pu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];pu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Zr(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Nt(Yo(this.value))}}function XT(t){const e=[];return Zr(t.fields,(n,r)=>{const s=new Ze([n]);if(pu(r)){const i=XT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ft(e,0,J.min(),J.min(),J.min(),Nt.empty(),0)}static newFoundDocument(e,n,r,s){return new ft(e,1,n,J.min(),r,s,0)}static newNoDocument(e,n){return new ft(e,2,n,J.min(),J.min(),Nt.empty(),0)}static newUnknownDocument(e,n){return new ft(e,3,n,J.min(),J.min(),Nt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n){this.position=e,this.inclusive=n}}function o_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=Oi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function a_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n="asc"){this.field=e,this.dir=n}}function bV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{}class Ue extends JT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new DV(e,n,r):n==="array-contains"?new OV(e,r):n==="in"?new MV(e,r):n==="not-in"?new LV(e,r):n==="array-contains-any"?new FV(e,r):new Ue(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new VV(e,r):new jV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Oi(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(Oi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sn extends JT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Sn(e,n)}matches(e){return ZT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ZT(t){return t.op==="and"}function eS(t){return NV(t)&&ZT(t)}function NV(t){for(const e of t.filters)if(e instanceof Sn)return!1;return!0}function Qf(t){if(t instanceof Ue)return t.field.canonicalString()+t.op.toString()+Mi(t.value);if(eS(t))return t.filters.map(e=>Qf(e)).join(",");{const e=t.filters.map(n=>Qf(n)).join(",");return`${t.op}(${e})`}}function tS(t,e){return t instanceof Ue?function(r,s){return s instanceof Ue&&r.op===s.op&&r.field.isEqual(s.field)&&Tn(r.value,s.value)}(t,e):t instanceof Sn?function(r,s){return s instanceof Sn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&tS(o,s.filters[a]),!0):!1}(t,e):void Y(19439)}function nS(t){return t instanceof Ue?function(n){return`${n.field.canonicalString()} ${n.op} ${Mi(n.value)}`}(t):t instanceof Sn?function(n){return n.op.toString()+" {"+n.getFilters().map(nS).join(" ,")+"}"}(t):"Filter"}class DV extends Ue{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.matchesComparison(n)}}class VV extends Ue{constructor(e,n){super(e,"in",n),this.keys=rS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jV extends Ue{constructor(e,n){super(e,"not-in",n),this.keys=rS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class OV extends Ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zm(n)&&ka(n.arrayValue,this.value)}}class MV extends Ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ka(this.value.arrayValue,n)}}class LV extends Ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(ka(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ka(this.value.arrayValue,n)}}class FV extends Ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ka(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function l_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new UV(t,e,n,r,s,i,o)}function $m(t){const e=Z(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),qc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mi(r)).join(",")),e.Ie=n}return e.Ie}function Hm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!a_(t.startAt,e.startAt)&&a_(t.endAt,e.endAt)}function Yf(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function BV(t,e,n,r,s,i,o,a){return new Gc(t,e,n,r,s,i,o,a)}function Wm(t){return new Gc(t)}function u_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zV(t){return t.collectionGroup!==null}function Xo(t){const e=Z(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new He(Ze.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new ac(i,r))}),n.has(Ze.keyField().canonicalString())||e.Ee.push(new ac(Ze.keyField(),r))}return e.Ee}function _n(t){const e=Z(t);return e.de||(e.de=$V(e,Xo(t))),e.de}function $V(t,e){if(t.limitType==="F")return l_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ac(s.field,i)});const n=t.endAt?new oc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new oc(t.startAt.position,t.startAt.inclusive):null;return l_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xf(t,e,n){return new Gc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qc(t,e){return Hm(_n(t),_n(e))&&t.limitType===e.limitType}function sS(t){return`${$m(_n(t))}|lt:${t.limitType}`}function qs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>nS(s)).join(", ")}]`),qc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Mi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Mi(s)).join(",")),`Target(${r})`}(_n(t))}; limitType=${t.limitType})`}function Yc(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):q.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Xo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=o_(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Xo(r),s)||r.endAt&&!function(o,a,u){const c=o_(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Xo(r),s))}(t,e)}function HV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iS(t){return(e,n)=>{let r=!1;for(const s of Xo(t)){const i=WV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function WV(t,e,n){const r=t.field.isKeyField()?q.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?Oi(u,c):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return zT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new Ae(q.comparator);function Jn(){return qV}const oS=new Ae(q.comparator);function Do(...t){let e=oS;for(const n of t)e=e.insert(n.key,n);return e}function aS(t){let e=oS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ms(){return Jo()}function lS(){return Jo()}function Jo(){return new js(t=>t.toString(),(t,e)=>t.isEqual(e))}const KV=new Ae(q.comparator),GV=new He(q.comparator);function se(...t){let e=GV;for(const n of t)e=e.add(n);return e}const QV=new He(te);function YV(){return QV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rc(e)?"-0":e}}function uS(t){return{integerValue:""+t}}function XV(t,e){return SV(e)?uS(e):qm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this._=void 0}}function JV(t,e,n){return t instanceof lc?function(s,i){const o={fields:{[WT]:{stringValue:HT},[KT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Bm(i)&&(i=Kc(i)),i&&(o.fields[qT]=i),{mapValue:o}}(n,e):t instanceof ba?hS(t,e):t instanceof Na?dS(t,e):function(s,i){const o=cS(s,i),a=c_(o)+c_(s.Re);return Gf(o)&&Gf(s.Re)?uS(a):qm(s.serializer,a)}(t,e)}function ZV(t,e,n){return t instanceof ba?hS(t,e):t instanceof Na?dS(t,e):n}function cS(t,e){return t instanceof uc?function(r){return Gf(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class lc extends Xc{}class ba extends Xc{constructor(e){super(),this.elements=e}}function hS(t,e){const n=fS(e);for(const r of t.elements)n.some(s=>Tn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Na extends Xc{constructor(e){super(),this.elements=e}}function dS(t,e){let n=fS(e);for(const r of t.elements)n=n.filter(s=>!Tn(s,r));return{arrayValue:{values:n}}}class uc extends Xc{constructor(e,n){super(),this.serializer=e,this.Re=n}}function c_(t){return Ve(t.integerValue||t.doubleValue)}function fS(t){return zm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ej(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ba&&s instanceof ba||r instanceof Na&&s instanceof Na?ji(r.elements,s.elements,Tn):r instanceof uc&&s instanceof uc?Tn(r.Re,s.Re):r instanceof lc&&s instanceof lc}(t.transform,e.transform)}class tj{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jc{}function pS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gS(t.key,zn.none()):new Zc(t.key,t.data,zn.none());{const n=t.data,r=Nt.empty();let s=new He(Ze.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Os(t.key,r,new rn(s.toArray()),zn.none())}}function nj(t,e,n){t instanceof Zc?function(s,i,o){const a=s.value.clone(),u=d_(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Os?function(s,i,o){if(!mu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=d_(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(mS(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Zo(t,e,n,r){return t instanceof Zc?function(i,o,a,u){if(!mu(i.precondition,o))return a;const c=i.value.clone(),h=f_(i.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Os?function(i,o,a,u){if(!mu(i.precondition,o))return a;const c=f_(i.fieldTransforms,u,o),h=o.data;return h.setAll(mS(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return mu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function rj(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=cS(r.transform,s||null);i!=null&&(n===null&&(n=Nt.empty()),n.set(r.field,i))}return n||null}function h_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ji(r,s,(i,o)=>ej(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zc extends Jc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Os extends Jc{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function mS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function d_(t,e,n){const r=new Map;ue(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,ZV(o,a,n[s]))}return r}function f_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,JV(i,o,e))}return r}class gS extends Jc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sj extends Jc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&nj(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=pS(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&ji(this.mutations,e.mutations,(n,r)=>h_(n,r))&&ji(this.baseMutations,e.baseMutations,(n,r)=>h_(n,r))}}class Km{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ue(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return KV}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Km(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me,ie;function lj(t){switch(t){case F.OK:return Y(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function yS(t){if(t===void 0)return Xn("GRPC error has no .code"),F.UNKNOWN;switch(t){case Me.OK:return F.OK;case Me.CANCELLED:return F.CANCELLED;case Me.UNKNOWN:return F.UNKNOWN;case Me.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Me.INTERNAL:return F.INTERNAL;case Me.UNAVAILABLE:return F.UNAVAILABLE;case Me.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Me.NOT_FOUND:return F.NOT_FOUND;case Me.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Me.ABORTED:return F.ABORTED;case Me.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Me.DATA_LOSS:return F.DATA_LOSS;default:return Y(39323,{code:t})}}(ie=Me||(Me={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=new Or([4294967295,4294967295],0);function p_(t){const e=FT().encode(t),n=new bT;return n.update(e),new Uint8Array(n.digest())}function m_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Or([n,r],0),new Or([s,i],0)]}class Gm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vo(`Invalid padding: ${n}`);if(r<0)throw new Vo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vo(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Or.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Or.fromNumber(r)));return s.compare(uj)===1&&(s=new Or([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=p_(e),[r,s]=m_(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.be(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Gm(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=p_(e),[r,s]=m_(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ya.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new eh(J.min(),s,new Ae(te),Jn(),se())}}class Ya{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ya(r,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class vS{constructor(e,n){this.targetId=e,this.Ce=n}}class _S{constructor(e,n,r=nt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class g_{constructor(){this.Fe=0,this.Me=y_(),this.xe=nt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=se(),n=se(),r=se();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Y(38017,{changeType:i})}}),new Ya(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=y_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ue(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class cj{constructor(e){this.ze=e,this.je=new Map,this.He=Jn(),this.Je=zl(),this.Ye=zl(),this.Ze=new Ae(te)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Yf(i))if(r===0){const o=new q(i.path);this.tt(n,o,ft.newNoDocument(o,J.min()))}else ue(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),u=a?this.lt(a,e,o):1;if(u!==0){this.st(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=zr(r).toUint8Array()}catch(u){if(u instanceof $T)return Vi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Gm(o,s,i)}catch(u){return Vi(u instanceof Vo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&Yf(a.target)){const u=new q(a.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,ft.newNoDocument(u,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=se();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this._t(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new eh(e,n,this.Ze,this.He,r);return this.He=Jn(),this.Je=zl(),this.Ye=zl(),this.Ze=new Ae(te),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new g_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new He(te),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new He(te),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new g_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function zl(){return new Ae(q.comparator)}function y_(){return new Ae(q.comparator)}const hj={asc:"ASCENDING",desc:"DESCENDING"},dj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fj={and:"AND",or:"OR"};class pj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jf(t,e){return t.useProto3Json||qc(e)?e:{value:e}}function cc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mj(t,e){return cc(t,e.toTimestamp())}function wn(t){return ue(!!t,49232),J.fromTimestamp(function(n){const r=Br(n);return new $e(r.seconds,r.nanos)}(t))}function Qm(t,e){return Zf(t,e).canonicalString()}function Zf(t,e){const n=function(s){return new xe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function xS(t){const e=xe.fromString(t);return ue(CS(e),10190,{key:e.toString()}),e}function ep(t,e){return Qm(t.databaseId,e.path)}function vd(t,e){const n=xS(e);if(n.get(1)!==t.databaseId.projectId)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(TS(n))}function ES(t,e){return Qm(t.databaseId,e)}function gj(t){const e=xS(t);return e.length===4?xe.emptyPath():TS(e)}function tp(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TS(t){return ue(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function v_(t,e,n){return{name:ep(t,e),fields:n.value.mapValue.fields}}function yj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Y(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(ue(h===void 0||typeof h=="string",58123),nt.fromBase64String(h||"")):(ue(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),nt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?F.UNKNOWN:yS(c.code);return new W(h,c.message||"")}(o);n=new _S(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=vd(t,r.document.name),i=wn(r.document.updateTime),o=r.document.createTime?wn(r.document.createTime):J.min(),a=new Nt({mapValue:{fields:r.document.fields}}),u=ft.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new gu(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=vd(t,r.document),i=r.readTime?wn(r.readTime):J.min(),o=ft.newNoDocument(s,i),a=r.removedTargetIds||[];n=new gu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=vd(t,r.document),i=r.removedTargetIds||[];n=new gu([],i,s,null)}else{if(!("filter"in e))return Y(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new aj(s,i),a=r.targetId;n=new vS(a,o)}}return n}function vj(t,e){let n;if(e instanceof Zc)n={update:v_(t,e.key,e.value)};else if(e instanceof gS)n={delete:ep(t,e.key)};else if(e instanceof Os)n={update:v_(t,e.key,e.data),updateMask:Aj(e.fieldMask)};else{if(!(e instanceof sj))return Y(16599,{ft:e.type});n={verify:ep(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof lc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ba)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Na)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof uc)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw Y(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:mj(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Y(27497)}(t,e.precondition)),n}function _j(t,e){return t&&t.length>0?(ue(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?wn(s.updateTime):wn(i);return o.isEqual(J.min())&&(o=wn(i)),new tj(o,s.transformResults||[])}(n,e))):[]}function wj(t,e){return{documents:[ES(t,e.path)]}}function xj(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ES(t,s);const i=function(c){if(c.length!==0)return IS(Sn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:Ks(m.field),direction:Sj(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Jf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:s}}function Ej(t){let e=gj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ue(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=SS(f);return m instanceof Sn&&eS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(E){return new ac(Gs(E.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,qc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,y=f.values||[];return new oc(y,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,y=f.values||[];return new oc(y,m)}(n.endAt)),BV(e,s,o,i,a,"F",u,c)}function Tj(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Gs(n.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Gs(n.unaryFilter.field);return Ue.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Gs(n.unaryFilter.field);return Ue.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Gs(n.unaryFilter.field);return Ue.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ue.create(Gs(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Sn.create(n.compositeFilter.filters.map(r=>SS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t})}function Sj(t){return hj[t]}function Ij(t){return dj[t]}function Cj(t){return fj[t]}function Ks(t){return{fieldPath:t.canonicalString()}}function Gs(t){return Ze.fromServerFormat(t.fieldPath)}function IS(t){return t instanceof Ue?function(n){if(n.op==="=="){if(i_(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NAN"}};if(s_(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i_(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NOT_NAN"}};if(s_(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(n.field),op:Ij(n.op),value:n.value}}}(t):t instanceof Sn?function(n){const r=n.getFilters().map(s=>IS(s));return r.length===1?r[0]:{compositeFilter:{op:Cj(n.op),filters:r}}}(t):Y(54877,{filter:t})}function Aj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function CS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n,r,s,i=J.min(),o=J.min(),a=nt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e){this.wt=e}}function Rj(t){const e=Ej({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(){this.Cn=new bj}addToCollectionParentIndex(e,n){return this.Cn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Ur.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Ur.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class bj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new He(xe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new He(xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AS=41943040;class St{static withCacheSize(e){return new St(e,St.DEFAULT_COLLECTION_PERCENTILE,St.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */St.DEFAULT_COLLECTION_PERCENTILE=10,St.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,St.DEFAULT=new St(AS,St.DEFAULT_COLLECTION_PERCENTILE,St.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),St.DISABLED=new St(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Li(0)}static lr(){return new Li(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="LruGarbageCollector",Nj=1048576;function x_([t,e],[n,r]){const s=te(t,n);return s===0?te(e,r):s}class Dj{constructor(e){this.Er=e,this.buffer=new He(x_),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();x_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Vj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){$(w_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zi(n)?$(w_,"Ignoring IndexedDB error during garbage collection: ",n):await Ji(n)}await this.mr(3e5)})}}class jj{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(Wc.le);const r=new Dj(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(__)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),__):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,a,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Ws()<=re.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function Oj(t,e){return new jj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(){this.changes=new js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Zo(r.mutation,s,rn.empty(),$e.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const s=ms();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Do();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ms();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Jn();const o=Jo(),a=function(){return Jo()}();return n.forEach((u,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Os)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Zo(h.mutation,c,h.mutation.getFieldMask(),$e.now())):o.set(c.key,rn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new Lj(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Jo();let s=new Ae((o,a)=>o-a),i=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||rn.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(s.get(a.batchId)||se()).add(u);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=lS();h.forEach(m=>{if(!i.has(m)){const y=pS(n.get(m),r.get(m));y!==null&&f.set(m,y),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):L.resolve(ms());let a=Aa,u=i;return o.next(c=>L.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,se())).next(h=>({batchId:a,changes:aS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let s=Do();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Do();return this.indexManager.getCollectionParents(e,i).next(a=>L.forEach(a,u=>{const c=function(f,m){return new Gc(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,ft.newInvalidDocument(h)))});let a=Do();return o.forEach((u,c)=>{const h=i.get(u);h!==void 0&&Zo(h.mutation,c,rn.empty(),$e.now()),Yc(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return L.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:wn(s.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:Rj(s.bundledQuery),readTime:wn(s.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(){this.overlays=new Ae(q.comparator),this.Qr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ms();return L.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const s=ms(),i=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return L.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ae((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=ms(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=ms(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return L.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new oj(n,r));let i=this.Qr.get(n);i===void 0&&(i=se(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(){this.sessionToken=nt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this.$r=new He(qe.Ur),this.Kr=new He(qe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new qe(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new qe(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new q(new xe([])),r=new qe(n,e),s=new qe(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new q(new xe([])),r=new qe(n,e),s=new qe(n,e+1);let i=se();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new qe(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qe{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return q.comparator(e.key,n.key)||te(e.Zr,n.Zr)}static Wr(e,n){return te(e.Zr,n.Zr)||q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new He(qe.Ur)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ij(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Xr=this.Xr.add(new qe(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return L.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?Um:this.nr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qe(n,0),s=new qe(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const a=this.ei(o.Zr);i.push(a)}),L.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(te);return n.forEach(s=>{const i=new qe(s,0),o=new qe(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],a=>{r=r.add(a.Zr)})}),L.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;q.isDocumentKey(i)||(i=i.child(""));const o=new qe(new q(i),0);let a=new He(te);return this.Xr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.Zr)),!0)},o),L.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ue(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return L.forEach(n.mutations,s=>{const i=new qe(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new qe(n,0),s=this.Xr.firstAfterOrEqual(r);return L.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.ii=e,this.docs=function(){return new Ae(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let r=Jn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ft.newInvalidDocument(s))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Jn();const o=n.path,a=new q(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||wV(_V(h),r)<=0||(s.has(h.key)||Yc(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return L.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Y(9500)}si(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Wj(this)}getSize(e){return L.resolve(this.size)}}class Wj extends Mj{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e){this.persistence=e,this.oi=new js(n=>$m(n),Hm),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this._i=0,this.ai=new Ym,this.targetCount=0,this.ui=Li.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),L.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Li(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Tr(n),L.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),L.waitFor(i).next(()=>s)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),L.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n){this.ci={},this.overlays={},this.li=new Wc(0),this.hi=!1,this.hi=!0,this.Pi=new zj,this.referenceDelegate=e(this),this.Ti=new qj(this),this.indexManager=new kj,this.remoteDocumentCache=function(s){return new Hj(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Pj(n),this.Ei=new Uj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Bj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new $j(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const s=new Kj(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return L.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class Kj extends EV{constructor(e){super(),this.currentSequenceNumber=e}}class Xm{constructor(e){this.persistence=e,this.Vi=new Ym,this.mi=null}static fi(e){return new Xm(e)}get gi(){if(this.mi)return this.mi;throw Y(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),L.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.gi,r=>{const s=q.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,J.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return L.or([()=>L.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class hc{constructor(e,n){this.persistence=e,this.yi=new js(r=>IV(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Oj(this,n)}static fi(e,n){return new hc(e,n)}di(){}Ai(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return L.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?L.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,J.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),L.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fu(e.data.value)),n}Dr(e,n,r){return L.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return L.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=se(),s=se();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Jm(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Tb()?8:TV(gt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.bs(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Gj;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Ws()<=re.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),L.resolve()):(Ws()<=re.DEBUG&&$("QueryEngine","Query:",qs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Ws()<=re.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(n))):L.resolve())}ws(e,n){if(u_(n))return L.resolve(null);let r=_n(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Xf(n,null,"F"),r=_n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=se(...i);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.vs(n,a);return this.Cs(n,c,o,u.readTime)?this.ws(e,Xf(n,null,"F")):this.Fs(e,c,n,u)}))})))}bs(e,n,r,s){return u_(n)||s.isEqual(J.min())?L.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?L.resolve(null):(Ws()<=re.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),qs(n)),this.Fs(e,o,n,vV(s,Aa)).next(a=>a))})}vs(e,n){let r=new He(iS(e));return n.forEach((s,i)=>{Yc(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ws()<=re.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",qs(n)),this.ys.getDocumentsMatchingQuery(e,n,Ur.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="LocalStore",Yj=3e8;class Xj{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Ae(te),this.Os=new js(i=>$m(i),Hm),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fj(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function Jj(t,e,n,r){return new Xj(t,e,n,r)}async function RS(t,e){const n=Z(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=se();for(const c of s){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ks:c,removedBatchIds:o,addedBatchIds:a}))})})}function Zj(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,m=f.keys();let y=L.resolve();return m.forEach(E=>{y=y.next(()=>h.getEntry(u,E)).next(S=>{const A=c.docVersions.get(E);ue(A!==null,48541),S.version.compareTo(A)<0&&(f.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),h.addEntry(S)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=se();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function kS(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function eO(t,e){const n=Z(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Ti.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(i,h.addedDocuments,f)));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(nt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(f,y),function(S,A,w){return S.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=Yj?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,y,h)&&a.push(n.Ti.updateTargetData(i,y))});let u=Jn(),c=se();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(tO(i,o,e.documentUpdates).next(h=>{u=h.qs,c=h.Qs})),!r.isEqual(J.min())){const h=n.Ti.getLastRemoteSnapshotVersion(i).next(f=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.xs=s,i))}function tO(t,e,n){let r=se(),s=se();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Jn();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):$(Zm,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{qs:o,Qs:s}})}function nO(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Um),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rO(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,L.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new Er(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function np(t,e,n){const r=Z(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Zi(o))throw o;$(Zm,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function E_(t,e,n){const r=Z(t);let s=J.min(),i=se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=Z(u),m=f.Os.get(h);return m!==void 0?L.resolve(f.xs.get(m)):f.Ti.getTargetData(c,h)}(r,o,_n(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:J.min(),n?i:se())).next(a=>(sO(r,HV(e),a),{documents:a,$s:i})))}function sO(t,e,n){let r=t.Ns.get(e)||J.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class T_{constructor(){this.activeTargetIds=YV()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iO{constructor(){this.xo=new T_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new T_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="ConnectivityMonitor";class I_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){$(S_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){$(S_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l=null;function rp(){return $l===null?$l=function(){return 268435456+Math.round(2147483648*Math.random())}():$l++,"0x"+$l.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="RestConnection",aO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lO{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===sc?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=rp(),a=this.jo(e,n.toUriEncodedString());$(_d,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,s,i);const{host:c}=new URL(a),h=$a(c);return this.Jo(e,a,u,r,h).then(f=>($(_d,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Vi(_d,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xi}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=aO[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt="WebChannelConnection";class cO extends lO{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=rp();return new Promise((a,u)=>{const c=new NT;c.setWithCredentials(!0),c.listenOnce(DT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case du.NO_ERROR:const f=c.getResponseJson();$(lt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case du.TIMEOUT:$(lt,`RPC '${e}' ${o} timed out`),u(new W(F.DEADLINE_EXCEEDED,"Request time out"));break;case du.HTTP_ERROR:const m=c.getStatus();if($(lt,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const E=y==null?void 0:y.error;if(E&&E.status&&E.message){const S=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(v)>=0?v:F.UNKNOWN}(E.status);u(new W(S,E.message))}else u(new W(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new W(F.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{h_:e,streamId:o,P_:c.getLastErrorCode(),T_:c.getLastError()})}}finally{$(lt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);$(lt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",h,r,15)})}I_(e,n,r){const s=rp(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=OT(),a=jT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");$(lt,`Creating RPC '${e}' stream ${s}: ${h}`,u);const f=o.createWebChannel(h,u);this.E_(f);let m=!1,y=!1;const E=new uO({Zo:A=>{y?$(lt,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(m||($(lt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),$(lt,`RPC '${e}' stream ${s} sending:`,A),f.send(A))},Xo:()=>f.close()}),S=(A,w,v)=>{A.listen(w,T=>{try{v(T)}catch(b){setTimeout(()=>{throw b},0)}})};return S(f,No.EventType.OPEN,()=>{y||($(lt,`RPC '${e}' stream ${s} transport opened.`),E.__())}),S(f,No.EventType.CLOSE,()=>{y||(y=!0,$(lt,`RPC '${e}' stream ${s} transport closed`),E.u_(),this.d_(f))}),S(f,No.EventType.ERROR,A=>{y||(y=!0,Vi(lt,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),E.u_(new W(F.UNAVAILABLE,"The operation could not be completed")))}),S(f,No.EventType.MESSAGE,A=>{var w;if(!y){const v=A.data[0];ue(!!v,16349);const T=v,b=(T==null?void 0:T.error)||((w=T[0])===null||w===void 0?void 0:w.error);if(b){$(lt,`RPC '${e}' stream ${s} received error:`,b);const j=b.status;let D=function(C){const P=Me[C];if(P!==void 0)return yS(P)}(j),I=b.message;D===void 0&&(D=F.INTERNAL,I="Unknown error status: "+j+" with message "+b.message),y=!0,E.u_(new W(D,I)),f.close()}else $(lt,`RPC '${e}' stream ${s} received:`,v),E.c_(v)}}),S(a,VT.STAT_EVENT,A=>{A.stat===Wf.PROXY?$(lt,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===Wf.NOPROXY&&$(lt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.a_()},0),E}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function wd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t){return new pj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&$("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="PersistentStream";class NS{constructor(e,n,r,s,i,o,a,u){this.xi=e,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new bS(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Xn(n.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new W(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return $(C_,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():($(C_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hO extends NS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=yj(this.serializer,e),r=function(i){if(!("targetChange"in i))return J.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?wn(o.readTime):J.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=tp(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=Yf(u)?{documents:wj(i,u)}:{query:xj(i,u).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=wS(i,o.resumeToken);const c=Jf(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(J.min())>0){a.readTime=cc(i,o.snapshotVersion.toTimestamp());const c=Jf(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Tj(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=tp(this.serializer),n.removeTarget=e,this.Q_(n)}}class dO extends NS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=_j(e.writeResults,e.commitTime),r=wn(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=tp(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>vj(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{}class pO extends fO{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,Zf(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new W(F.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,Zf(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(F.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class mO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Xn(n),this.ua=!1):$("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="RemoteStore";class gO{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(o=>{r.enqueueAndForget(async()=>{Ms(this)&&($(bs,"Restarting streams for network reachability change."),await async function(u){const c=Z(u);c.da.add(4),await Xa(c),c.Va.set("Unknown"),c.da.delete(4),await nh(c)}(this))})}),this.Va=new mO(r,s)}}async function nh(t){if(Ms(t))for(const e of t.Aa)await e(!0)}async function Xa(t){for(const e of t.Aa)await e(!1)}function DS(t,e){const n=Z(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),rg(n)?ng(n):eo(n).N_()&&tg(n,e))}function eg(t,e){const n=Z(t),r=eo(n);n.Ea.delete(e),r.N_()&&VS(n,e),n.Ea.size===0&&(r.N_()?r.k_():Ms(n)&&n.Va.set("Unknown"))}function tg(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}eo(t).Z_(e)}function VS(t,e){t.ma.Ke(e),eo(t).X_(e)}function ng(t){t.ma=new cj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),eo(t).start(),t.Va.ca()}function rg(t){return Ms(t)&&!eo(t).O_()&&t.Ea.size>0}function Ms(t){return Z(t).da.size===0}function jS(t){t.ma=void 0}async function yO(t){t.Va.set("Online")}async function vO(t){t.Ea.forEach((e,n)=>{tg(t,e)})}async function _O(t,e){jS(t),rg(t)?(t.Va.Pa(e),ng(t)):t.Va.set("Unknown")}async function wO(t,e,n){if(t.Va.set("Online"),e instanceof _S&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ea.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ea.delete(a),s.ma.removeTarget(a))}(t,e)}catch(r){$(bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dc(t,r)}else if(e instanceof gu?t.ma.Xe(e):e instanceof vS?t.ma.ot(e):t.ma.nt(e),!n.isEqual(J.min()))try{const r=await kS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.ma.It(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.Ea.get(c);h&&i.Ea.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=i.Ea.get(u);if(!h)return;i.Ea.set(u,h.withResumeToken(nt.EMPTY_BYTE_STRING,h.snapshotVersion)),VS(i,u);const f=new Er(h.target,u,c,h.sequenceNumber);tg(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){$(bs,"Failed to raise snapshot:",r),await dc(t,r)}}async function dc(t,e,n){if(!Zi(e))throw e;t.da.add(1),await Xa(t),t.Va.set("Offline"),n||(n=()=>kS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$(bs,"Retrying IndexedDB access"),await n(),t.da.delete(1),await nh(t)})}function OS(t,e){return e().catch(n=>dc(t,n,e))}async function rh(t){const e=Z(t),n=Hr(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Um;for(;xO(e);)try{const s=await nO(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,EO(e,s)}catch(s){await dc(e,s)}MS(e)&&LS(e)}function xO(t){return Ms(t)&&t.Ia.length<10}function EO(t,e){t.Ia.push(e);const n=Hr(t);n.N_()&&n.ea&&n.ta(e.mutations)}function MS(t){return Ms(t)&&!Hr(t).O_()&&t.Ia.length>0}function LS(t){Hr(t).start()}async function TO(t){Hr(t).ia()}async function SO(t){const e=Hr(t);for(const n of t.Ia)e.ta(n.mutations)}async function IO(t,e,n){const r=t.Ia.shift(),s=Km.from(r,e,n);await OS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await rh(t)}async function CO(t,e){e&&Hr(t).ea&&await async function(r,s){if(function(o){return lj(o)&&o!==F.ABORTED}(s.code)){const i=r.Ia.shift();Hr(r).L_(),await OS(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await rh(r)}}(t,e),MS(t)&&LS(t)}async function A_(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),$(bs,"RemoteStore received new credentials");const r=Ms(n);n.da.add(3),await Xa(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await nh(n)}async function AO(t,e){const n=Z(t);e?(n.da.delete(2),await nh(n)):e||(n.da.add(2),await Xa(n),n.Va.set("Unknown"))}function eo(t){return t.fa||(t.fa=function(n,r,s){const i=Z(n);return i.oa(),new hO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:yO.bind(null,t),n_:vO.bind(null,t),i_:_O.bind(null,t),Y_:wO.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),rg(t)?ng(t):t.Va.set("Unknown")):(await t.fa.stop(),jS(t))})),t.fa}function Hr(t){return t.ga||(t.ga=function(n,r,s){const i=Z(n);return i.oa(),new dO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:TO.bind(null,t),i_:CO.bind(null,t),na:SO.bind(null,t),ra:IO.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await rh(t)):(await t.ga.stop(),t.Ia.length>0&&($(bs,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new sg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(t,e){if(Xn("AsyncQueue",`${e}: ${t}`),Zi(t))return new W(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{static emptySet(e){return new Ti(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=Do(),this.sortedSet=new Ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ti)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ti;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.pa=new Ae(q.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Y(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fi{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Fi(e,n,Ti.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class RO{constructor(){this.queries=R_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Z(n),i=s.queries;s.queries=R_(),i.forEach((o,a)=>{for(const u of a.Sa)u.onError(r)})})(this,new W(F.ABORTED,"Firestore shutting down"))}}function R_(){return new js(t=>sS(t),Qc)}async function kO(t,e){const n=Z(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Da()&&e.va()&&(r=2):(i=new PO,r=e.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=ig(o,`Initialization of query '${qs(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.Fa(n.onlineState),i.ba&&e.Ma(i.ba)&&og(n)}async function bO(t,e){const n=Z(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.va()?0:1:!i.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function NO(t,e){const n=Z(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Ma(s)&&(r=!0);o.ba=s}}r&&og(n)}function DO(t,e,n){const r=Z(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function og(t){t.Ca.forEach(e=>{e.next()})}var sp,k_;(k_=sp||(sp={})).xa="default",k_.Cache="cache";class VO{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Fi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Fi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.key=e}}class US{constructor(e){this.key=e}}class jO{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=se(),this.mutatedKeys=se(),this.Za=iS(e),this.Xa=new Ti(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new P_,s=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),y=Yc(this.query,f)?f:null,E=!!m&&this.mutatedKeys.has(m.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let A=!1;m&&y?m.data.isEqual(y.data)?E!==S&&(r.track({type:3,doc:y}),A=!0):this.ru(m,y)||(r.track({type:2,doc:y}),A=!0,(u&&this.Za(y,u)>0||c&&this.Za(y,c)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),A=!0):m&&!y&&(r.track({type:1,doc:m}),A=!0,(u||c)&&(a=!0)),A&&(y?(o=o.add(y),i=S?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Xa:o,nu:r,Cs:a,mutatedKeys:i}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((h,f)=>function(y,E){const S=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:A})}};return S(y)-S(E)}(h.type,f.type)||this.Za(h.doc,f.doc)),this.iu(r),s=s!=null&&s;const a=n&&!s?this.su():[],u=this.Ya.size===0&&this.current&&!s?1:0,c=u!==this.Ja;return this.Ja=u,o.length!==0||c?{snapshot:new Fi(this.query,e.Xa,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new P_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=se(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new US(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new FS(r))}),n}au(e){this.Ha=e.$s,this.Ya=se();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Fi.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const ag="SyncEngine";class OO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class MO{constructor(e){this.key=e,this.cu=!1}}class LO{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new js(a=>sS(a),Qc),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ae(q.comparator),this.Eu=new Map,this.du=new Ym,this.Au={},this.Ru=new Map,this.Vu=Li.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function FO(t,e,n=!0){const r=qS(t);let s;const i=r.hu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await BS(r,e,n,!0),s}async function UO(t,e){const n=qS(t);await BS(n,e,!0,!1)}async function BS(t,e,n,r){const s=await rO(t.localStore,_n(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await BO(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&DS(t.remoteStore,s),a}async function BO(t,e,n,r,s){t.fu=(f,m,y)=>async function(S,A,w,v){let T=A.view.tu(w);T.Cs&&(T=await E_(S.localStore,A.query,!1).then(({documents:I})=>A.view.tu(I,T)));const b=v&&v.targetChanges.get(A.targetId),j=v&&v.targetMismatches.get(A.targetId)!=null,D=A.view.applyChanges(T,S.isPrimaryClient,b,j);return N_(S,A.targetId,D.ou),D.snapshot}(t,f,m,y);const i=await E_(t.localStore,e,!0),o=new jO(e,i.$s),a=o.tu(i.documents),u=Ya.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);N_(t,n,c.ou);const h=new OO(e,n,o);return t.hu.set(e,h),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),c.snapshot}async function zO(t,e,n){const r=Z(t),s=r.hu.get(e),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(o=>!Qc(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await np(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&eg(r.remoteStore,s.targetId),ip(r,s.targetId)}).catch(Ji)):(ip(r,s.targetId),await np(r.localStore,s.targetId,!0))}async function $O(t,e){const n=Z(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),eg(n.remoteStore,r.targetId))}async function HO(t,e,n){const r=XO(t);try{const s=await function(o,a){const u=Z(o),c=$e.now(),h=a.reduce((y,E)=>y.add(E.key),se());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=Jn(),S=se();return u.Bs.getEntries(y,h).next(A=>{E=A,E.forEach((w,v)=>{v.isValidDocument()||(S=S.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,E)).next(A=>{f=A;const w=[];for(const v of a){const T=rj(v,f.get(v.key).overlayedDocument);T!=null&&w.push(new Os(v.key,T,XT(T.value.mapValue),zn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,w,a)}).next(A=>{m=A;const w=A.applyToLocalDocumentSet(f,S);return u.documentOverlayCache.saveOverlays(y,A.batchId,w)})}).then(()=>({batchId:m.batchId,changes:aS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.Au[o.currentUser.toKey()];c||(c=new Ae(te)),c=c.insert(a,u),o.Au[o.currentUser.toKey()]=c}(r,s.batchId,n),await Ja(r,s.changes),await rh(r.remoteStore)}catch(s){const i=ig(s,"Failed to persist write");n.reject(i)}}async function zS(t,e){const n=Z(t);try{const r=await eO(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(ue(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.cu=!0:s.modifiedDocuments.size>0?ue(o.cu,14607):s.removedDocuments.size>0&&(ue(o.cu,42227),o.cu=!1))}),await Ja(n,r,e)}catch(r){await Ji(r)}}function b_(t,e,n){const r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((i,o)=>{const a=o.view.Fa(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=Z(o);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const m of f.Sa)m.Fa(a)&&(c=!0)}),c&&og(u)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WO(t,e,n){const r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new Ae(q.comparator);o=o.insert(i,ft.newNoDocument(i,J.min()));const a=se().add(i),u=new eh(J.min(),new Map,new Ae(te),o,a);await zS(r,u),r.Iu=r.Iu.remove(i),r.Eu.delete(e),lg(r)}else await np(r.localStore,e,!1).then(()=>ip(r,e,n)).catch(Ji)}async function qO(t,e){const n=Z(t),r=e.batch.batchId;try{const s=await Zj(n.localStore,e);HS(n,r,null),$S(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ja(n,s)}catch(s){await Ji(s)}}async function KO(t,e,n){const r=Z(t);try{const s=await function(o,a){const u=Z(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(ue(f!==null,37113),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);HS(r,e,n),$S(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ja(r,s)}catch(s){await Ji(s)}}function $S(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function HS(t,e,n){const r=Z(t);let s=r.Au[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function ip(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||WS(t,r)})}function WS(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(eg(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),lg(t))}function N_(t,e,n){for(const r of n)r instanceof FS?(t.du.addReference(r.key,e),GO(t,r)):r instanceof US?($(ag,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||WS(t,r.key)):Y(19791,{pu:r})}function GO(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||($(ag,"New document in limbo: "+n),t.Tu.add(r),lg(t))}function lg(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new q(xe.fromString(e)),r=t.Vu.next();t.Eu.set(r,new MO(n)),t.Iu=t.Iu.insert(n,r),DS(t.remoteStore,new Er(_n(Wm(n.path)),r,"TargetPurposeLimboResolution",Wc.le))}}async function Ja(t,e,n){const r=Z(t),s=[],i=[],o=[];r.hu.isEmpty()||(r.hu.forEach((a,u)=>{o.push(r.fu(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){s.push(c);const f=Jm.Rs(u.targetId,c);i.push(f)}}))}),await Promise.all(o),r.lu.Y_(s),await async function(u,c){const h=Z(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>L.forEach(c,m=>L.forEach(m.ds,y=>h.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>L.forEach(m.As,y=>h.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!Zi(f))throw f;$(Zm,"Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const y=h.xs.get(m),E=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(E);h.xs=h.xs.insert(m,S)}}}(r.localStore,i))}async function QO(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){$(ag,"User change. New user:",e.toKey());const r=await RS(n.localStore,e);n.currentUser=e,function(i,o){i.Ru.forEach(a=>{a.forEach(u=>{u.reject(new W(F.CANCELLED,o))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ja(n,r.ks)}}function YO(t,e){const n=Z(t),r=n.Eu.get(e);if(r&&r.cu)return se().add(r.key);{let s=se();const i=n.Pu.get(e);if(!i)return s;for(const o of i){const a=n.hu.get(o);s=s.unionWith(a.view.eu)}return s}}function qS(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WO.bind(null,e),e.lu.Y_=NO.bind(null,e.eventManager),e.lu.gu=DO.bind(null,e.eventManager),e}function XO(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KO.bind(null,e),e}class fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=th(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return Jj(this.persistence,new Qj,e.initialUser,this.serializer)}Su(e){return new PS(Xm.fi,this.serializer)}bu(e){return new iO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fc.provider={build:()=>new fc};class JO extends fc{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ue(this.persistence.referenceDelegate instanceof hc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Vj(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?St.withCacheSize(this.cacheSizeBytes):St.DEFAULT;return new PS(r=>hc.fi(r,n),this.serializer)}}class op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QO.bind(null,this.syncEngine),await AO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RO}()}createDatastore(e){const n=th(e.databaseInfo.databaseId),r=function(i){return new cO(i)}(e.databaseInfo);return function(i,o,a,u){return new pO(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new gO(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>b_(this.syncEngine,n,0),function(){return I_.C()?new I_:new oO}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,h){const f=new LO(s,i,o,a,u,c);return h&&(f.mu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Z(s);$(bs,"RemoteStore shutting down."),i.da.add(5),await Xa(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}op.provider={build:()=>new op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Xn("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="FirestoreClient";class e4{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ht.UNAUTHENTICATED,this.clientId=UT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{$(Wr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>($(Wr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ig(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xd(t,e){t.asyncQueue.verifyOperationInProgress(),$(Wr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await RS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function D_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await t4(t);$(Wr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>A_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>A_(e.remoteStore,s)),t._onlineComponents=e}async function t4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$(Wr,"Using user provided OfflineComponentProvider");try{await xd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Vi("Error using user provided cache. Falling back to memory cache: "+n),await xd(t,new fc)}}else $(Wr,"Using default OfflineComponentProvider"),await xd(t,new JO(void 0));return t._offlineComponents}async function KS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($(Wr,"Using user provided OnlineComponentProvider"),await D_(t,t._uninitializedComponentsProvider._online)):($(Wr,"Using default OnlineComponentProvider"),await D_(t,new op))),t._onlineComponents}function n4(t){return KS(t).then(e=>e.syncEngine)}async function V_(t){const e=await KS(t),n=e.eventManager;return n.onListen=FO.bind(null,e.syncEngine),n.onUnlisten=zO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$O.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(t,e,n){if(!n)throw new W(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r4(t,e,n,r){if(e===!0&&r===!0)throw new W(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function O_(t){if(!q.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function M_(t){if(q.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ug(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function Si(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ug(t);throw new W(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="firestore.googleapis.com",L_=!0;class F_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YS,this.ssl=L_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:L_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Nj)throw new W(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uV;switch(r.type){case"firstParty":return new fV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=j_.get(n);r&&($("ComponentProvider","Removing Datastore"),j_.delete(n),r.terminate())}(this),Promise.resolve()}}function s4(t,e,n,r={}){var s;t=Si(t,sh);const i=$a(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;i&&(HE(`https://${u}`),WE("Firestore",!0)),o.host!==YS&&o.host!==u&&Vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:u,ssl:i,emulatorOptions:r});if(!Cs(c,a)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=ht.MOCK_USER;else{h=pb(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new W(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ht(m)}t._authCredentials=new cV(new LT(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ih(this.firestore,e,this._query)}}class jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}}class Mr extends ih{constructor(e,n,r){super(e,n,Wm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new q(e))}withConverter(e){return new Mr(this.firestore,e,this._path)}}function i4(t,e,...n){if(t=We(t),QS("collection","path",e),t instanceof sh){const r=xe.fromString(e,...n);return M_(r),new Mr(t,null,r)}{if(!(t instanceof jt||t instanceof Mr))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return M_(r),new Mr(t.firestore,null,r)}}function o4(t,e,...n){if(t=We(t),arguments.length===1&&(e=UT.newId()),QS("doc","path",e),t instanceof sh){const r=xe.fromString(e,...n);return O_(r),new jt(t,null,new q(r))}{if(!(t instanceof jt||t instanceof Mr))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return O_(r),new jt(t.firestore,t instanceof Mr?t.converter:null,new q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="AsyncQueue";class B_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new bS(this,"async_queue_retry"),this.rc=()=>{const r=wd();r&&$(U_,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=wd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=wd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new _s;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Zi(e))throw e;$(U_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Xn("INTERNAL UNHANDLED ERROR: ",z_(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=sg.createAndSchedule(this,e,n,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&Y(47125,{cc:z_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function z_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class pc extends sh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new B_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B_(e),this._firestoreClient=void 0,await e}}}function a4(t,e){const n=typeof t=="object"?t:QE(),r=typeof t=="string"?t:sc,s=Pm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=db("firestore");i&&s4(s,...i)}return s}function XS(t){if(t._terminated)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||l4(t),t._firestoreClient}function l4(t){var e,n,r;const s=t._freezeSettings(),i=function(a,u,c,h){return new PV(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,GS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new e4(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ui(nt.fromBase64String(e))}catch(n){throw new W(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ui(nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=/^__.*__$/;class JS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ic:t})}}class fg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new fg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return mc(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(ZS(this.Ic)&&u4.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class c4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||th(e)}bc(e,n,r,s=!1){return new fg({Ic:e,methodName:n,wc:r,path:Ze.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h4(t){const e=t._freezeSettings(),n=th(t._databaseId);return new c4(t._databaseId,!!e.ignoreUndefinedProperties,n)}class ah extends cg{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ah}}function d4(t,e,n,r){const s=t.bc(1,e,n);tI("Data must be an object, but it was:",s,r);const i=[],o=Nt.empty();Zr(r,(u,c)=>{const h=pg(e,u,n);c=We(c);const f=s.mc(h);if(c instanceof ah)i.push(h);else{const m=lh(c,f);m!=null&&(i.push(h),o.set(h,m))}});const a=new rn(i);return new JS(o,a,s.fieldTransforms)}function f4(t,e,n,r,s,i){const o=t.bc(1,e,n),a=[H_(e,r,n)],u=[s];if(i.length%2!=0)throw new W(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(H_(e,i[m])),u.push(i[m+1]);const c=[],h=Nt.empty();for(let m=a.length-1;m>=0;--m)if(!g4(c,a[m])){const y=a[m];let E=u[m];E=We(E);const S=o.mc(y);if(E instanceof ah)c.push(y);else{const A=lh(E,S);A!=null&&(c.push(y),h.set(y,A))}}const f=new rn(c);return new JS(h,f,o.fieldTransforms)}function lh(t,e){if(eI(t=We(t)))return tI("Unsupported field value:",e,t),p4(t,e);if(t instanceof cg)return function(r,s){if(!ZS(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=lh(a,s.fc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=$e.fromDate(r);return{timestampValue:cc(s.serializer,i)}}if(r instanceof $e){const i=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cc(s.serializer,i)}}if(r instanceof hg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ui)return{bytesValue:wS(s.serializer,r._byteString)};if(r instanceof jt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Qm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof dg)return function(o,a){return{mapValue:{fields:{[GT]:{stringValue:YT},[ic]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.gc("VectorValues must only contain numeric values.");return qm(a.serializer,c)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${ug(r)}`)}(t,e)}function p4(t,e){const n={};return zT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(t,(r,s)=>{const i=lh(s,e.Ac(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function eI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof hg||t instanceof Ui||t instanceof jt||t instanceof cg||t instanceof dg)}function tI(t,e,n){if(!eI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=ug(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function H_(t,e,n){if((e=We(e))instanceof oh)return e._internalPath;if(typeof e=="string")return pg(t,e);throw mc("Field path arguments must be of type string or ",t,!1,void 0,n)}const m4=new RegExp("[~\\*/\\[\\]]");function pg(t,e,n){if(e.search(m4)>=0)throw mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oh(...e.split("."))._internalPath}catch{throw mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new W(F.INVALID_ARGUMENT,a+t+u)}function g4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class y4 extends nI{data(){return super.data()}}function rI(t,e){return typeof e=="string"?pg(t,e):e instanceof oh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _4{convertValue(e,n="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zr(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[ic].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ve(o.doubleValue));return new dg(i)}convertGeoPoint(e){return new hg(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Kc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pa(e));default:return null}}convertTimestamp(e){const n=Br(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xe.fromString(e);ue(CS(r),9688,{name:e});const s=new Ra(r.get(1),r.get(3)),i=new q(r.popFirst(5));return s.isEqual(n)||Xn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sI extends nI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class yu extends sI{data(e={}){return super.data(e)}}class w4{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new jo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yu(this._firestore,this._userDataWriter,r.key,r,new jo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new yu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new jo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new yu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new jo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:x4(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function x4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}class iI extends _4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ui(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function E4(t,e,n,...r){t=Si(t,jt);const s=Si(t.firestore,pc),i=h4(s);let o;return o=typeof(e=We(e))=="string"||e instanceof oh?f4(i,"updateDoc",t._key,e,n,r):d4(i,"updateDoc",t._key,e),S4(s,[o.toMutation(t._key,zn.exists(!0))])}function T4(t,...e){var n,r,s;t=We(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||$_(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if($_(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let u,c,h;if(t instanceof jt)c=Si(t.firestore,pc),h=Wm(t._key.path),u={next:f=>{e[o]&&e[o](I4(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Si(t,ih);c=Si(f.firestore,pc),h=f._query;const m=new iI(c);u={next:y=>{e[o]&&e[o](new w4(c,m,f,y))},error:e[o+1],complete:e[o+2]},v4(t._query)}return function(m,y,E,S){const A=new ZO(S),w=new VO(y,A,E);return m.asyncQueue.enqueueAndForget(async()=>kO(await V_(m),w)),()=>{A.xu(),m.asyncQueue.enqueueAndForget(async()=>bO(await V_(m),w))}}(XS(c),h,a,u)}function S4(t,e){return function(r,s){const i=new _s;return r.asyncQueue.enqueueAndForget(async()=>HO(await n4(r),s,i)),i.promise}(XS(t),e)}function I4(t,e,n){const r=n.docs.get(e._key),s=new iI(t);return new sI(t,s,e._key,r,new jo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Xi=s})(Qi),Di(new As("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new pc(new hV(r.getProvider("auth-internal")),new pV(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new W(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ra(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),jr(qv,Kv,e),jr(qv,Kv,"esm2017")})();const C4={apiKey:"AIzaSyD5N8c_HCYJaQK57YuS56uwFBGwuxDZ9w0",authDomain:"engineer-guid.firebaseapp.com",projectId:"engineer-guid",storageBucket:"engineer-guid.appspot.com",messagingSenderId:"118777023809",appId:"1:118777023809:web:9ea2fd34fb65069286a5c0",measurementId:"G-B0S7TV0NPF"},oI=GE(C4),Qs=iV(oI),W_=a4(oI),aI=R.createContext(void 0),A4=({children:t})=>{const[e,n]=R.useState(null),[r,s]=R.useState(!0),[i,o]=R.useState(null);R.useEffect(()=>{const f=KN(Qs,m=>{n(m),s(!1)});return()=>f()},[]);const a=async(f,m)=>{s(!0),o(null);try{const y=await HN(Qs,f,m);return n(y.user),y.user}catch(y){return o(y.message),null}finally{s(!1)}},u=async(f,m)=>{s(!0),o(null);try{const y=await $N(Qs,f,m);return n(y.user),y.user}catch(y){return o(y.message),null}finally{s(!1)}},c=async f=>{s(!0),o(null);try{return await BN(Qs,f),!0}catch(m){return o(m.message),!1}finally{s(!1)}},h=async()=>{await GN(Qs),n(null)};return d.jsx(aI.Provider,{value:{user:e,login:a,signup:u,resetPassword:c,logout:h,isLoading:r,error:i},children:t})},cn=()=>{const t=R.useContext(aI);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},mg=R.createContext({});function gg(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const uh=R.createContext(null),yg=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class P4 extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function R4({children:t,isPresent:e}){const n=R.useId(),r=R.useRef(null),s=R.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=R.useContext(yg);return R.useInsertionEffect(()=>{const{width:o,height:a,top:u,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return i&&(h.nonce=i),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${u}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),d.jsx(P4,{isPresent:e,childRef:r,sizeRef:s,children:R.cloneElement(t,{ref:r})})}const k4=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=gg(b4),u=R.useId(),c=R.useCallback(f=>{a.set(f,!0);for(const m of a.values())if(!m)return;r&&r()},[a,r]),h=R.useMemo(()=>({id:u,initial:e,isPresent:n,custom:s,onExitComplete:c,register:f=>(a.set(f,!1),()=>a.delete(f))}),i?[Math.random(),c]:[n,c]);return R.useMemo(()=>{a.forEach((f,m)=>a.set(m,!1))},[n]),R.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=d.jsx(R4,{isPresent:n,children:t})),d.jsx(uh.Provider,{value:h,children:t})};function b4(){return new Map}function lI(t=!0){const e=R.useContext(uh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=R.useId();R.useEffect(()=>{t&&s(i)},[t]);const o=R.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Hl=t=>t.key||"";function q_(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const vg=typeof window<"u",uI=vg?R.useLayoutEffect:R.useEffect,ap=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,u]=lI(o),c=R.useMemo(()=>q_(t),[t]),h=o&&!a?[]:c.map(Hl),f=R.useRef(!0),m=R.useRef(c),y=gg(()=>new Map),[E,S]=R.useState(c),[A,w]=R.useState(c);uI(()=>{f.current=!1,m.current=c;for(let b=0;b<A.length;b++){const j=Hl(A[b]);h.includes(j)?y.delete(j):y.get(j)!==!0&&y.set(j,!1)}},[A,h.length,h.join("-")]);const v=[];if(c!==E){let b=[...c];for(let j=0;j<A.length;j++){const D=A[j],I=Hl(D);h.includes(I)||(b.splice(j,0,D),v.push(D))}i==="wait"&&v.length&&(b=v),w(q_(b)),S(c);return}const{forceRender:T}=R.useContext(mg);return d.jsx(d.Fragment,{children:A.map(b=>{const j=Hl(b),D=o&&!a?!1:c===A||h.includes(j),I=()=>{if(y.has(j))y.set(j,!0);else return;let _=!0;y.forEach(C=>{C||(_=!1)}),_&&(T==null||T(),w(m.current),o&&(u==null||u()),r&&r())};return d.jsx(k4,{isPresent:D,initial:!f.current||n?void 0:!1,custom:D?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:D?void 0:I,children:b},j)})})},Ot=t=>t;let lp=Ot;function _g(t){let e;return()=>(e===void 0&&(e=t()),e)}const Bi=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},$n=t=>t*1e3,Hn=t=>t/1e3,N4={skipAnimations:!1,useManualTiming:!1};function D4(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(u.schedule(c),t()),c(o)}const u={schedule:(c,h=!1,f=!1)=>{const y=f&&r?e:n;return h&&i.add(c),y.has(c)||y.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,s&&(s=!1,u.process(c))}};return u}const Wl=["read","resolveKeyframes","update","preRender","render","postRender"],V4=40;function cI(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Wl.reduce((w,v)=>(w[v]=D4(i),w),{}),{read:a,resolveKeyframes:u,update:c,preRender:h,render:f,postRender:m}=o,y=()=>{const w=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(w-s.timestamp,V4),1),s.timestamp=w,s.isProcessing=!0,a.process(s),u.process(s),c.process(s),h.process(s),f.process(s),m.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(y))},E=()=>{n=!0,r=!0,s.isProcessing||t(y)};return{schedule:Wl.reduce((w,v)=>{const T=o[v];return w[v]=(b,j=!1,D=!1)=>(n||E(),T.schedule(b,j,D)),w},{}),cancel:w=>{for(let v=0;v<Wl.length;v++)o[Wl[v]].cancel(w)},state:s,steps:o}}const{schedule:_e,cancel:qr,state:Xe,steps:Ed}=cI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ot,!0),hI=R.createContext({strict:!1}),K_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zi={};for(const t in K_)zi[t]={isEnabled:e=>K_[t].some(n=>!!e[n])};function j4(t){for(const e in t)zi[e]={...zi[e],...t[e]}}const O4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||O4.has(t)}let dI=t=>!gc(t);function M4(t){t&&(dI=e=>e.startsWith("on")?!gc(e):t(e))}try{M4(require("@emotion/is-prop-valid").default)}catch{}function L4(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(dI(s)||n===!0&&gc(s)||!e&&!gc(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function F4(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const ch=R.createContext({});function Da(t){return typeof t=="string"||Array.isArray(t)}function hh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const wg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xg=["initial",...wg];function dh(t){return hh(t.animate)||xg.some(e=>Da(t[e]))}function fI(t){return!!(dh(t)||t.variants)}function U4(t,e){if(dh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Da(n)?n:void 0,animate:Da(r)?r:void 0}}return t.inherit!==!1?e:{}}function B4(t){const{initial:e,animate:n}=U4(t,R.useContext(ch));return R.useMemo(()=>({initial:e,animate:n}),[G_(e),G_(n)])}function G_(t){return Array.isArray(t)?t.join(" "):t}const z4=Symbol.for("motionComponentSymbol");function ui(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $4(t,e,n){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ui(n)&&(n.current=r))},[e])}const Eg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),H4="framerAppearId",pI="data-"+Eg(H4),{schedule:Tg,cancel:$6}=cI(queueMicrotask,!1),mI=R.createContext({});function W4(t,e,n,r,s){var i,o;const{visualElement:a}=R.useContext(ch),u=R.useContext(hI),c=R.useContext(uh),h=R.useContext(yg).reducedMotion,f=R.useRef(null);r=r||u.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const m=f.current,y=R.useContext(mI);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&q4(f.current,n,s,y);const E=R.useRef(!1);R.useInsertionEffect(()=>{m&&E.current&&m.update(n,c)});const S=n[pI],A=R.useRef(!!S&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,S))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,S)));return uI(()=>{m&&(E.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Tg.render(m.render),A.current&&m.animationState&&m.animationState.animateChanges())}),R.useEffect(()=>{m&&(!A.current&&m.animationState&&m.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,S)}),A.current=!1))}),m}function q4(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:u,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:gI(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&ui(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:c})}function gI(t){if(t)return t.options.allowProjection!==!1?t.projection:gI(t.parent)}function K4({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&j4(t);function a(c,h){let f;const m={...R.useContext(yg),...c,layoutId:G4(c)},{isStatic:y}=m,E=B4(c),S=r(c,y);if(!y&&vg){Q4();const A=Y4(m);f=A.MeasureLayout,E.visualElement=W4(s,S,m,e,A.ProjectionNode)}return d.jsxs(ch.Provider,{value:E,children:[f&&E.visualElement?d.jsx(f,{visualElement:E.visualElement,...m}):null,n(s,c,$4(S,E.visualElement,h),S,y,E.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const u=R.forwardRef(a);return u[z4]=s,u}function G4({layoutId:t}){const e=R.useContext(mg).id;return e&&t!==void 0?e+"-"+t:t}function Q4(t,e){R.useContext(hI).strict}function Y4(t){const{drag:e,layout:n}=zi;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const X4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sg(t){return typeof t!="string"||t.includes("-")?!1:!!(X4.indexOf(t)>-1||/[A-Z]/u.test(t))}function Q_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Ig(t,e,n,r){if(typeof e=="function"){const[s,i]=Q_(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Q_(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const up=t=>Array.isArray(t),J4=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Z4=t=>up(t)?t[t.length-1]||0:t,pt=t=>!!(t&&t.getVelocity);function vu(t){const e=pt(t)?t.get():t;return J4(e)?e.toValue():e}function eM({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:tM(r,s,i,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const yI=t=>(e,n)=>{const r=R.useContext(ch),s=R.useContext(uh),i=()=>eM(t,e,r,s);return n?i():gg(i)};function tM(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=vu(i[m]);let{initial:o,animate:a}=t;const u=dh(t),c=fI(t);e&&c&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;if(f&&typeof f!="boolean"&&!hh(f)){const m=Array.isArray(f)?f:[f];for(let y=0;y<m.length;y++){const E=Ig(t,m[y]);if(E){const{transitionEnd:S,transition:A,...w}=E;for(const v in w){let T=w[v];if(Array.isArray(T)){const b=h?T.length-1:0;T=T[b]}T!==null&&(s[v]=T)}for(const v in S)s[v]=S[v]}}}return s}const to=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ls=new Set(to),vI=t=>e=>typeof e=="string"&&e.startsWith(t),_I=vI("--"),nM=vI("var(--"),Cg=t=>nM(t)?rM.test(t.split("/*")[0].trim()):!1,rM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wI=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Zn=(t,e,n)=>n>e?e:n<t?t:n,no={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Va={...no,transform:t=>Zn(0,1,t)},ql={...no,default:1},Za=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),cr=Za("deg"),xn=Za("%"),K=Za("px"),sM=Za("vh"),iM=Za("vw"),Y_={...xn,parse:t=>xn.parse(t)/100,transform:t=>xn.transform(t*100)},oM={borderWidth:K,borderTopWidth:K,borderRightWidth:K,borderBottomWidth:K,borderLeftWidth:K,borderRadius:K,radius:K,borderTopLeftRadius:K,borderTopRightRadius:K,borderBottomRightRadius:K,borderBottomLeftRadius:K,width:K,maxWidth:K,height:K,maxHeight:K,top:K,right:K,bottom:K,left:K,padding:K,paddingTop:K,paddingRight:K,paddingBottom:K,paddingLeft:K,margin:K,marginTop:K,marginRight:K,marginBottom:K,marginLeft:K,backgroundPositionX:K,backgroundPositionY:K},aM={rotate:cr,rotateX:cr,rotateY:cr,rotateZ:cr,scale:ql,scaleX:ql,scaleY:ql,scaleZ:ql,skew:cr,skewX:cr,skewY:cr,distance:K,translateX:K,translateY:K,translateZ:K,x:K,y:K,z:K,perspective:K,transformPerspective:K,opacity:Va,originX:Y_,originY:Y_,originZ:K},X_={...no,transform:Math.round},Ag={...oM,...aM,zIndex:X_,size:K,fillOpacity:Va,strokeOpacity:Va,numOctaves:X_},lM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uM=to.length;function cM(t,e,n){let r="",s=!0;for(let i=0;i<uM;i++){const o=to[i],a=t[o];if(a===void 0)continue;let u=!0;if(typeof a=="number"?u=a===(o.startsWith("scale")?1:0):u=parseFloat(a)===0,!u||n){const c=wI(a,Ag[o]);if(!u){s=!1;const h=lM[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Pg(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const u in e){const c=e[u];if(Ls.has(u)){o=!0;continue}else if(_I(u)){s[u]=c;continue}else{const h=wI(c,Ag[u]);u.startsWith("origin")?(a=!0,i[u]=h):r[u]=h}}if(e.transform||(o||n?r.transform=cM(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:u="50%",originY:c="50%",originZ:h=0}=i;r.transformOrigin=`${u} ${c} ${h}`}}const hM={offset:"stroke-dashoffset",array:"stroke-dasharray"},dM={offset:"strokeDashoffset",array:"strokeDasharray"};function fM(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?hM:dM;t[i.offset]=K.transform(-r);const o=K.transform(e),a=K.transform(n);t[i.array]=`${o} ${a}`}function J_(t,e,n){return typeof t=="string"?t:K.transform(e+n*t)}function pM(t,e,n){const r=J_(e,t.x,t.width),s=J_(n,t.y,t.height);return`${r} ${s}`}function Rg(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...c},h,f){if(Pg(t,c,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y,dimensions:E}=t;m.transform&&(E&&(y.transform=m.transform),delete m.transform),E&&(s!==void 0||i!==void 0||y.transform)&&(y.transformOrigin=pM(E,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&fM(m,o,a,u,!1)}const kg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),xI=()=>({...kg(),attrs:{}}),bg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function EI(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const TI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function SI(t,e,n,r){EI(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(TI.has(s)?s:Eg(s),e.attrs[s])}const yc={};function mM(t){Object.assign(yc,t)}function II(t,{layout:e,layoutId:n}){return Ls.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yc[t]||t==="opacity")}function Ng(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(pt(s[o])||e.style&&pt(e.style[o])||II(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function CI(t,e,n){const r=Ng(t,e,n);for(const s in t)if(pt(t[s])||pt(e[s])){const i=to.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function gM(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Z_=["x","y","width","height","cx","cy","r"],yM={useVisualState:yI({scrapeMotionValuesFromProps:CI,createRenderState:xI,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(Ls.has(a)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let a=0;a<Z_.length;a++){const u=Z_[a];t[u]!==e[u]&&(o=!0)}o&&_e.read(()=>{gM(n,r),_e.render(()=>{Rg(r,s,bg(n.tagName),t.transformTemplate),SI(n,r)})})}})},vM={useVisualState:yI({scrapeMotionValuesFromProps:Ng,createRenderState:kg})};function AI(t,e,n){for(const r in e)!pt(e[r])&&!II(r,n)&&(t[r]=e[r])}function _M({transformTemplate:t},e){return R.useMemo(()=>{const n=kg();return Pg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function wM(t,e){const n=t.style||{},r={};return AI(r,n,t),Object.assign(r,_M(t,e)),r}function xM(t,e){const n={},r=wM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function EM(t,e,n,r){const s=R.useMemo(()=>{const i=xI();return Rg(i,e,bg(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};AI(i,t.style,t),s.style={...i,...s.style}}return s}function TM(t=!1){return(n,r,s,{latestValues:i},o)=>{const u=(Sg(n)?EM:xM)(r,i,o,n),c=L4(r,typeof n=="string",t),h=n!==R.Fragment?{...c,...u,ref:s}:{},{children:f}=r,m=R.useMemo(()=>pt(f)?f.get():f,[f]);return R.createElement(n,{...h,children:m})}}function SM(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Sg(r)?yM:vM,preloadedFeatures:t,useRender:TM(s),createVisualElement:e,Component:r};return K4(o)}}function PI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function fh(t,e,n){const r=t.getProps();return Ig(r,e,n!==void 0?n:r.custom,t)}const IM=_g(()=>window.ScrollTimeline!==void 0);class CM{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(IM()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class AM extends CM{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Dg(t,e){return t?t[e]||t.default||t:void 0}const cp=2e4;function RI(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<cp;)e+=n,r=t.next(e);return e>=cp?1/0:e}function Vg(t){return typeof t=="function"}function ew(t,e){t.timeline=e,t.onfinish=null}const jg=t=>Array.isArray(t)&&typeof t[0]=="number",PM={linearEasing:void 0};function RM(t,e){const n=_g(t);return()=>{var r;return(r=PM[e])!==null&&r!==void 0?r:n()}}const vc=RM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kI=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(Bi(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function bI(t){return!!(typeof t=="function"&&vc()||!t||typeof t=="string"&&(t in hp||vc())||jg(t)||Array.isArray(t)&&t.every(bI))}const Oo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,hp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Oo([0,.65,.55,1]),circOut:Oo([.55,0,1,.45]),backIn:Oo([.31,.01,.66,-.59]),backOut:Oo([.33,1.53,.69,.99])};function NI(t,e){if(t)return typeof t=="function"&&vc()?kI(t,e):jg(t)?Oo(t):Array.isArray(t)?t.map(n=>NI(n,e)||hp.easeOut):hp[t]}const Jt={x:!1,y:!1};function DI(){return Jt.x||Jt.y}function kM(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function VI(t,e){const n=kM(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function tw(t){return e=>{e.pointerType==="touch"||DI()||t(e)}}function bM(t,e,n={}){const[r,s,i]=VI(t,n),o=tw(a=>{const{target:u}=a,c=e(a);if(typeof c!="function"||!u)return;const h=tw(f=>{c(f),u.removeEventListener("pointerleave",h)});u.addEventListener("pointerleave",h,s)});return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const jI=(t,e)=>e?t===e?!0:jI(t,e.parentElement):!1,Og=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,NM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function DM(t){return NM.has(t.tagName)||t.tabIndex!==-1}const Mo=new WeakSet;function nw(t){return e=>{e.key==="Enter"&&t(e)}}function Td(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const VM=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=nw(()=>{if(Mo.has(n))return;Td(n,"down");const s=nw(()=>{Td(n,"up")}),i=()=>Td(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function rw(t){return Og(t)&&!DI()}function jM(t,e,n={}){const[r,s,i]=VI(t,n),o=a=>{const u=a.currentTarget;if(!rw(a)||Mo.has(u))return;Mo.add(u);const c=e(a),h=(y,E)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),!(!rw(y)||!Mo.has(u))&&(Mo.delete(u),typeof c=="function"&&c(y,{success:E}))},f=y=>{h(y,n.useGlobalTarget||jI(u,y.target))},m=y=>{h(y,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",m,s)};return r.forEach(a=>{!DM(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",c=>VM(c,s),s)}),i}function OM(t){return t==="x"||t==="y"?Jt[t]?null:(Jt[t]=!0,()=>{Jt[t]=!1}):Jt.x||Jt.y?null:(Jt.x=Jt.y=!0,()=>{Jt.x=Jt.y=!1})}const OI=new Set(["width","height","top","left","right","bottom",...to]);let _u;function MM(){_u=void 0}const En={now:()=>(_u===void 0&&En.set(Xe.isProcessing||N4.useManualTiming?Xe.timestamp:performance.now()),_u),set:t=>{_u=t,queueMicrotask(MM)}};function Mg(t,e){t.indexOf(e)===-1&&t.push(e)}function Lg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Fg{constructor(){this.subscriptions=[]}add(e){return Mg(this.subscriptions,e),()=>Lg(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function MI(t,e){return e?t*(1e3/e):0}const sw=30,LM=t=>!isNaN(parseFloat(t));class FM{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=En.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=En.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=LM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Fg);const r=this.events[e].add(n);return e==="change"?()=>{r(),_e.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=En.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>sw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,sw);return MI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ja(t,e){return new FM(t,e)}function UM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ja(n))}function BM(t,e){const n=fh(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=Z4(i[o]);UM(t,o,a)}}function zM(t){return!!(pt(t)&&t.add)}function dp(t,e){const n=t.getValue("willChange");if(zM(n))return n.add(e)}function LI(t){return t.props[pI]}const FI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$M=1e-7,HM=12;function WM(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=FI(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>$M&&++a<HM);return o}function el(t,e,n,r){if(t===e&&n===r)return Ot;const s=i=>WM(i,0,1,t,n);return i=>i===0||i===1?i:FI(s(i),e,r)}const UI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,BI=t=>e=>1-t(1-e),zI=el(.33,1.53,.69,.99),Ug=BI(zI),$I=UI(Ug),HI=t=>(t*=2)<1?.5*Ug(t):.5*(2-Math.pow(2,-10*(t-1))),Bg=t=>1-Math.sin(Math.acos(t)),WI=BI(Bg),qI=UI(Bg),KI=t=>/^0[^.\s]+$/u.test(t);function qM(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||KI(t):!0}const ea=t=>Math.round(t*1e5)/1e5,zg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function KM(t){return t==null}const GM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$g=(t,e)=>n=>!!(typeof n=="string"&&GM.test(n)&&n.startsWith(t)||e&&!KM(n)&&Object.prototype.hasOwnProperty.call(n,e)),GI=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(zg);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},QM=t=>Zn(0,255,t),Sd={...no,transform:t=>Math.round(QM(t))},gs={test:$g("rgb","red"),parse:GI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Sd.transform(t)+", "+Sd.transform(e)+", "+Sd.transform(n)+", "+ea(Va.transform(r))+")"};function YM(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const fp={test:$g("#"),parse:YM,transform:gs.transform},ci={test:$g("hsl","hue"),parse:GI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+xn.transform(ea(e))+", "+xn.transform(ea(n))+", "+ea(Va.transform(r))+")"},ct={test:t=>gs.test(t)||fp.test(t)||ci.test(t),parse:t=>gs.test(t)?gs.parse(t):ci.test(t)?ci.parse(t):fp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?gs.transform(t):ci.transform(t)},XM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function JM(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(zg))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(XM))===null||n===void 0?void 0:n.length)||0)>0}const QI="number",YI="color",ZM="var",eL="var(",iw="${}",tL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Oa(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(tL,u=>(ct.test(u)?(r.color.push(i),s.push(YI),n.push(ct.parse(u))):u.startsWith(eL)?(r.var.push(i),s.push(ZM),n.push(u)):(r.number.push(i),s.push(QI),n.push(parseFloat(u))),++i,iw)).split(iw);return{values:n,split:a,indexes:r,types:s}}function XI(t){return Oa(t).values}function JI(t){const{split:e,types:n}=Oa(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===QI?i+=ea(s[o]):a===YI?i+=ct.transform(s[o]):i+=s[o]}return i}}const nL=t=>typeof t=="number"?0:t;function rL(t){const e=XI(t);return JI(t)(e.map(nL))}const Kr={test:JM,parse:XI,createTransformer:JI,getAnimatableNone:rL},sL=new Set(["brightness","contrast","saturate","opacity"]);function iL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(zg)||[];if(!r)return t;const s=n.replace(r,"");let i=sL.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const oL=/\b([a-z-]*)\(.*?\)/gu,pp={...Kr,getAnimatableNone:t=>{const e=t.match(oL);return e?e.map(iL).join(" "):t}},aL={...Ag,color:ct,backgroundColor:ct,outlineColor:ct,fill:ct,stroke:ct,borderColor:ct,borderTopColor:ct,borderRightColor:ct,borderBottomColor:ct,borderLeftColor:ct,filter:pp,WebkitFilter:pp},Hg=t=>aL[t];function ZI(t,e){let n=Hg(t);return n!==pp&&(n=Kr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const lL=new Set(["auto","none","0"]);function uL(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!lL.has(i)&&Oa(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=ZI(n,s)}const ow=t=>t===no||t===K,aw=(t,e)=>parseFloat(t.split(", ")[e]),lw=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return aw(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?aw(i[1],t):0}},cL=new Set(["x","y","z"]),hL=to.filter(t=>!cL.has(t));function dL(t){const e=[];return hL.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const $i={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:lw(4,13),y:lw(5,14)};$i.translateX=$i.x;$i.translateY=$i.y;const ws=new Set;let mp=!1,gp=!1;function eC(){if(gp){const t=Array.from(ws).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=dL(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}gp=!1,mp=!1,ws.forEach(t=>t.complete()),ws.clear()}function tC(){ws.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(gp=!0)})}function fL(){tC(),eC()}class Wg{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ws.add(this),mp||(mp=!0,_e.read(tC),_e.resolveKeyframes(eC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,a);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ws.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ws.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const nC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),pL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mL(t){const e=pL.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function rC(t,e,n=1){const[r,s]=mL(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return nC(o)?parseFloat(o):o}return Cg(s)?rC(s,e,n+1):s}const sC=t=>e=>e.test(t),gL={test:t=>t==="auto",parse:t=>t},iC=[no,K,xn,cr,iM,sM,gL],uw=t=>iC.find(sC(t));class oC extends Wg{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let c=e[u];if(typeof c=="string"&&(c=c.trim(),Cg(c))){const h=rC(c,n.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!OI.has(r)||e.length!==2)return;const[s,i]=e,o=uw(s),a=uw(i);if(o!==a)if(ow(o)&&ow(a))for(let u=0;u<e.length;u++){const c=e[u];typeof c=="string"&&(e[u]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)qM(e[s])&&r.push(s);r.length&&uL(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$i[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=$i[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,c])=>{n.getValue(u).set(c)}),this.resolveNoneKeyframes()}}const cw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Kr.test(t)||t==="0")&&!t.startsWith("url("));function yL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function vL(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=cw(s,e),a=cw(i,e);return!o||!a?!1:yL(t)||(n==="spring"||Vg(n))&&r}const _L=t=>t!==null;function ph(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(_L),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const wL=40;class aC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=En.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>wL?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&fL(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=En.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:u,isGenerator:c}=this.options;if(!c&&!vL(e,r,s,i))if(o)this.options.duration=0;else{u&&u(ph(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Se=(t,e,n)=>t+(e-t)*n;function Id(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function xL({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;s=Id(u,a,t+1/3),i=Id(u,a,t),o=Id(u,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function _c(t,e){return n=>n>0?e:t}const Cd=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},EL=[fp,gs,ci],TL=t=>EL.find(e=>e.test(t));function hw(t){const e=TL(t);if(!e)return!1;let n=e.parse(t);return e===ci&&(n=xL(n)),n}const dw=(t,e)=>{const n=hw(t),r=hw(e);if(!n||!r)return _c(t,e);const s={...n};return i=>(s.red=Cd(n.red,r.red,i),s.green=Cd(n.green,r.green,i),s.blue=Cd(n.blue,r.blue,i),s.alpha=Se(n.alpha,r.alpha,i),gs.transform(s))},SL=(t,e)=>n=>e(t(n)),tl=(...t)=>t.reduce(SL),yp=new Set(["none","hidden"]);function IL(t,e){return yp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function CL(t,e){return n=>Se(t,e,n)}function qg(t){return typeof t=="number"?CL:typeof t=="string"?Cg(t)?_c:ct.test(t)?dw:RL:Array.isArray(t)?lC:typeof t=="object"?ct.test(t)?dw:AL:_c}function lC(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>qg(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function AL(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=qg(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function PL(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],u=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=u,s[o]++}return r}const RL=(t,e)=>{const n=Kr.createTransformer(e),r=Oa(t),s=Oa(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?yp.has(t)&&!s.values.length||yp.has(e)&&!r.values.length?IL(t,e):tl(lC(PL(r,s),s.values),n):_c(t,e)};function uC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Se(t,e,n):qg(t)(t,e)}const kL=5;function cC(t,e,n){const r=Math.max(e-kL,0);return MI(n-t(r),e-r)}const ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ad=.001;function bL({duration:t=ke.duration,bounce:e=ke.bounce,velocity:n=ke.velocity,mass:r=ke.mass}){let s,i,o=1-e;o=Zn(ke.minDamping,ke.maxDamping,o),t=Zn(ke.minDuration,ke.maxDuration,Hn(t)),o<1?(s=c=>{const h=c*o,f=h*t,m=h-n,y=vp(c,o),E=Math.exp(-f);return Ad-m/y*E},i=c=>{const f=c*o*t,m=f*n+n,y=Math.pow(o,2)*Math.pow(c,2)*t,E=Math.exp(-f),S=vp(Math.pow(c,2),o);return(-s(c)+Ad>0?-1:1)*((m-y)*E)/S}):(s=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-Ad+h*f},i=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const a=5/t,u=DL(s,i,a);if(t=$n(t),isNaN(u))return{stiffness:ke.stiffness,damping:ke.damping,duration:t};{const c=Math.pow(u,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const NL=12;function DL(t,e,n){let r=n;for(let s=1;s<NL;s++)r=r-t(r)/e(r);return r}function vp(t,e){return t*Math.sqrt(1-e*e)}const VL=["duration","bounce"],jL=["stiffness","damping","mass"];function fw(t,e){return e.some(n=>t[n]!==void 0)}function OL(t){let e={velocity:ke.velocity,stiffness:ke.stiffness,damping:ke.damping,mass:ke.mass,isResolvedFromDuration:!1,...t};if(!fw(t,jL)&&fw(t,VL))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Zn(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ke.mass,stiffness:s,damping:i}}else{const n=bL(t);e={...e,...n,mass:ke.mass},e.isResolvedFromDuration=!0}return e}function hC(t=ke.visualDuration,e=ke.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:u,damping:c,mass:h,duration:f,velocity:m,isResolvedFromDuration:y}=OL({...n,velocity:-Hn(n.velocity||0)}),E=m||0,S=c/(2*Math.sqrt(u*h)),A=o-i,w=Hn(Math.sqrt(u/h)),v=Math.abs(A)<5;r||(r=v?ke.restSpeed.granular:ke.restSpeed.default),s||(s=v?ke.restDelta.granular:ke.restDelta.default);let T;if(S<1){const j=vp(w,S);T=D=>{const I=Math.exp(-S*w*D);return o-I*((E+S*w*A)/j*Math.sin(j*D)+A*Math.cos(j*D))}}else if(S===1)T=j=>o-Math.exp(-w*j)*(A+(E+w*A)*j);else{const j=w*Math.sqrt(S*S-1);T=D=>{const I=Math.exp(-S*w*D),_=Math.min(j*D,300);return o-I*((E+S*w*A)*Math.sinh(_)+j*A*Math.cosh(_))/j}}const b={calculatedDuration:y&&f||null,next:j=>{const D=T(j);if(y)a.done=j>=f;else{let I=0;S<1&&(I=j===0?$n(E):cC(T,j,D));const _=Math.abs(I)<=r,C=Math.abs(o-D)<=s;a.done=_&&C}return a.value=a.done?o:D,a},toString:()=>{const j=Math.min(RI(b),cp),D=kI(I=>b.next(j*I).value,j,30);return j+"ms "+D}};return b}function pw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:u,restDelta:c=.5,restSpeed:h}){const f=t[0],m={done:!1,value:f},y=_=>a!==void 0&&_<a||u!==void 0&&_>u,E=_=>a===void 0?u:u===void 0||Math.abs(a-_)<Math.abs(u-_)?a:u;let S=n*e;const A=f+S,w=o===void 0?A:o(A);w!==A&&(S=w-f);const v=_=>-S*Math.exp(-_/r),T=_=>w+v(_),b=_=>{const C=v(_),P=T(_);m.done=Math.abs(C)<=c,m.value=m.done?w:P};let j,D;const I=_=>{y(m.value)&&(j=_,D=hC({keyframes:[m.value,E(m.value)],velocity:cC(T,_,m.value),damping:s,stiffness:i,restDelta:c,restSpeed:h}))};return I(0),{calculatedDuration:null,next:_=>{let C=!1;return!D&&j===void 0&&(C=!0,b(_),I(_)),j!==void 0&&_>=j?D.next(_-j):(!C&&b(_),m)}}}const ML=el(.42,0,1,1),LL=el(0,0,.58,1),dC=el(.42,0,.58,1),FL=t=>Array.isArray(t)&&typeof t[0]!="number",mw={linear:Ot,easeIn:ML,easeInOut:dC,easeOut:LL,circIn:Bg,circInOut:qI,circOut:WI,backIn:Ug,backInOut:$I,backOut:zI,anticipate:HI},gw=t=>{if(jg(t)){lp(t.length===4);const[e,n,r,s]=t;return el(e,n,r,s)}else if(typeof t=="string")return lp(mw[t]!==void 0),mw[t];return t};function UL(t,e,n){const r=[],s=n||uC,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||Ot:e;a=tl(u,a)}r.push(a)}return r}function BL(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(lp(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=UL(e,r,s),u=a.length,c=h=>{if(o&&h<t[0])return e[0];let f=0;if(u>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const m=Bi(t[f],t[f+1],h);return a[f](m)};return n?h=>c(Zn(t[0],t[i-1],h)):c}function zL(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Bi(0,e,r);t.push(Se(n,1,s))}}function $L(t){const e=[0];return zL(e,t.length-1),e}function HL(t,e){return t.map(n=>n*e)}function WL(t,e){return t.map(()=>e||dC).splice(0,t.length-1)}function wc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=FL(r)?r.map(gw):gw(r),i={done:!1,value:e[0]},o=HL(n&&n.length===e.length?n:$L(e),t),a=BL(o,e,{ease:Array.isArray(s)?s:WL(e,s)});return{calculatedDuration:t,next:u=>(i.value=a(u),i.done=u>=t,i)}}const qL=t=>{const e=({timestamp:n})=>t(n);return{start:()=>_e.update(e,!0),stop:()=>qr(e),now:()=>Xe.isProcessing?Xe.timestamp:En.now()}},KL={decay:pw,inertia:pw,tween:wc,keyframes:wc,spring:hC},GL=t=>t/100;class Kg extends aC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Wg,a=(u,c)=>this.onKeyframesResolved(u,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=Vg(n)?n:KL[n]||wc;let u,c;a!==wc&&typeof e[0]!="number"&&(u=tl(GL,uC(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=RI(h));const{calculatedDuration:f}=h,m=f+s,y=m*(r+1)-s;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:u,calculatedDuration:f,resolvedDuration:m,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:u,calculatedDuration:c,totalDuration:h,resolvedDuration:f}=r;if(this.startTime===null)return i.next(0);const{delay:m,repeat:y,repeatType:E,repeatDelay:S,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-m*(this.speed>=0?1:-1),v=this.speed>=0?w<0:w>h;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let T=this.currentTime,b=i;if(y){const _=Math.min(this.currentTime,h)/f;let C=Math.floor(_),P=_%1;!P&&_>=1&&(P=1),P===1&&C--,C=Math.min(C,y+1),!!(C%2)&&(E==="reverse"?(P=1-P,S&&(P-=S/f)):E==="mirror"&&(b=o)),T=Zn(0,1,P)*f}const j=v?{done:!1,value:u[0]}:b.next(T);a&&(j.value=a(j.value));let{done:D}=j;!v&&c!==null&&(D=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return I&&s!==void 0&&(j.value=ph(u,this.options,s)),A&&A(j.value),I&&this.finish(),j}get duration(){const{resolved:e}=this;return e?Hn(e.calculatedDuration):0}get time(){return Hn(this.currentTime)}set time(e){e=$n(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Hn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=qL,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const QL=new Set(["opacity","clipPath","filter","transform"]);function YL(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:u}={}){const c={[e]:n};u&&(c.offset=u);const h=NI(a,s);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const XL=_g(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),xc=10,JL=2e4;function ZL(t){return Vg(t.type)||t.type==="spring"||!bI(t.ease)}function e3(t,e){const n=new Kg({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<JL;)r=n.sample(i),s.push(r.value),i+=xc;return{times:void 0,keyframes:s,duration:i-xc,ease:"linear"}}const fC={anticipate:HI,backInOut:$I,circInOut:qI};function t3(t){return t in fC}class yw extends aC{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new oC(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:u,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&vc()&&t3(i)&&(i=fC[i]),ZL(this.options)){const{onComplete:f,onUpdate:m,motionValue:y,element:E,...S}=this.options,A=e3(e,S);e=A.keyframes,e.length===1&&(e[1]=e[0]),r=A.duration,s=A.times,i=A.ease,o="keyframes"}const h=YL(a.owner.current,u,e,{...this.options,duration:r,times:s,ease:i});return h.startTime=c??this.calcStartTime(),this.pendingTimeline?(ew(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;a.set(ph(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Hn(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Hn(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=$n(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Ot;const{animation:r}=n;ew(r,e)}return Ot}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:f,element:m,...y}=this.options,E=new Kg({...y,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),S=$n(this.time);c.setWithVelocity(E.sample(S-xc).value,E.sample(S).value,xc)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:c}=n.owner.getProps();return XL()&&r&&QL.has(r)&&!u&&!c&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const n3={type:"spring",stiffness:500,damping:25,restSpeed:10},r3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),s3={type:"keyframes",duration:.8},i3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},o3=(t,{keyframes:e})=>e.length>2?s3:Ls.has(t)?t.startsWith("scale")?r3(e[1]):n3:i3;function a3({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:u,elapsed:c,...h}){return!!Object.keys(h).length}const Gg=(t,e,n,r={},s,i)=>o=>{const a=Dg(r,t)||{},u=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-$n(u);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};a3(a)||(h={...h,...o3(t,h)}),h.duration&&(h.duration=$n(h.duration)),h.repeatDelay&&(h.repeatDelay=$n(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),f&&!i&&e.get()!==void 0){const m=ph(h.keyframes,a);if(m!==void 0)return _e.update(()=>{h.onUpdate(m),h.onComplete()}),new AM([])}return!i&&yw.supports(h)?new yw(h):new Kg(h)};function l3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function pC(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...u}=e;r&&(o=r);const c=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in u){const m=t.getValue(f,(i=t.latestValues[f])!==null&&i!==void 0?i:null),y=u[f];if(y===void 0||h&&l3(h,f))continue;const E={delay:n,...Dg(o||{},f)};let S=!1;if(window.MotionHandoffAnimation){const w=LI(t);if(w){const v=window.MotionHandoffAnimation(w,f,_e);v!==null&&(E.startTime=v,S=!0)}}dp(t,f),m.start(Gg(f,m,y,t.shouldReduceMotion&&OI.has(f)?{type:!1}:E,t,S));const A=m.animation;A&&c.push(A)}return a&&Promise.all(c).then(()=>{_e.update(()=>{a&&BM(t,a)})}),c}function _p(t,e,n={}){var r;const s=fh(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(pC(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:m}=i;return u3(t,e,h+c,f,m,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[c,h]=u==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function u3(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,u=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(c3).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(_p(c,e,{...i,delay:n+u(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function c3(t,e){return t.sortNodePosition(e)}function h3(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>_p(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=_p(t,e,n);else{const s=typeof e=="function"?fh(t,e,n.custom):e;r=Promise.all(pC(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const d3=xg.length;function mC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?mC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<d3;n++){const r=xg[n],s=t.props[r];(Da(s)||s===!1)&&(e[r]=s)}return e}const f3=[...wg].reverse(),p3=wg.length;function m3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>h3(t,n,r)))}function g3(t){let e=m3(t),n=vw(),r=!0;const s=u=>(c,h)=>{var f;const m=fh(t,h,u==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(m){const{transition:y,transitionEnd:E,...S}=m;c={...c,...S,...E}}return c};function i(u){e=u(t)}function o(u){const{props:c}=t,h=mC(t.parent)||{},f=[],m=new Set;let y={},E=1/0;for(let A=0;A<p3;A++){const w=f3[A],v=n[w],T=c[w]!==void 0?c[w]:h[w],b=Da(T),j=w===u?v.isActive:null;j===!1&&(E=A);let D=T===h[w]&&T!==c[w]&&b;if(D&&r&&t.manuallyAnimateOnMount&&(D=!1),v.protectedKeys={...y},!v.isActive&&j===null||!T&&!v.prevProp||hh(T)||typeof T=="boolean")continue;const I=y3(v.prevProp,T);let _=I||w===u&&v.isActive&&!D&&b||A>E&&b,C=!1;const P=Array.isArray(T)?T:[T];let N=P.reduce(s(w),{});j===!1&&(N={});const{prevResolvedValues:V={}}=v,k={...V,...N},yt=me=>{_=!0,m.has(me)&&(C=!0,m.delete(me)),v.needsAnimating[me]=!0;const z=t.getValue(me);z&&(z.liveStyle=!1)};for(const me in k){const z=N[me],G=V[me];if(y.hasOwnProperty(me))continue;let X=!1;up(z)&&up(G)?X=!PI(z,G):X=z!==G,X?z!=null?yt(me):m.add(me):z!==void 0&&m.has(me)?yt(me):v.protectedKeys[me]=!0}v.prevProp=T,v.prevResolvedValues=N,v.isActive&&(y={...y,...N}),r&&t.blockInitialAnimation&&(_=!1),_&&(!(D&&I)||C)&&f.push(...P.map(me=>({animation:me,options:{type:w}})))}if(m.size){const A={};m.forEach(w=>{const v=t.getBaseTarget(w),T=t.getValue(w);T&&(T.liveStyle=!0),A[w]=v??null}),f.push({animation:A})}let S=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(f):Promise.resolve()}function a(u,c){var h;if(n[u].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(u,c)}),n[u].isActive=c;const f=o(u);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=vw(),r=!0}}}function y3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!PI(e,t):!1}function is(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vw(){return{animate:is(!0),whileInView:is(),whileHover:is(),whileTap:is(),whileDrag:is(),whileFocus:is(),exit:is()}}class es{constructor(e){this.isMounted=!1,this.node=e}update(){}}class v3 extends es{constructor(e){super(e),e.animationState||(e.animationState=g3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let _3=0;class w3 extends es{constructor(){super(...arguments),this.id=_3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const x3={animation:{Feature:v3},exit:{Feature:w3}};function Ma(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function nl(t){return{point:{x:t.pageX,y:t.pageY}}}const E3=t=>e=>Og(e)&&t(e,nl(e));function ta(t,e,n,r){return Ma(t,e,E3(n),r)}const _w=(t,e)=>Math.abs(t-e);function T3(t,e){const n=_w(t.x,e.x),r=_w(t.y,e.y);return Math.sqrt(n**2+r**2)}class gC{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Rd(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=T3(f.offset,{x:0,y:0})>=3;if(!m&&!y)return;const{point:E}=f,{timestamp:S}=Xe;this.history.push({...E,timestamp:S});const{onStart:A,onMove:w}=this.handlers;m||(A&&A(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Pd(m,this.transformPagePoint),_e.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:y,onSessionEnd:E,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Rd(f.type==="pointercancel"?this.lastMoveEventInfo:Pd(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,A),E&&E(f,A)},!Og(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=nl(e),a=Pd(o,this.transformPagePoint),{point:u}=a,{timestamp:c}=Xe;this.history=[{...u,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Rd(a,this.history)),this.removeListeners=tl(ta(this.contextWindow,"pointermove",this.handlePointerMove),ta(this.contextWindow,"pointerup",this.handlePointerUp),ta(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),qr(this.updatePoint)}}function Pd(t,e){return e?{point:e(t.point)}:t}function ww(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Rd({point:t},e){return{point:t,delta:ww(t,yC(e)),offset:ww(t,S3(e)),velocity:I3(e,.1)}}function S3(t){return t[0]}function yC(t){return t[t.length-1]}function I3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=yC(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>$n(e)));)n--;if(!r)return{x:0,y:0};const i=Hn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const vC=1e-4,C3=1-vC,A3=1+vC,_C=.01,P3=0-_C,R3=0+_C;function Lt(t){return t.max-t.min}function k3(t,e,n){return Math.abs(t-e)<=n}function xw(t,e,n,r=.5){t.origin=r,t.originPoint=Se(e.min,e.max,t.origin),t.scale=Lt(n)/Lt(e),t.translate=Se(n.min,n.max,t.origin)-t.originPoint,(t.scale>=C3&&t.scale<=A3||isNaN(t.scale))&&(t.scale=1),(t.translate>=P3&&t.translate<=R3||isNaN(t.translate))&&(t.translate=0)}function na(t,e,n,r){xw(t.x,e.x,n.x,r?r.originX:void 0),xw(t.y,e.y,n.y,r?r.originY:void 0)}function Ew(t,e,n){t.min=n.min+e.min,t.max=t.min+Lt(e)}function b3(t,e,n){Ew(t.x,e.x,n.x),Ew(t.y,e.y,n.y)}function Tw(t,e,n){t.min=e.min-n.min,t.max=t.min+Lt(e)}function ra(t,e,n){Tw(t.x,e.x,n.x),Tw(t.y,e.y,n.y)}function N3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Se(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Se(n,t,r.max):Math.min(t,n)),t}function Sw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function D3(t,{top:e,left:n,bottom:r,right:s}){return{x:Sw(t.x,n,s),y:Sw(t.y,e,r)}}function Iw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function V3(t,e){return{x:Iw(t.x,e.x),y:Iw(t.y,e.y)}}function j3(t,e){let n=.5;const r=Lt(t),s=Lt(e);return s>r?n=Bi(e.min,e.max-r,t.min):r>s&&(n=Bi(t.min,t.max-s,e.min)),Zn(0,1,n)}function O3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const wp=.35;function M3(t=wp){return t===!1?t=0:t===!0&&(t=wp),{x:Cw(t,"left","right"),y:Cw(t,"top","bottom")}}function Cw(t,e,n){return{min:Aw(t,e),max:Aw(t,n)}}function Aw(t,e){return typeof t=="number"?t:t[e]||0}const Pw=()=>({translate:0,scale:1,origin:0,originPoint:0}),hi=()=>({x:Pw(),y:Pw()}),Rw=()=>({min:0,max:0}),De=()=>({x:Rw(),y:Rw()});function zt(t){return[t("x"),t("y")]}function wC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function L3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function F3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function kd(t){return t===void 0||t===1}function xp({scale:t,scaleX:e,scaleY:n}){return!kd(t)||!kd(e)||!kd(n)}function cs(t){return xp(t)||xC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function xC(t){return kw(t.x)||kw(t.y)}function kw(t){return t&&t!=="0%"}function Ec(t,e,n){const r=t-n,s=e*r;return n+s}function bw(t,e,n,r,s){return s!==void 0&&(t=Ec(t,s,r)),Ec(t,n,r)+e}function Ep(t,e=0,n=1,r,s){t.min=bw(t.min,e,n,r,s),t.max=bw(t.max,e,n,r,s)}function EC(t,{x:e,y:n}){Ep(t.x,e.translate,e.scale,e.originPoint),Ep(t.y,n.translate,n.scale,n.originPoint)}const Nw=.999999999999,Dw=1.0000000000001;function U3(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&fi(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,EC(t,o)),r&&cs(i.latestValues)&&fi(t,i.latestValues))}e.x<Dw&&e.x>Nw&&(e.x=1),e.y<Dw&&e.y>Nw&&(e.y=1)}function di(t,e){t.min=t.min+e,t.max=t.max+e}function Vw(t,e,n,r,s=.5){const i=Se(t.min,t.max,s);Ep(t,e,n,i,r)}function fi(t,e){Vw(t.x,e.x,e.scaleX,e.scale,e.originX),Vw(t.y,e.y,e.scaleY,e.scale,e.originY)}function TC(t,e){return wC(F3(t.getBoundingClientRect(),e))}function B3(t,e,n){const r=TC(t,n),{scroll:s}=e;return s&&(di(r.x,s.offset.x),di(r.y,s.offset.y)),r}const SC=({current:t})=>t?t.ownerDocument.defaultView:null,z3=new WeakMap;class $3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=De(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(nl(h).point)},i=(h,f)=>{const{drag:m,dragPropagation:y,onDragStart:E}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OM(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zt(A=>{let w=this.getAxisMotionValue(A).get()||0;if(xn.test(w)){const{projection:v}=this.visualElement;if(v&&v.layout){const T=v.layout.layoutBox[A];T&&(w=Lt(T)*(parseFloat(w)/100))}}this.originPoint[A]=w}),E&&_e.postRender(()=>E(h,f)),dp(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:E,onDrag:S}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:A}=f;if(y&&this.currentDirection===null){this.currentDirection=H3(A),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",f.point,A),this.updateAxis("y",f.point,A),this.visualElement.render(),S&&S(h,f)},a=(h,f)=>this.stop(h,f),u=()=>zt(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new gC(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:SC(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&_e.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Kl(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=N3(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&ui(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=D3(s.layoutBox,n):this.constraints=!1,this.elastic=M3(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&zt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=O3(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ui(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=B3(r,s.root,this.visualElement.getTransformPagePoint());let o=V3(s.layout.layoutBox,i);if(n){const a=n(L3(o));this.hasMutatedConstraints=!!a,a&&(o=wC(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},c=zt(h=>{if(!Kl(h,n,this.currentDirection))return;let f=u&&u[h]||{};o&&(f={min:0,max:0});const m=s?200:1e6,y=s?40:1e7,E={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,E)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return dp(this.visualElement,e),r.start(Gg(e,r,0,n,this.visualElement,!1))}stopAnimation(){zt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){zt(n=>{const{drag:r}=this.getProps();if(!Kl(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Se(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ui(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};zt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const u=a.get();s[o]=j3({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zt(o=>{if(!Kl(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:c}=this.constraints[o];a.set(Se(u,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;z3.set(this.visualElement,this);const e=this.visualElement.current,n=ta(e,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();ui(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),_e.read(r);const o=Ma(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(zt(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=u[h].translate,f.set(f.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=wp,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Kl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function H3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class W3 extends es{constructor(e){super(e),this.removeGroupControls=Ot,this.removeListeners=Ot,this.controls=new $3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ot}unmount(){this.removeGroupControls(),this.removeListeners()}}const jw=t=>(e,n)=>{t&&_e.postRender(()=>t(e,n))};class q3 extends es{constructor(){super(...arguments),this.removePointerDownListener=Ot}onPointerDown(e){this.session=new gC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:jw(e),onStart:jw(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&_e.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ta(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ow(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Io={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(K.test(t))t=parseFloat(t);else return t;const n=Ow(t,e.target.x),r=Ow(t,e.target.y);return`${n}% ${r}%`}},K3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Kr.parse(t);if(s.length>5)return r;const i=Kr.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,u=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=u;const c=Se(a,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class G3 extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;mM(Q3),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),wu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||_e.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Tg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function IC(t){const[e,n]=lI(),r=R.useContext(mg);return d.jsx(G3,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(mI),isPresent:e,safeToRemove:n})}const Q3={borderRadius:{...Io,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Io,borderTopRightRadius:Io,borderBottomLeftRadius:Io,borderBottomRightRadius:Io,boxShadow:K3};function Y3(t,e,n){const r=pt(t)?t:ja(t);return r.start(Gg("",r,e,n)),r.animation}function X3(t){return t instanceof SVGElement&&t.tagName!=="svg"}const J3=(t,e)=>t.depth-e.depth;class Z3{constructor(){this.children=[],this.isDirty=!1}add(e){Mg(this.children,e),this.isDirty=!0}remove(e){Lg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(J3),this.isDirty=!1,this.children.forEach(e)}}function e9(t,e){const n=En.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(qr(r),t(i-e))};return _e.read(r,!0),()=>qr(r)}const CC=["TopLeft","TopRight","BottomLeft","BottomRight"],t9=CC.length,Mw=t=>typeof t=="string"?parseFloat(t):t,Lw=t=>typeof t=="number"||K.test(t);function n9(t,e,n,r,s,i){s?(t.opacity=Se(0,n.opacity!==void 0?n.opacity:1,r9(r)),t.opacityExit=Se(e.opacity!==void 0?e.opacity:1,0,s9(r))):i&&(t.opacity=Se(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<t9;o++){const a=`border${CC[o]}Radius`;let u=Fw(e,a),c=Fw(n,a);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||Lw(u)===Lw(c)?(t[a]=Math.max(Se(Mw(u),Mw(c),r),0),(xn.test(c)||xn.test(u))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Se(e.rotate||0,n.rotate||0,r))}function Fw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const r9=AC(0,.5,WI),s9=AC(.5,.95,Ot);function AC(t,e,n){return r=>r<t?0:r>e?1:n(Bi(t,e,r))}function Uw(t,e){t.min=e.min,t.max=e.max}function Bt(t,e){Uw(t.x,e.x),Uw(t.y,e.y)}function Bw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function zw(t,e,n,r,s){return t-=e,t=Ec(t,1/n,r),s!==void 0&&(t=Ec(t,1/s,r)),t}function i9(t,e=0,n=1,r=.5,s,i=t,o=t){if(xn.test(e)&&(e=parseFloat(e),e=Se(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Se(i.min,i.max,r);t===i&&(a-=e),t.min=zw(t.min,e,n,a,s),t.max=zw(t.max,e,n,a,s)}function $w(t,e,[n,r,s],i,o){i9(t,e[n],e[r],e[s],e.scale,i,o)}const o9=["x","scaleX","originX"],a9=["y","scaleY","originY"];function Hw(t,e,n,r){$w(t.x,e,o9,n?n.x:void 0,r?r.x:void 0),$w(t.y,e,a9,n?n.y:void 0,r?r.y:void 0)}function Ww(t){return t.translate===0&&t.scale===1}function PC(t){return Ww(t.x)&&Ww(t.y)}function qw(t,e){return t.min===e.min&&t.max===e.max}function l9(t,e){return qw(t.x,e.x)&&qw(t.y,e.y)}function Kw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function RC(t,e){return Kw(t.x,e.x)&&Kw(t.y,e.y)}function Gw(t){return Lt(t.x)/Lt(t.y)}function Qw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class u9{constructor(){this.members=[]}add(e){Mg(this.members,e),e.scheduleRender()}remove(e){if(Lg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function c9(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:f,rotateY:m,skewX:y,skewY:E}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),y&&(r+=`skewX(${y}deg) `),E&&(r+=`skewY(${E}deg) `)}const a=t.x.scale*e.x,u=t.y.scale*e.y;return(a!==1||u!==1)&&(r+=`scale(${a}, ${u})`),r||"none"}const hs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Lo=typeof window<"u"&&window.MotionDebug!==void 0,bd=["","X","Y","Z"],h9={visibility:"hidden"},Yw=1e3;let d9=0;function Nd(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function kC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=LI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",_e,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&kC(r)}function bC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=d9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Lo&&(hs.totalNodes=hs.resolvedTargetDeltas=hs.recalculatedProjection=0),this.nodes.forEach(m9),this.nodes.forEach(w9),this.nodes.forEach(x9),this.nodes.forEach(g9),Lo&&window.MotionDebug.record(hs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Z3)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Fg),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=X3(o),this.instance=o;const{layoutId:u,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||u)&&(this.isLayoutDirty=!0),t){let f;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=e9(m,250),wu.hasAnimatedSinceResize&&(wu.hasAnimatedSinceResize=!1,this.nodes.forEach(Jw))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:y,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||C9,{onLayoutAnimationStart:A,onLayoutAnimationComplete:w}=h.getProps(),v=!this.targetLayout||!RC(this.targetLayout,E)||y,T=!m&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,T);const b={...Dg(S,"layout"),onPlay:A,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else m||Jw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(E9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xw);return}this.isUpdating||this.nodes.forEach(v9),this.isUpdating=!1,this.nodes.forEach(_9),this.nodes.forEach(f9),this.nodes.forEach(p9),this.clearAllSnapshots();const a=En.now();Xe.delta=Zn(0,1e3/60,a-Xe.timestamp),Xe.timestamp=a,Xe.isProcessing=!0,Ed.update.process(Xe),Ed.preRender.process(Xe),Ed.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Tg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(y9),this.sharedNodes.forEach(T9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=De(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!PC(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||cs(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),A9(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return De();const u=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(P9))){const{scroll:h}=this.root;h&&(di(u.x,h.offset.x),di(u.y,h.offset.y))}return u}removeElementScroll(o){var a;const u=De();if(Bt(u,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return u;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:f,options:m}=h;h!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&Bt(u,o),di(u.x,f.offset.x),di(u.y,f.offset.y))}return u}applyTransform(o,a=!1){const u=De();Bt(u,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&fi(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),cs(h.latestValues)&&fi(u,h.latestValues)}return cs(this.latestValues)&&fi(u,this.latestValues),u}removeTransform(o){const a=De();Bt(a,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!cs(c.latestValues))continue;xp(c.latestValues)&&c.updateSnapshot();const h=De(),f=c.measurePageBox();Bt(h,f),Hw(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return cs(this.latestValues)&&Hw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Xe.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),ra(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=De(),this.targetWithTransforms=De()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),b3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bt(this.target,this.layout.layoutBox),EC(this.target,this.targetDelta)):Bt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),ra(this.relativeTargetOrigin,this.target,y.target),Bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Lo&&hs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||xp(this.parent.latestValues)||xC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(c=!1),c)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Bt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;U3(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=De());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Bw(this.prevProjectionDelta.x,this.projectionDelta.x),Bw(this.prevProjectionDelta.y,this.projectionDelta.y)),na(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!Qw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),Lo&&hs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hi(),this.projectionDelta=hi(),this.projectionDeltaWithTransform=hi()}setAnimationOrigin(o,a=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},f=hi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=De(),y=u?u.source:void 0,E=this.layout?this.layout.source:void 0,S=y!==E,A=this.getStack(),w=!A||A.members.length<=1,v=!!(S&&!w&&this.options.crossfade===!0&&!this.path.some(I9));this.animationProgress=0;let T;this.mixTargetDelta=b=>{const j=b/1e3;Zw(f.x,o.x,j),Zw(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ra(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),S9(this.relativeTarget,this.relativeTargetOrigin,m,j),T&&l9(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=De()),Bt(T,this.relativeTarget)),S&&(this.animationValues=h,n9(h,c,this.latestValues,j,v,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_e.update(()=>{wu.hasAnimatedSinceResize=!0,this.currentAnimation=Y3(0,Yw,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:c,latestValues:h}=o;if(!(!a||!u||!c)){if(this!==o&&this.layout&&c&&NC(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||De();const f=Lt(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+f;const m=Lt(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+m}Bt(a,u),fi(a,h),na(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new u9),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const c={};u.z&&Nd("z",o,c,this.animationValues);for(let h=0;h<bd.length;h++)Nd(`rotate${bd[h]}`,o,c,this.animationValues),Nd(`skew${bd[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return h9;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=vu(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=vu(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!cs(this.latestValues)&&(S.transform=h?h({},""):"none",this.hasProjected=!1),S}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=c9(this.projectionDeltaWithTransform,this.treeScale,m),h&&(c.transform=h(m,c.transform));const{x:y,y:E}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${E.origin*100}% 0`,f.animationValues?c.opacity=f===this?(u=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in yc){if(m[S]===void 0)continue;const{correct:A,applyTo:w}=yc[S],v=c.transform==="none"?m[S]:A(m[S],f);if(w){const T=w.length;for(let b=0;b<T;b++)c[w[b]]=v}else c[S]=v}return this.options.layoutId&&(c.pointerEvents=f===this?vu(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Xw),this.root.sharedNodes.clear()}}}function f9(t){t.updateLayout()}function p9(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?zt(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],y=Lt(m);m.min=r[f].min,m.max=m.min+y}):NC(i,n.layoutBox,r)&&zt(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],y=Lt(r[f]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const a=hi();na(a,r,n.layoutBox);const u=hi();o?na(u,t.applyTransform(s,!0),n.measuredBox):na(u,r,n.layoutBox);const c=!PC(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:y}=f;if(m&&y){const E=De();ra(E,n.layoutBox,m.layoutBox);const S=De();ra(S,r,y.layoutBox),RC(E,S)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=E,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function m9(t){Lo&&hs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function g9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function y9(t){t.clearSnapshot()}function Xw(t){t.clearMeasurements()}function v9(t){t.isLayoutDirty=!1}function _9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Jw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function w9(t){t.resolveTargetDelta()}function x9(t){t.calcProjection()}function E9(t){t.resetSkewAndRotation()}function T9(t){t.removeLeadSnapshot()}function Zw(t,e,n){t.translate=Se(e.translate,0,n),t.scale=Se(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ex(t,e,n,r){t.min=Se(e.min,n.min,r),t.max=Se(e.max,n.max,r)}function S9(t,e,n,r){ex(t.x,e.x,n.x,r),ex(t.y,e.y,n.y,r)}function I9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const C9={duration:.45,ease:[.4,0,.1,1]},tx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),nx=tx("applewebkit/")&&!tx("chrome/")?Math.round:Ot;function rx(t){t.min=nx(t.min),t.max=nx(t.max)}function A9(t){rx(t.x),rx(t.y)}function NC(t,e,n){return t==="position"||t==="preserve-aspect"&&!k3(Gw(e),Gw(n),.2)}function P9(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const R9=bC({attachResizeListener:(t,e)=>Ma(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dd={current:void 0},DC=bC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dd.current){const t=new R9({});t.mount(window),t.setOptions({layoutScroll:!0}),Dd.current=t}return Dd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),k9={pan:{Feature:q3},drag:{Feature:W3,ProjectionNode:DC,MeasureLayout:IC}};function sx(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&_e.postRender(()=>i(e,nl(e)))}class b9 extends es{mount(){const{current:e}=this.node;e&&(this.unmount=bM(e,n=>(sx(this.node,n,"Start"),r=>sx(this.node,r,"End"))))}unmount(){}}class N9 extends es{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tl(Ma(this.node.current,"focus",()=>this.onFocus()),Ma(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ix(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&_e.postRender(()=>i(e,nl(e)))}class D9 extends es{mount(){const{current:e}=this.node;e&&(this.unmount=jM(e,n=>(ix(this.node,n,"Start"),(r,{success:s})=>ix(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Tp=new WeakMap,Vd=new WeakMap,V9=t=>{const e=Tp.get(t.target);e&&e(t)},j9=t=>{t.forEach(V9)};function O9({root:t,...e}){const n=t||document;Vd.has(n)||Vd.set(n,{});const r=Vd.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(j9,{root:t,...e})),r[s]}function M9(t,e,n){const r=O9(e);return Tp.set(t,n),r.observe(t),()=>{Tp.delete(t),r.unobserve(t)}}const L9={some:0,all:1};class F9 extends es{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:L9[s]},a=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),m=c?h:f;m&&m(u)};return M9(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(U9(e,n))&&this.startObserver()}unmount(){}}function U9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const B9={inView:{Feature:F9},tap:{Feature:D9},focus:{Feature:N9},hover:{Feature:b9}},z9={layout:{ProjectionNode:DC,MeasureLayout:IC}},Sp={current:null},VC={current:!1};function $9(){if(VC.current=!0,!!vg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sp.current=t.matches;t.addListener(e),e()}else Sp.current=!1}const H9=[...iC,ct,Kr],W9=t=>H9.find(sC(t)),ox=new WeakMap;function q9(t,e,n){for(const r in e){const s=e[r],i=n[r];if(pt(s))t.addValue(r,s);else if(pt(i))t.addValue(r,ja(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,ja(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ax=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class K9{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Wg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=En.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,_e.render(this.render,!1,!0))};const{latestValues:u,renderState:c,onUpdate:h}=o;this.onUpdate=h,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=dh(n),this.isVariantNode=fI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in m){const E=m[y];u[y]!==void 0&&pt(E)&&E.set(u[y],!1)}}mount(e){this.current=e,ox.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),VC.current||$9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ox.delete(this.current),this.projection&&this.projection.unmount(),qr(this.notifyUpdate),qr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ls.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&_e.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in zi){const n=zi[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):De()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ax.length;r++){const s=ax[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=q9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ja(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(nC(s)||KI(s))?s=parseFloat(s):!W9(s)&&Kr.test(n)&&(s=ZI(e,n)),this.setBaseTarget(e,pt(s)?s.get():s)),pt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=Ig(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!pt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Fg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class jC extends K9{constructor(){super(...arguments),this.KeyframeResolver=oC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function G9(t){return window.getComputedStyle(t)}class Q9 extends jC{constructor(){super(...arguments),this.type="html",this.renderInstance=EI}readValueFromInstance(e,n){if(Ls.has(n)){const r=Hg(n);return r&&r.default||0}else{const r=G9(e),s=(_I(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return TC(e,n)}build(e,n,r){Pg(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Ng(e,n,r)}}class Y9 extends jC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=De}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ls.has(n)){const r=Hg(n);return r&&r.default||0}return n=TI.has(n)?n:Eg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return CI(e,n,r)}build(e,n,r){Rg(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){SI(e,n,r,s)}mount(e){this.isSVGTag=bg(e.tagName),super.mount(e)}}const X9=(t,e)=>Sg(t)?new Y9(e):new Q9(e,{allowProjection:t!==R.Fragment}),J9=SM({...x3,...B9,...k9,...z9},X9),le=F4(J9),ee=({children:t,variant:e="primary",size:n="md",fullWidth:r=!1,isLoading:s=!1,className:i="",disabled:o,...a})=>{const u="inline-flex items-center justify-center rounded-xl font-medium transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2",c={primary:"bg-gradient-to-r from-blue-900 to-indigo-900 text-white hover:from-blue-800 hover:to-indigo-800 focus:ring-blue-700 shadow-lg",secondary:"bg-gradient-to-r from-gray-800 to-gray-900 text-white hover:from-gray-700 hover:to-gray-800 focus:ring-gray-700 shadow-lg",danger:"bg-gradient-to-r from-red-800 to-red-900 text-white hover:from-red-700 hover:to-red-800 focus:ring-red-700 shadow-lg",success:"bg-gradient-to-r from-green-800 to-green-900 text-white hover:from-green-700 hover:to-green-800 focus:ring-green-700 shadow-lg",outline:"border-2 border-gray-700 text-gray-200 hover:bg-gray-800 focus:ring-blue-700",glass:"glass-card border-none text-gray-100 hover:bg-white/10 focus:ring-blue-700 shadow-lg"},h={sm:"text-sm px-3 py-1.5",md:"text-base px-4 py-2",lg:"text-lg px-6 py-3"},f=r?"w-full":"",m=o||s?"opacity-70 cursor-not-allowed":"";return d.jsx(le.button,{whileHover:{scale:o||s?1:1.05},whileTap:{scale:o||s?1:.97},className:`${u} ${c[e]} ${h[n]} ${f} ${m} ${i}`,disabled:o||s,...a,children:s?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):t})},Z9=()=>{const{user:t,logout:e}=cn(),n=In(),r=Vs(),[s,i]=R.useState(!1),[o,a]=R.useState(!1),[u,c]=R.useState(!1);R.useEffect(()=>{const f=()=>{c(window.scrollY>20)};return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]);const h=()=>{e(),n("/login")};return d.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900 transition-all duration-300 py-4",children:[d.jsxs("div",{className:"flex justify-between items-center w-full max-w-none",children:[d.jsxs(ut,{to:"/",className:"flex items-center space-x-2",children:[d.jsx(Sm,{className:"h-8 w-8 text-blue-600"}),d.jsx("span",{className:"text-xl font-extrabold text-gradient drop-shadow-lg tracking-wide",children:"EngineerGuide"})]}),d.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[d.jsx(ut,{to:"/",className:`hover:text-blue-400 transition-colors ${r.pathname==="/"?"text-white font-bold":"text-blue-200"}`,children:"Home"}),d.jsx(ut,{to:"/resources",className:`hover:text-blue-400 transition-colors ${r.pathname.includes("/resources")?"text-white font-bold":"text-blue-200"}`,children:"Resources"}),d.jsx(ut,{to:"/help",className:`hover:text-blue-400 transition-colors ${r.pathname==="/help"?"text-white font-bold":"text-blue-200"}`,children:"Help"}),d.jsx(ut,{to:"/admission",className:`hover:text-blue-400 transition-colors ${r.pathname==="/admission"?"text-white font-bold":"text-blue-200"}`,children:"Admission"}),t&&t.role==="admin"&&d.jsx(ut,{to:"/assiste",className:`hover:text-blue-400 transition-colors ${r.pathname==="/assiste"?"text-white font-bold":"text-blue-200"}`,children:"Assiste"}),t?d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>a(!o),className:"flex items-center space-x-1 hover:text-blue-600 focus:outline-none transition-colors",children:[d.jsx("span",{children:t.username}),d.jsx(Qk,{className:"h-4 w-4"})]}),d.jsx(ap,{children:o&&d.jsxs(le.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 glass-card rounded-xl py-1 z-10",children:[d.jsxs(ut,{to:"/profile",className:"block px-4 py-2 hover:bg-white/50 transition-colors flex items-center",onClick:()=>a(!1),children:[d.jsx(Of,{className:"h-4 w-4 mr-2"}),"Profile"]}),t.role==="admin"&&d.jsxs(ut,{to:"/admin",className:"block px-4 py-2 hover:bg-white/50 transition-colors flex items-center",onClick:()=>a(!1),children:[d.jsx(pv,{className:"h-4 w-4 mr-2"}),"Admin Panel"]}),d.jsxs("button",{onClick:()=>{h(),a(!1)},className:"block w-full text-left px-4 py-2 hover:bg-white/50 transition-colors flex items-center text-red-600",children:[d.jsx(fv,{className:"h-4 w-4 mr-2"}),"Logout"]})]})})]}):d.jsxs(d.Fragment,{children:[d.jsx(ee,{variant:"glass",className:"bg-gradient-to-r from-yellow-700 via-pink-800 to-blue-900 text-blue-100 font-bold shadow hover:from-yellow-600 hover:to-blue-800",onClick:()=>n("/login"),children:"Sign In"}),d.jsx(ee,{variant:"glass",onClick:()=>n("/signup"),children:"Sign Up"})]})]}),d.jsx("button",{className:"md:hidden focus:outline-none",onClick:()=>i(!s),children:s?d.jsx(Nr,{className:"h-6 w-6"}):d.jsx(eb,{className:"h-6 w-6"})})]}),d.jsx(ap,{children:s&&d.jsx(le.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"md:hidden mt-4",children:d.jsxs("div",{className:"flex flex-col space-y-4 py-2",children:[d.jsx(ut,{to:"/",className:"hover:text-blue-600 transition-colors px-2 py-2",onClick:()=>i(!1),children:"Home"}),d.jsx(ut,{to:"/resources",className:"hover:text-pink-400 transition-colors px-2 py-2",onClick:()=>i(!1),children:"Resources"}),d.jsx(ut,{to:"/help",className:"hover:text-blue-600 transition-colors px-2 py-2",onClick:()=>i(!1),children:"Help"}),d.jsx(ut,{to:"/admission",className:"hover:text-blue-600 transition-colors px-2 py-2",onClick:()=>i(!1),children:"Admission"}),t&&t.role==="admin"&&d.jsx(ut,{to:"/assiste",className:"hover:text-blue-600 transition-colors px-2 py-2",onClick:()=>i(!1),children:"Assiste"}),t?d.jsxs(d.Fragment,{children:[d.jsxs(ut,{to:"/profile",className:"hover:text-blue-600 transition-colors px-2 py-2 flex items-center",onClick:()=>i(!1),children:[d.jsx(Of,{className:"h-4 w-4 mr-2"}),"Profile"]}),t.role==="admin"&&d.jsxs(ut,{to:"/admin",className:"hover:text-blue-600 transition-colors px-2 py-2 flex items-center",onClick:()=>i(!1),children:[d.jsx(pv,{className:"h-4 w-4 mr-2"}),"Admin Panel"]}),d.jsxs("button",{onClick:()=>{h(),i(!1)},className:"text-red-600 hover:text-red-700 transition-colors px-2 py-2 flex items-center w-full text-left",children:[d.jsx(fv,{className:"h-4 w-4 mr-2"}),"Logout"]})]}):d.jsxs(d.Fragment,{children:[d.jsx(ee,{variant:"glass",onClick:()=>{n("/login"),i(!1)},fullWidth:!0,className:"mb-2",children:"Sign In"}),d.jsx(ee,{variant:"glass",onClick:()=>{n("/signup"),i(!1)},fullWidth:!0,children:"Sign Up"})]})]})})})]})},e6=()=>d.jsxs("footer",{className:"bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900 text-gray-200 py-8 shadow-inner w-full",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center w-full max-w-none",children:[d.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[d.jsx(Sm,{className:"h-6 w-6 mr-2 text-yellow-300 animate-float"}),d.jsx("span",{className:"text-lg font-bold text-gradient",children:"EngineerGuide"})]}),d.jsxs("div",{className:"flex space-x-4 mb-4 md:mb-0",children:[d.jsx("a",{href:"#",className:"hover:text-yellow-300 transition-colors",children:d.jsx(Jk,{className:"h-5 w-5"})}),d.jsx("a",{href:"#",className:"hover:text-blue-300 transition-colors",children:d.jsx(rb,{className:"h-5 w-5"})}),d.jsx("a",{href:"#",className:"hover:text-pink-200 transition-colors",children:d.jsx(Zk,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"text-sm text-gray-400",children:[" ",new Date().getFullYear()," EngineerGuide. All rights reserved."]})]}),d.jsx("div",{className:"mt-6 text-sm text-center text-gray-400",children:d.jsx("p",{children:"Empowering the next generation of engineers with color and creativity."})})]}),ze=({children:t})=>d.jsxs("div",{className:"min-h-screen flex flex-col w-full bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900",children:[d.jsx(Z9,{}),d.jsx(le.main,{className:"flex-grow w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:t}),d.jsx(e6,{})]}),t6=()=>{if(!localStorage.getItem("users")){const t=[{id:"1",username:"admin",email:"admin@example.com",password:"admin123",role:"admin"},{id:"2",username:"user",email:"user@example.com",password:"user123",role:"user"}];localStorage.setItem("users",JSON.stringify(t))}if(!localStorage.getItem("categories")){const t=[{id:"1",name:"Mathematics",description:"Essential mathematics for engineering",iconName:"Calculator"},{id:"2",name:"Physics",description:"Applied physics for engineering students",iconName:"Atom"},{id:"3",name:"Computer Science",description:"Programming and computing fundamentals",iconName:"Code"},{id:"4",name:"Mechanical Engineering",description:"Principles of mechanical engineering",iconName:"Cog"}];localStorage.setItem("categories",JSON.stringify(t))}if(!localStorage.getItem("resources")){const t=[{id:"1",title:"Calculus Fundamentals",description:"Essential calculus concepts for engineers",category:"1",content:"This guide covers derivatives, integrals, and their applications in engineering problems.",imageUrl:"https://images.pexels.com/photos/6238297/pexels-photo-6238297.jpeg",downloadable:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2",title:"Mechanics and Motion",description:"Understanding forces and motion in engineering",category:"2",content:"Learn about Newton's laws, momentum, and energy conservation principles.",imageUrl:"https://images.pexels.com/photos/2432221/pexels-photo-2432221.jpeg",downloadable:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"3",title:"Introduction to Python",description:"Python programming for engineering applications",category:"3",content:"Get started with Python, a versatile language for data analysis and automation.",imageUrl:"https://images.pexels.com/photos/1181671/pexels-photo-1181671.jpeg",downloadable:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"4",title:"Thermodynamics Principles",description:"Understanding energy transfer and conversion",category:"4",content:"This guide covers the laws of thermodynamics and their applications.",imageUrl:"https://images.pexels.com/photos/247763/pexels-photo-247763.jpeg",downloadable:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];localStorage.setItem("resources",JSON.stringify(t))}localStorage.getItem("currentUser")||localStorage.setItem("currentUser","")},sn=()=>{const t=localStorage.getItem("categories");return t?JSON.parse(t):[]},n6=t=>sn().find(n=>n.id===t),r6=t=>{const e=sn(),n={...t,id:Date.now().toString()};return e.push(n),localStorage.setItem("categories",JSON.stringify(e)),n},s6=(t,e)=>{const n=sn(),r=n.findIndex(i=>i.id===t);if(r===-1)return null;const s={...n[r],...e};return n[r]=s,localStorage.setItem("categories",JSON.stringify(n)),s},i6=t=>{let e=sn();const n=e.length;return e=e.filter(r=>r.id!==t),e.length===n?!1:(localStorage.setItem("categories",JSON.stringify(e)),!0)},rr=()=>{const t=localStorage.getItem("resources");return t?JSON.parse(t):[]},o6=t=>rr().find(n=>n.id===t),a6=t=>{const e=rr(),n=new Date().toISOString(),r={...t,id:Date.now().toString(),createdAt:n,updatedAt:n};return e.push(r),localStorage.setItem("resources",JSON.stringify(e)),r},l6=(t,e)=>{const n=rr(),r=n.findIndex(i=>i.id===t);if(r===-1)return null;const s={...n[r],...e,updatedAt:new Date().toISOString()};return n[r]=s,localStorage.setItem("resources",JSON.stringify(n)),s},OC=t=>{let e=rr();const n=e.length;return e=e.filter(r=>r.id!==t),e.length===n?!1:(localStorage.setItem("resources",JSON.stringify(e)),!0)},MC=t=>{const e=rr(),n=e.findIndex(s=>s.id===t);if(n===-1)return null;const r={...e[n],downloadable:!e[n].downloadable,updatedAt:new Date().toISOString()};return e[n]=r,localStorage.setItem("resources",JSON.stringify(e)),r},u6=()=>{const[t,e]=R.useState([]),[n,r]=R.useState([]),[s,i]=R.useState(""),o=In();R.useEffect(()=>{const h=rr();e(h.slice(0,3)),r(sn())},[]);const a=h=>{h.preventDefault(),o(`/resources?search=${encodeURIComponent(s)}`)},u={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},c={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return d.jsx(ze,{children:d.jsxs("div",{className:"py-12 min-h-screen w-full bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900 rounded-none px-4 md:px-8 mt-8",children:[d.jsxs("section",{className:"py-12 md:py-20 bg-gradient-to-br from-gray-900 via-blue-950 to-pink-950 relative overflow-hidden w-full rounded-xl mb-8 px-4 md:px-8",children:[d.jsxs("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none z-0",children:[d.jsx("div",{className:"absolute w-96 h-96 bg-pink-900 rounded-full opacity-20 blur-3xl animate-float",style:{top:"-6rem",left:"-6rem"}}),d.jsx("div",{className:"absolute w-96 h-96 bg-blue-900 rounded-full opacity-20 blur-3xl animate-float",style:{bottom:"-6rem",right:"-6rem"}})]}),d.jsxs("div",{className:"relative z-10 text-center w-full",children:[d.jsx(le.h1,{className:"text-4xl md:text-5xl font-extrabold text-gradient mb-6 drop-shadow-lg leading-tight md:leading-[1.15] pb-2",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"Engineering Student Guide"}),d.jsx(le.p,{className:"text-xl text-gray-300 mb-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.5},children:"Your vibrant hub for resources, projects, and collaboration."}),d.jsxs("form",{onSubmit:a,className:"flex flex-col md:flex-row items-center justify-center gap-4 mb-8 w-full",children:[d.jsx("input",{type:"text",value:s,onChange:h=>i(h.target.value),className:"w-full md:w-96 px-5 py-3 rounded-xl border-2 border-blue-900 focus:ring-2 focus:ring-blue-400 focus:outline-none text-lg bg-gray-800/80 text-gray-100 shadow",placeholder:"Search resources, topics, or projects..."}),d.jsx(ee,{type:"submit",size:"lg",variant:"primary",className:"shadow-lg",children:"Search"})]})]})]}),d.jsx("section",{className:"py-12 bg-gradient-to-br from-gray-900 via-blue-950 to-pink-950 rounded-xl my-12 w-full px-4 md:px-8",children:d.jsxs("div",{className:"w-full",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8 w-full",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Featured Resources"}),d.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>o("/resources"),className:"border-blue-900 text-gray-100 hover:bg-gray-800",children:["View All",d.jsx(Yk,{className:"h-4 w-4 ml-1"})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-12 w-full",children:t.map((h,f)=>d.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:f*.1},className:"bg-gray-800/90 rounded-2xl shadow-xl border-2 border-pink-900 p-6 flex flex-col items-center hover:scale-105 transition-transform duration-300 w-full",children:[h.imageUrl&&d.jsx("div",{className:"h-40 overflow-hidden rounded-lg w-full mb-4",children:d.jsx("img",{src:h.imageUrl,alt:h.title,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})}),d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-xl font-bold text-gradient mb-2 drop-shadow",children:h.title}),d.jsx("p",{className:"text-gray-300 text-sm mb-4",children:h.description}),d.jsxs(ee,{size:"sm",onClick:()=>o(`/resources/${h.id}`),className:"bg-gradient-to-r from-pink-900 via-yellow-800 to-blue-900 text-gray-100 font-bold shadow hover:from-yellow-700 hover:to-blue-800",children:[d.jsx(Sm,{className:"h-4 w-4 mr-1"}),"Read More"]})]})]},h.id))})]})}),d.jsx("section",{className:"py-12 w-full px-4 md:px-8",children:d.jsxs("div",{className:"w-full",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Browse by Category"}),d.jsx(le.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full",variants:u,initial:"hidden",animate:"show",children:n.map(h=>d.jsxs(le.div,{variants:c,className:"bg-gradient-to-br from-gray-900 via-blue-950 to-pink-950 rounded-2xl shadow-xl border-2 border-blue-900 p-6 flex flex-col items-center hover:scale-105 transition-transform duration-300 w-full",children:[d.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[d.jsx(Kk,{className:"h-8 w-8 text-blue-400 mb-4"}),d.jsx("h3",{className:"text-xl font-bold text-gradient mb-2 drop-shadow",children:h.name}),d.jsx("p",{className:"text-gray-300 text-sm mb-4 text-center",children:h.description})]}),d.jsx(ee,{variant:"primary",className:"mt-auto bg-gradient-to-r from-pink-900 via-yellow-800 to-blue-900 text-gray-100 font-bold shadow hover:from-yellow-700 hover:to-blue-800",onClick:()=>o(`/resources?category=${h.id}`),children:"Explore"})]},h.id))})]})}),d.jsx(le.section,{className:"py-16 bg-blue-600 text-white rounded-xl my-12 w-full px-4 md:px-8",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.7},viewport:{once:!0},children:d.jsxs("div",{className:"w-full text-center",children:[d.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to enhance your engineering knowledge?"}),d.jsx("p",{className:"text-xl text-blue-100 mb-8 w-full",children:"Access comprehensive guides, resources, and materials designed specifically for engineering students"}),d.jsx(ee,{onClick:()=>o("/resources"),className:"bg-white text-blue-600 hover:bg-blue-50",size:"lg",children:"Explore Resources"})]})})]})})},c6=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(""),[s,i]=R.useState(""),{login:o,error:a,isLoading:u}=cn(),c=In(),h=async f=>{if(f.preventDefault(),i(""),!t.trim()||!n.trim()){i("Please enter your email and password");return}if(!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(t)){i("Please enter a valid email address");return}await o(t,n)&&c("/")};return d.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full mx-auto p-6 bg-white rounded-lg shadow-md",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Welcome Back"}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Sign in to access your account"})]}),d.jsxs("form",{onSubmit:h,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"identifier",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(Ku,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{id:"identifier",type:"text",value:t,onChange:f=>e(f.target.value),className:"pl-10 w-full py-2 px-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",autoComplete:"username"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(Ku,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{id:"password",type:"password",value:n,onChange:f=>r(f.target.value),className:"pl-10 w-full py-2 px-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password"})]})]}),(s||a)&&d.jsxs("div",{className:"text-red-500 flex items-start space-x-2 text-sm",children:[d.jsx(DE,{className:"h-5 w-5 flex-shrink-0"}),d.jsx("p",{children:s||a})]}),d.jsx(ee,{type:"submit",fullWidth:!0,isLoading:u,className:"mt-6",children:"Sign In"})]}),d.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:d.jsx("a",{href:"/forgot-password",className:"text-blue-600 hover:underline",children:"Forgot password?"})}),d.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:[d.jsx("p",{children:"Demo accounts:"}),d.jsxs("p",{className:"mt-1",children:["Admin: email: ",d.jsx("span",{className:"font-medium",children:"admin@example.com"}),", password: ",d.jsx("span",{className:"font-medium",children:"admin123"})]}),d.jsxs("p",{children:["User: email: ",d.jsx("span",{className:"font-medium",children:"user@example.com"}),", password: ",d.jsx("span",{className:"font-medium",children:"user123"})]})]})]})},h6=()=>{const{user:t}=cn();return t?d.jsx(Ni,{to:"/"}):d.jsx(ze,{children:d.jsx("div",{className:"py-12 min-h-screen w-full bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900 flex items-center justify-center rounded-none px-4 md:px-8 mt-8",children:d.jsx("div",{className:"w-full flex items-center justify-center rounded-2xl px-4 md:px-8",children:d.jsx(c6,{})})})})},d6=({children:t,className:e="",onClick:n,interactive:r=!1,variant:s="default"})=>{const i=s==="glass"?"glass-card rounded-xl overflow-hidden":"bg-white rounded-xl shadow-lg overflow-hidden",o=r?"cursor-pointer hover-scale":"";return d.jsx(le.div,{className:`${i} ${o} ${e} h-full flex flex-col bg-gradient-to-br from-gray-900 via-blue-950 to-pink-950 shadow-xl hover:shadow-2xl border-2 border-blue-900 hover:border-pink-900 transition-all duration-300`,onClick:n,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{type:"spring",stiffness:300,damping:30},children:t})},f6=({resource:t,showCategory:e=!0})=>{const{user:n}=cn(),r=(n==null?void 0:n.role)==="admin",s=t.downloadable||r,i=o=>{const a=new Date(o);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(a)};return d.jsxs(d6,{interactive:!0,className:"h-full flex flex-col bg-gradient-to-br from-gray-900 via-blue-950 to-pink-950 shadow-xl hover:shadow-2xl border-2 border-blue-900 hover:border-pink-900 transition-all duration-300",children:[t.imageUrl&&d.jsx("div",{className:"h-48 overflow-hidden",children:d.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})}),d.jsxs("div",{className:"p-4 flex-grow flex flex-col bg-gradient-to-br from-gray-900 via-blue-950 to-pink-950 rounded-b-2xl",children:[d.jsx("h3",{className:"text-lg font-bold text-gradient mb-2 drop-shadow",children:t.title}),d.jsx("p",{className:"text-gray-200 text-sm mb-4 flex-grow",children:t.description}),d.jsxs("div",{className:"flex flex-wrap justify-between items-center mt-auto",children:[d.jsx("div",{className:"text-xs text-gray-400",children:i(t.updatedAt)}),d.jsxs("div",{className:"flex space-x-2 mt-2",children:[d.jsxs(ut,{to:`/resources/${t.id}`,className:"text-pink-400 hover:text-indigo-300 inline-flex items-center text-sm font-semibold transition-colors",children:[d.jsx(jE,{className:"h-4 w-4 mr-1"}),"View"]}),s&&d.jsxs("button",{className:`inline-flex items-center text-sm ${s?"text-green-400 hover:text-green-600":"text-gray-400 cursor-not-allowed"}`,disabled:!s,title:s?"Download resource":"Download not allowed",children:[d.jsx(VE,{className:"h-4 w-4 mr-1"}),"Download"]})]})]})]})]})},p6=({resources:t,isLoading:e=!1,emptyMessage:n="No resources found"})=>e?d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[...Array(4)].map((r,s)=>d.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden h-72 animate-pulse",children:[d.jsx("div",{className:"h-48 bg-gray-300"}),d.jsxs("div",{className:"p-4",children:[d.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),d.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]},s))}):t.length===0?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-500 text-lg",children:n})}):d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map((r,s)=>d.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:s*.1},children:d.jsx(f6,{resource:r})},r.id))}),m6=()=>{const[t,e]=Hk(),[n,r]=R.useState([]),[s,i]=R.useState([]),[o,a]=R.useState([]),[u,c]=R.useState(""),[h,f]=R.useState(""),[m,y]=R.useState(!0),[E,S]=R.useState(!1);R.useEffect(()=>{const b=t.get("category"),j=t.get("search");b&&f(b),j&&c(j),(()=>{const I=rr(),_=sn();r(I),a(_),y(!1)})()},[t]),R.useEffect(()=>{let b=[...n];u&&(b=b.filter(j=>j.title.toLowerCase().includes(u.toLowerCase())||j.description.toLowerCase().includes(u.toLowerCase())||j.content.toLowerCase().includes(u.toLowerCase()))),h&&(b=b.filter(j=>j.category===h)),i(b)},[n,u,h]);const A=b=>{b.preventDefault(),w()},w=()=>{const b={};u&&(b.search=u),h&&(b.category=h),e(b)},v=u||h,T=b=>{const j=o.find(D=>D.id===b);return j?j.name:""};return d.jsx(ze,{children:d.jsx("div",{className:"py-12 min-h-screen w-full bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900 rounded-none px-4 md:px-8 mt-8",children:d.jsxs("div",{className:"w-full min-h-screen rounded-2xl bg-gradient-to-br from-gray-900 via-blue-950 to-pink-950 shadow-2xl border-2 border-blue-900 px-4 md:px-8",children:[d.jsx("div",{className:"flex flex-col items-center justify-center mb-8 w-full pt-16",children:d.jsx(le.h1,{className:"text-4xl md:text-5xl font-extrabold text-gradient mb-6 drop-shadow-lg leading-tight md:leading-[1.15] pb-2 text-center",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:"Engineering Resources"})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8 w-full",children:[d.jsx(le.div,{className:"hidden md:block",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:d.jsxs("div",{className:"bg-gray-900 rounded-lg shadow-md p-4 border border-blue-900",children:[d.jsx("h3",{className:"font-medium text-gray-100 mb-4",children:"Filter by Category"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:`px-3 py-2 rounded cursor-pointer transition-colors ${h===""?"bg-blue-900 text-blue-200":"hover:bg-gray-800 text-gray-200"}`,onClick:()=>{f(""),w()},children:"All Categories"}),o.map(b=>d.jsx("div",{className:`px-3 py-2 rounded cursor-pointer transition-colors ${h===b.id?"bg-blue-900 text-blue-200":"hover:bg-gray-800 text-gray-200"}`,onClick:()=>{f(b.id),w()},children:b.name},b.id))]})]})}),E&&d.jsx(le.div,{className:"md:hidden col-span-1",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:d.jsxs("div",{className:"bg-gray-900 rounded-lg shadow-md p-4 mb-6 border border-blue-900",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"font-medium text-gray-100",children:"Filter by Category"}),d.jsx("button",{onClick:()=>S(!1),children:d.jsx(Nr,{className:"h-5 w-5 text-gray-400"})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:`px-3 py-2 rounded cursor-pointer transition-colors ${h===""?"bg-blue-900 text-blue-200":"hover:bg-gray-800 text-gray-200"}`,onClick:()=>{f(""),w(),S(!1)},children:"All Categories"}),o.map(b=>d.jsx("div",{className:`px-3 py-2 rounded cursor-pointer transition-colors ${h===b.id?"bg-blue-900 text-blue-200":"hover:bg-gray-800 text-gray-200"}`,onClick:()=>{f(b.id),w(),S(!1)},children:b.name},b.id))]})]})}),d.jsxs("div",{className:"col-span-1 md:col-span-3 w-full",children:[d.jsx(le.form,{onSubmit:A,className:"mb-6 relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search resources...",value:u,onChange:b=>c(b.target.value),className:"w-full py-2 px-4 pl-10 rounded-md border border-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-900/80 text-gray-100 placeholder-gray-400 shadow-lg"}),d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:d.jsx(ME,{className:"h-5 w-5 text-gray-400"})}),d.jsx(ee,{type:"submit",className:"absolute right-1 top-1 bottom-1 rounded-r-md bg-blue-900 text-gray-100 hover:bg-blue-800 shadow",children:"Search"})]})}),v&&d.jsxs(le.div,{className:"mb-4 flex items-center flex-wrap gap-2",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[d.jsx("span",{className:"text-sm text-gray-400",children:"Active filters:"}),h&&d.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-900 text-blue-200",children:["Category: ",T(h),d.jsx("button",{onClick:()=>{f(""),w()},className:"ml-1",children:d.jsx(Nr,{className:"h-3 w-3"})})]}),u&&d.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-900 text-blue-200",children:["Search: ",u,d.jsx("button",{onClick:()=>{c(""),w()},className:"ml-1",children:d.jsx(Nr,{className:"h-3 w-3"})})]})]}),d.jsx(p6,{resources:s,isLoading:m,emptyMessage:v?"No resources match your filters. Try adjusting your search criteria.":"No resources available yet."})]})]})]})})})},Ip=({initialData:t,onSubmit:e,onCancel:n,isLoading:r=!1})=>{const[s,i]=R.useState((t==null?void 0:t.title)||""),[o,a]=R.useState((t==null?void 0:t.description)||""),[u,c]=R.useState((t==null?void 0:t.category)||""),[h,f]=R.useState((t==null?void 0:t.content)||""),[m,y]=R.useState((t==null?void 0:t.imageUrl)||""),[E,S]=R.useState((t==null?void 0:t.downloadable)||!1),[A,w]=R.useState([]),[v,T]=R.useState({});R.useEffect(()=>{w(sn())},[]);const b=()=>{const D={};return s.trim()||(D.title="Title is required"),o.trim()||(D.description="Description is required"),u||(D.category="Category is required"),h.trim()||(D.content="Content is required"),T(D),Object.keys(D).length===0},j=D=>{D.preventDefault(),b()&&e({title:s,description:o,category:u,content:h,imageUrl:m.trim()||void 0,downloadable:E})};return d.jsxs(le.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-lg shadow-md p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:t!=null&&t.id?"Edit Resource":"Add New Resource"}),d.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:d.jsx(Nr,{className:"h-5 w-5"})})]}),d.jsxs("form",{onSubmit:j,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),d.jsx("input",{id:"title",type:"text",value:s,onChange:D=>i(D.target.value),className:`w-full py-2 px-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${v.title?"border-red-500":"border-gray-300"}`}),v.title&&d.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.title})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),d.jsxs("select",{id:"category",value:u,onChange:D=>c(D.target.value),className:`w-full py-2 px-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${v.category?"border-red-500":"border-gray-300"}`,children:[d.jsx("option",{value:"",children:"Select a category"}),A.map(D=>d.jsx("option",{value:D.id,children:D.name},D.id))]}),v.category&&d.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.category})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),d.jsx("input",{id:"description",type:"text",value:o,onChange:D=>a(D.target.value),className:`w-full py-2 px-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${v.description?"border-red-500":"border-gray-300"}`}),v.description&&d.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.description})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),d.jsx("textarea",{id:"content",rows:6,value:h,onChange:D=>f(D.target.value),className:`w-full py-2 px-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${v.content?"border-red-500":"border-gray-300"}`}),v.content&&d.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.content})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL (optional)"}),d.jsx("input",{id:"imageUrl",type:"url",value:m,onChange:D=>y(D.target.value),className:"w-full py-2 px-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/image.jpg"}),m&&d.jsx("div",{className:"mt-2 p-2 border border-gray-300 rounded-md",children:d.jsx("img",{src:m,alt:"Preview",className:"h-32 object-cover rounded",onError:D=>{D.target.src="https://via.placeholder.com/150?text=Invalid+URL"}})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"downloadable",type:"checkbox",checked:E,onChange:D=>S(D.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),d.jsx("label",{htmlFor:"downloadable",className:"ml-2 block text-sm text-gray-700",children:"Allow users to download this resource"})]}),d.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[d.jsx(ee,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),d.jsxs(ee,{type:"submit",isLoading:r,children:[d.jsx(jf,{className:"h-4 w-4 mr-1"}),t!=null&&t.id?"Update":"Create"," Resource"]})]})]})]})},g6=()=>{const{id:t}=Uc(),e=In(),{user:n}=cn(),[r,s]=R.useState(null),[i,o]=R.useState(null),[a,u]=R.useState(!0),[c,h]=R.useState(!1),[f,m]=R.useState(!1),y=(n==null?void 0:n.role)==="admin";R.useEffect(()=>{if(!t)return;(()=>{u(!0);const T=o6(t);if(T){s(T);const b=n6(T.category);b&&o(b)}u(!1)})()},[t]);const E=()=>{t&&(OC(t),e("/resources"))},S=()=>{if(!t||!r)return;const v=MC(t);v&&s(v)},A=v=>{if(!t||!r)return;const T={...r,...v,updatedAt:new Date().toISOString()};localStorage.setItem("resources",JSON.stringify(rr().map(b=>b.id===t?T:b))),s(T),h(!1)},w=v=>{const T=new Date(v);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(T)};return a?d.jsx(ze,{children:d.jsxs("div",{className:"animate-pulse",children:[d.jsx("div",{className:"h-8 bg-gray-300 rounded w-3/4 mb-4"}),d.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-8"}),d.jsx("div",{className:"h-64 bg-gray-300 rounded mb-6"}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"h-4 bg-gray-300 rounded w-full"}),d.jsx("div",{className:"h-4 bg-gray-300 rounded w-full"}),d.jsx("div",{className:"h-4 bg-gray-300 rounded w-5/6"}),d.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"})]})]})}):r?c?d.jsx(ze,{children:d.jsxs("div",{className:"py-8",children:[d.jsxs("button",{onClick:()=>h(!1),className:"flex items-center text-blue-600 hover:text-blue-800 mb-6",children:[d.jsx(dv,{className:"h-4 w-4 mr-1"}),"Back to Resource"]}),d.jsx(Ip,{initialData:r,onSubmit:A,onCancel:()=>h(!1)})]})}):d.jsx(ze,{children:d.jsxs("div",{className:"py-12 min-h-screen w-full bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900 rounded-none px-4 md:px-8 mt-8",children:[d.jsxs(le.div,{className:"rounded-2xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsxs("button",{onClick:()=>e("/resources"),className:"flex items-center text-blue-400 hover:text-white mb-6",children:[d.jsx(dv,{className:"h-4 w-4 mr-1"}),"Back to Resources"]}),d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gradient mb-2 drop-shadow",children:r.title}),d.jsxs("div",{className:"flex flex-wrap items-center text-sm text-gray-400 gap-x-4 gap-y-2",children:[i&&d.jsx("span",{className:"inline-flex items-center bg-blue-900 text-blue-200 px-2 py-1 rounded",children:i.name}),d.jsxs("span",{className:"inline-flex items-center",children:[d.jsx(Gk,{className:"h-4 w-4 mr-1"}),"Created: ",w(r.createdAt)]}),d.jsxs("span",{className:"inline-flex items-center",children:[d.jsx(Xk,{className:"h-4 w-4 mr-1"}),"Updated: ",w(r.updatedAt)]})]})]}),y&&d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"border-blue-900 text-gray-100 hover:bg-gray-800",children:[d.jsx(Im,{className:"h-4 w-4 mr-1"}),"Edit"]}),d.jsxs(ee,{variant:r.downloadable?"outline":"success",size:"sm",onClick:S,className:"border-blue-900 text-gray-100 hover:bg-gray-800",children:[d.jsx(jE,{className:"h-4 w-4 mr-1"}),r.downloadable?"Disable Download":"Enable Download"]}),d.jsxs(ee,{variant:"danger",size:"sm",onClick:()=>m(!0),className:"border-pink-900 text-gray-100 hover:bg-gray-800",children:[d.jsx(Ta,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),r.imageUrl&&d.jsx("div",{className:"mb-8",children:d.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full h-auto rounded-lg shadow-md"})}),d.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg mb-6 border border-blue-900",children:[d.jsx("h2",{className:"text-xl font-semibold mb-2 text-gray-100",children:"Overview"}),d.jsx("p",{className:"text-gray-300",children:r.description})]}),d.jsxs("div",{className:"prose max-w-none",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-100",children:"Content"}),d.jsx("div",{className:"bg-gray-900 p-6 rounded-lg border border-blue-900",children:r.content.split(`
`).map((v,T)=>d.jsx("p",{className:"mb-4 text-gray-300",children:v},T))})]}),d.jsxs("div",{className:"mt-8 bg-blue-950 p-6 rounded-lg border border-blue-900",children:[d.jsx("h2",{className:"text-xl font-semibold text-blue-200 mb-3",children:"Resource Download"}),d.jsx("p",{className:"text-gray-300 mb-4",children:r.downloadable?"This resource is available for download. Click the button below to get your copy.":"This resource is not currently available for download. Please check back later or contact an administrator."}),d.jsxs(ee,{variant:r.downloadable?"success":"outline",size:"md",className:"border-blue-900 text-gray-100 hover:bg-gray-800",disabled:!r.downloadable&&!y,onClick:()=>{const v=new Blob([`Title: ${r.title}

Description: ${r.description}

Content:
${r.content}`],{type:"text/plain"}),T=URL.createObjectURL(v),b=document.createElement("a");b.href=T,b.download=`${r.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()||"resource"}.txt`,document.body.appendChild(b),b.click(),setTimeout(()=>{document.body.removeChild(b),URL.revokeObjectURL(T)},100)},children:[d.jsx(VE,{className:"h-5 w-5 mr-2"}),y&&!r.downloadable?"Admin Download":"Download Resource"]})]})]}),f&&d.jsx("div",{className:"fixed inset-0 bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900 bg-opacity-95 flex items-center justify-center z-50",children:d.jsxs(le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gray-900 p-6 rounded-lg shadow-xl max-w-md w-full border border-pink-900",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-100 mb-4",children:"Confirm Deletion"}),d.jsx("p",{className:"text-gray-300 mb-6",children:"Are you sure you want to delete this resource? This action cannot be undone."}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx(ee,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),d.jsxs(ee,{variant:"danger",onClick:E,children:[d.jsx(Ta,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})})]})}):d.jsx(ze,{children:d.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900",children:d.jsx("h1",{className:"text-2xl font-bold text-gray-100 mb-4",children:"Resource Not Found"})})})},y6=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(null),[s,i]=R.useState({name:"",description:"",iconName:""}),[o,a]=R.useState(!1);R.useEffect(()=>{e(sn())},[]);const u=E=>{r(E)},c=E=>{n&&r({...n,[E.target.name]:E.target.value})},h=()=>{if(!n)return;s6(n.id,n)&&(e(sn()),r(null))},f=E=>{i6(E),e(sn())},m=E=>{i({...s,[E.target.name]:E.target.value})},y=()=>{!s.name||!s.description||!s.iconName||(r6({name:s.name,description:s.description,iconName:s.iconName}),e(sn()),i({name:"",description:"",iconName:""}),a(!1))};return d.jsxs("div",{className:"bg-gray-900 rounded-lg shadow-md p-6 max-w-2xl mx-auto mt-8 border border-blue-900",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Manage Categories"}),d.jsxs(ee,{onClick:()=>a(!o),children:[d.jsx(OE,{className:"h-4 w-4 mr-1"})," Add Category"]})]}),o&&d.jsxs("div",{className:"mb-6 p-4 border rounded bg-gray-800",children:[d.jsx("input",{name:"name",placeholder:"Name",value:s.name,onChange:m,className:"border p-2 rounded mr-2 mb-2 bg-gray-900 text-gray-100"}),d.jsx("input",{name:"description",placeholder:"Description",value:s.description,onChange:m,className:"border p-2 rounded mr-2 mb-2 bg-gray-900 text-gray-100"}),d.jsx("input",{name:"iconName",placeholder:"Icon Name",value:s.iconName,onChange:m,className:"border p-2 rounded mr-2 mb-2 bg-gray-900 text-gray-100"}),d.jsxs(ee,{onClick:y,children:[d.jsx(jf,{className:"h-4 w-4 mr-1"})," Save"]}),d.jsxs(ee,{variant:"outline",onClick:()=>a(!1),children:[d.jsx(Nr,{className:"h-4 w-4 mr-1"})," Cancel"]})]}),d.jsxs("table",{className:"min-w-full bg-gray-900 rounded-lg overflow-hidden shadow-md",children:[d.jsx("thead",{className:"bg-gray-800 text-gray-200",children:d.jsxs("tr",{children:[d.jsx("th",{className:"py-2 px-4 text-left",children:"Name"}),d.jsx("th",{className:"py-2 px-4 text-left",children:"Description"}),d.jsx("th",{className:"py-2 px-4 text-left",children:"Icon"}),d.jsx("th",{className:"py-2 px-4 text-right",children:"Actions"})]})}),d.jsx("tbody",{children:t.map(E=>d.jsxs("tr",{children:[d.jsx("td",{className:"py-2 px-4 text-gray-100",children:(n==null?void 0:n.id)===E.id?d.jsx("input",{name:"name",value:n.name,onChange:c,className:"border p-1 rounded bg-gray-800 text-gray-100"}):E.name}),d.jsx("td",{className:"py-2 px-4 text-gray-100",children:(n==null?void 0:n.id)===E.id?d.jsx("input",{name:"description",value:n.description,onChange:c,className:"border p-1 rounded bg-gray-800 text-gray-100"}):E.description}),d.jsx("td",{className:"py-2 px-4 text-gray-100",children:(n==null?void 0:n.id)===E.id?d.jsx("input",{name:"iconName",value:n.iconName,onChange:c,className:"border p-1 rounded bg-gray-800 text-gray-100"}):E.iconName}),d.jsx("td",{className:"py-2 px-4 text-right",children:(n==null?void 0:n.id)===E.id?d.jsxs(d.Fragment,{children:[d.jsxs(ee,{onClick:h,children:[d.jsx(jf,{className:"h-4 w-4 mr-1"})," Save"]}),d.jsxs(ee,{variant:"outline",onClick:()=>r(null),children:[d.jsx(Nr,{className:"h-4 w-4 mr-1"})," Cancel"]})]}):d.jsxs(d.Fragment,{children:[d.jsxs(ee,{variant:"outline",onClick:()=>u(E),children:[d.jsx(Im,{className:"h-4 w-4 mr-1"})," Edit"]}),d.jsxs(ee,{variant:"danger",onClick:()=>f(E.id),children:[d.jsx(Ta,{className:"h-4 w-4 mr-1"})," Delete"]})]})})]},E.id))})]})]})},v6=()=>{const{user:t}=cn(),[e,n]=R.useState([]),[r,s]=R.useState(!0),[i,o]=R.useState(""),[a,u]=R.useState(!1),[c,h]=R.useState(null),[f,m]=R.useState(null),[y,E]=R.useState(!1),S=In();if(!t||t.role!=="admin")return d.jsx(Ni,{to:"/login"});R.useEffect(()=>{(()=>{s(!0);const I=rr();n(I),s(!1)})()},[]);const A=D=>{const I=a6(D);n([...e,I]),u(!1)},w=D=>{if(!c)return;const I=l6(c.id,D);I&&n(e.map(_=>_.id===c.id?I:_)),h(null)},v=D=>{OC(D),n(e.filter(I=>I.id!==D)),m(null)},T=D=>{const I=MC(D);I&&n(e.map(_=>_.id===D?I:_))},b=e.filter(D=>D.title.toLowerCase().includes(i.toLowerCase())||D.description.toLowerCase().includes(i.toLowerCase())),j=()=>r?d.jsxs("div",{className:"animate-pulse",children:[d.jsx("div",{className:"h-12 bg-gray-300 rounded mb-4"}),d.jsx("div",{className:"h-12 bg-gray-300 rounded mb-4"}),d.jsx("div",{className:"h-12 bg-gray-300 rounded mb-4"})]}):b.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx("p",{className:"text-gray-400 text-lg",children:i?"No resources match your search query":"No resources available"}),i&&d.jsx(ee,{variant:"outline",className:"mt-4",onClick:()=>o(""),children:"Clear Search"})]}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full bg-gray-900 rounded-lg overflow-hidden shadow-md",children:[d.jsx("thead",{className:"bg-gray-800 text-gray-200",children:d.jsxs("tr",{children:[d.jsx("th",{className:"py-3 px-4 text-left",children:"Title"}),d.jsx("th",{className:"py-3 px-4 text-left",children:"Description"}),d.jsx("th",{className:"py-3 px-4 text-center",children:"Downloadable"}),d.jsx("th",{className:"py-3 px-4 text-right",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-700",children:b.map(D=>d.jsxs(le.tr,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[d.jsx("td",{className:"py-3 px-4",children:d.jsx("div",{className:"font-medium text-gray-100",children:D.title})}),d.jsx("td",{className:"py-3 px-4",children:d.jsx("div",{className:"text-gray-300 text-sm truncate max-w-xs",children:D.description})}),d.jsx("td",{className:"py-3 px-4 text-center",children:d.jsx("button",{onClick:()=>T(D.id),className:`inline-flex items-center ${D.downloadable?"text-green-600":"text-gray-400"}`,children:D.downloadable?d.jsx(nb,{className:"h-6 w-6"}):d.jsx(tb,{className:"h-6 w-6"})})}),d.jsx("td",{className:"py-3 px-4",children:d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx("button",{onClick:()=>h(D),className:"text-blue-600 hover:text-blue-800",title:"Edit resource",children:d.jsx(Im,{className:"h-5 w-5"})}),d.jsx("button",{onClick:()=>m(D.id),className:"text-red-600 hover:text-red-800",title:"Delete resource",children:d.jsx(Ta,{className:"h-5 w-5"})})]})})]},D.id))})]})});return d.jsx(ze,{children:d.jsxs("div",{className:"py-12 min-h-screen w-full bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900 rounded-none px-4 md:px-8 mt-8",children:[d.jsxs(le.div,{className:"rounded-2xl flex flex-col md:flex-row md:items-center justify-between mb-8 bg-gray-900 rounded-none p-6 border border-blue-900 w-full",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-100 mb-4 md:mb-0",children:"Admin Dashboard"}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search resources...",value:i,onChange:D=>o(D.target.value),className:"py-2 px-4 pl-10 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-800 text-gray-100"}),d.jsx(ME,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),d.jsxs(ee,{onClick:()=>u(!0),children:[d.jsx(OE,{className:"h-4 w-4 mr-1"}),"Add Resource"]})]})]}),d.jsx(le.div,{className:"w-full",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},children:d.jsx(ap,{children:a?d.jsx(Ip,{onSubmit:A,onCancel:()=>u(!1)}):c?d.jsx(Ip,{initialData:c,onSubmit:w,onCancel:()=>h(null)}):j()})}),f&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:d.jsxs(le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gray-900 p-6 rounded-lg shadow-xl max-w-md w-full border border-pink-900",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-100 mb-4",children:"Confirm Deletion"}),d.jsx("p",{className:"text-gray-300 mb-6",children:"Are you sure you want to delete this resource? This action cannot be undone."}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx(ee,{variant:"outline",onClick:()=>m(null),children:"Cancel"}),d.jsxs(ee,{variant:"danger",onClick:()=>f&&v(f),children:[d.jsx(Ta,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),d.jsxs("div",{className:"mb-8 flex flex-col md:flex-row gap-4 justify-end",children:[d.jsx(ee,{variant:"outline",onClick:()=>S("/admin/admission/ket"),children:"Edit KCET Admission Steps"}),d.jsx(ee,{variant:"outline",onClick:()=>S("/admin/admission/comedk"),children:"Edit COMEDK Admission Steps"}),d.jsx(ee,{variant:"outline",onClick:()=>S("/admin/admission/management"),children:"Edit Management Quota Steps"}),d.jsx(ee,{variant:"outline",onClick:()=>E(!y),children:y?"Hide Category Management":"Edit Categories"})]}),y&&d.jsx(y6,{})]})})},_6=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(""),[s,i]=R.useState(""),[o,a]=R.useState(""),[u,c]=R.useState(!1),h=In(),{signup:f}=cn(),m=async y=>{if(y.preventDefault(),a(""),!t.trim()||!n.trim()||!s.trim()){a("Please fill in all fields");return}if(!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(t)){a("Please enter a valid email address");return}if(n!==s){a("Passwords do not match");return}c(!0);try{await f(t,n)&&h("/login")}catch(E){a(E.message||"An error occurred during signup")}finally{c(!1)}};return d.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full mx-auto p-6 bg-white rounded-lg shadow-md",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Create Account"}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Sign up to get started"})]}),d.jsxs("form",{onSubmit:m,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(Of,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{id:"email",type:"email",value:t,onChange:y=>e(y.target.value),className:"pl-10 w-full py-2 px-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",autoComplete:"email"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(Ku,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{id:"password",type:"password",value:n,onChange:y=>r(y.target.value),className:"pl-10 w-full py-2 px-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",autoComplete:"new-password"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(Ku,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{id:"confirmPassword",type:"password",value:s,onChange:y=>i(y.target.value),className:"pl-10 w-full py-2 px-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm your password",autoComplete:"new-password"})]})]}),o&&d.jsxs("div",{className:"text-red-500 flex items-start space-x-2 text-sm",children:[d.jsx(DE,{className:"h-5 w-5 flex-shrink-0"}),d.jsx("p",{children:o})]}),d.jsx(ee,{type:"submit",fullWidth:!0,isLoading:u,className:"mt-6",children:"Sign Up"})]}),d.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:d.jsxs("p",{children:["Already have an account? ",d.jsx("a",{href:"/login",className:"text-blue-600 hover:underline",children:"Sign In"})]})})]})},w6=()=>{const{user:t}=cn();return t?d.jsx(Ni,{to:"/"}):d.jsx(ze,{children:d.jsx("div",{className:"py-12 min-h-screen w-full bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900 flex items-center justify-center rounded-none px-4 md:px-8 mt-8",children:d.jsx("div",{className:"w-full flex items-center justify-center rounded-2xl px-4 md:px-8",children:d.jsx(_6,{})})})})},x6=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(""),[s,i]=R.useState(!1),[o,a]=R.useState(""),[u,c]=R.useState([]),{user:h}=cn(),f=m=>{if(m.preventDefault(),a(""),!t.trim()||!n.trim()){a("Please fill in all fields");return}const y=JSON.parse(localStorage.getItem("helpRequests")||"[]"),E={id:Date.now().toString(),title:t,details:n,user:h?{id:h.id,username:h.username}:{id:"",username:""},status:"pending",response:""};y.push(E),localStorage.setItem("helpRequests",JSON.stringify(y)),i(!0),e(""),r(""),c(y.filter(S=>S.user&&S.user.id===(h==null?void 0:h.id)))};return R.useEffect(()=>{const m=JSON.parse(localStorage.getItem("helpRequests")||"[]");h&&c(m.filter(y=>y.user&&y.user.id===h.id))},[h]),d.jsx(ze,{children:d.jsx("div",{className:"py-12 min-h-screen w-full bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900 rounded-none px-4 md:px-8 mt-8",children:d.jsxs("div",{className:"w-full py-12 bg-gradient-to-br from-gray-900 via-gray-800 to-blue-950 rounded-2xl px-4 md:px-8",children:[d.jsx("h1",{className:"text-2xl font-bold mb-6 text-center text-gray-100",children:"Request Project Help"}),d.jsxs("form",{onSubmit:f,className:"space-y-4 bg-gray-800/90 p-8 rounded-2xl shadow-xl border border-pink-900 w-full max-w-none",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-100",children:"Project Title"}),d.jsx("input",{type:"text",value:t,onChange:m=>e(m.target.value),className:"w-full border-2 border-blue-900 px-3 py-2 rounded-xl focus:ring-2 focus:ring-pink-400 focus:outline-none text-lg bg-gray-900/80 text-gray-100 shadow",placeholder:"Enter your project title"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-100",children:"Project Details"}),d.jsx("textarea",{value:n,onChange:m=>r(m.target.value),className:"w-full border-2 border-pink-900 px-3 py-2 rounded-xl focus:ring-2 focus:ring-blue-400 focus:outline-none text-lg bg-gray-900/80 text-gray-100 shadow",placeholder:"Describe your project and what help you need",rows:5})]}),o&&d.jsx("div",{className:"text-red-500 text-sm",children:o}),s&&d.jsx("div",{className:"text-green-600 text-sm",children:"Request submitted! An admin will assist you soon."}),d.jsx(ee,{type:"submit",fullWidth:!0,children:"Submit Request"})]}),u.length>0&&d.jsxs("div",{className:"mt-10 w-full",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-100",children:"Your Previous Requests"}),d.jsx("div",{className:"space-y-4 w-full",children:u.map(m=>d.jsxs("div",{className:"bg-gray-800 p-4 rounded border border-gray-700",children:[d.jsx("div",{className:"font-medium text-gray-100",children:m.title}),d.jsx("div",{className:"text-sm text-gray-300 mb-1",children:m.details}),d.jsxs("div",{className:"text-xs mb-1",children:["Status: ",d.jsx("span",{className:m.status==="responded"?"text-green-400":"text-yellow-300",children:m.status})]}),m.status==="responded"&&d.jsxs("div",{className:"mt-1 text-green-400",children:[d.jsx("span",{className:"font-semibold",children:"Admin Response:"})," ",m.response]})]},m.id))})]})]})})})},E6=()=>{const[t,e]=R.useState([]),[n,r]=R.useState({});R.useEffect(()=>{const o=T4(i4(W_,"helpRequests"),a=>{e(a.docs.map(u=>({id:u.id,...u.data()})))});return()=>o()},[]);const s=async o=>{t.find(u=>u.id===o)&&await E4(o4(W_,"helpRequests",o),{status:"responded",response:n[o]})},i=o=>{e(t.filter(a=>a.id!==o))};return d.jsx(ze,{children:d.jsx("div",{className:"py-12 min-h-screen w-full bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900 rounded-none px-4 md:px-8 mt-8",children:d.jsxs("div",{className:"w-full py-12 bg-gradient-to-br from-gray-900 via-blue-950 to-pink-950 rounded-2xl shadow-2xl border-2 border-pink-900 px-4 md:px-8",children:[d.jsx("h1",{className:"text-2xl font-bold mb-6 text-center text-white",children:"Assist Student Projects"}),t.length===0?d.jsx("div",{className:"text-center text-gray-400",children:"No help requests yet."}):d.jsx("div",{className:"space-y-6 w-full",children:t.map(o=>d.jsxs("div",{className:"bg-gray-900/80 p-6 rounded-2xl shadow-lg border border-blue-950 transition-all duration-300 relative",children:[d.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 focus:outline-none",title:"Close request",onClick:()=>i(o.id),children:d.jsx(Nr,{className:"h-5 w-5"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2 text-white",children:o.title}),d.jsx("p",{className:"mb-2 text-gray-300",children:o.details}),o.user&&d.jsxs("div",{className:"mb-2 text-xs text-gray-400",children:["Requested by: ",o.user.username," (ID: ",o.user.id,")"]}),d.jsx("div",{className:"mb-2",children:d.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${o.status==="responded"?"bg-green-800/30 text-green-300 border border-green-700":"bg-yellow-800/30 text-yellow-200 border border-yellow-700"}`,children:o.status})}),o.status==="responded"?d.jsxs("div",{className:"mt-2",children:[d.jsx("div",{className:"font-medium text-green-300 mb-1",children:"Admin Response:"}),d.jsx("div",{className:"text-gray-100 bg-gray-800/70 rounded-lg p-3 border border-green-800 shadow-inner",children:o.response})]}):d.jsxs("div",{className:"mt-2",children:[d.jsx("textarea",{className:"w-full border-2 border-yellow-900 px-3 py-2 rounded-xl focus:ring-2 focus:ring-pink-400 focus:outline-none text-lg bg-gray-900/80 text-gray-100 shadow",placeholder:"Suggest resources, links, or advice...",value:n[o.id]||"",onChange:a=>r({...n,[o.id]:a.target.value}),rows:3}),d.jsx(ee,{onClick:()=>s(o.id),disabled:!n[o.id],children:"Send Response"})]})]},o.id))})]})})})},jd={kcet:["Register for KCET on the official KEA website.","Fill out the application form and upload required documents.","Download the admit card and appear for the KCET exam.","Check your results and participate in the counseling process.","Select your preferred engineering college and branch during counseling.","Complete admission formalities at the allotted college."],comedk:["Register for COMEDK UGET on the official COMEDK website.","Fill out the application form and upload required documents.","Download the admit card and appear for the COMEDK UGET exam.","Check your results and participate in the counseling process.","Choose your preferred engineering college and branch during counseling.","Complete admission formalities at the allotted college."],management:["Contact the engineering college directly for management quota admission.","Submit the application form and required documents to the college.","Attend any interviews or discussions as required by the college.","Receive the admission offer from the college.","Pay the admission fees and complete the formalities."]},Od=({title:t,steps:e})=>d.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-blue-950 to-pink-950 rounded-2xl shadow-xl border-2 border-blue-900 p-8 w-full max-w-md mx-auto",children:[d.jsx("h2",{className:"text-2xl font-bold text-gradient mb-4 text-center",children:t}),d.jsx("ol",{className:"list-decimal list-inside text-gray-200 space-y-2",children:e.map((n,r)=>d.jsx("li",{children:n},r))})]}),T6=()=>d.jsx(ze,{children:d.jsxs("div",{className:"py-12 min-h-screen w-full bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900 px-4 md:px-8 mt-8",children:[d.jsxs("div",{className:"w-full flex flex-col items-center mb-12",children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gradient mb-6 drop-shadow-lg leading-tight md:leading-[1.15] pb-2 text-center",children:"Engineering Admission Guide"}),d.jsx("p",{className:"text-lg text-gray-200 text-center max-w-2xl",children:"Step-by-step details for joining engineering through KCET, COMEDK, and Management quota."})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 justify-center items-stretch",children:[d.jsx(Od,{title:"KCET Admission",steps:jd.kcet}),d.jsx(Od,{title:"COMEDK Admission",steps:jd.comedk}),d.jsx(Od,{title:"Management Quota",steps:jd.management})]})]})}),lx={ket:["Register for the KET exam on the official website.","Download your admit card when available.","Appear for the KET exam at your designated center.","Check your results online.","Participate in the counseling process and select your preferred colleges.","Complete document verification and pay the admission fee."],comedk:["Register for COMEDK UGET on the official portal.","Fill out the application form and upload required documents.","Download your admit card.","Take the COMEDK UGET exam.","Check your results and download your rank card.","Attend online counseling and select colleges/courses.","Complete admission formalities at the allotted college."],management:["Contact the college admission office directly.","Fill out the management quota application form.","Submit required documents and pay the application fee.","Attend the interview/counseling if required.","Receive admission offer and pay the admission fee.","Complete document verification and join the college."]},S6={ket:"KET Admission Steps",comedk:"COMEDK Admission Steps",management:"Management Quota Steps"},I6=()=>{const{type:t}=Uc();return!t||!(t in lx)?null:d.jsx(ze,{children:d.jsx("div",{className:"py-12 min-h-screen w-full bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900 rounded-none px-4 md:px-8 mt-8",children:d.jsxs("div",{className:"w-full min-h-screen rounded-2xl bg-gradient-to-br from-gray-900 via-blue-950 to-pink-950 shadow-2xl border-2 border-blue-900 px-4 md:px-8 flex flex-col items-center justify-center",children:[d.jsx(le.h1,{className:"text-4xl md:text-5xl font-extrabold text-gradient mb-6 drop-shadow-lg leading-tight md:leading-[1.15] pb-2 text-center mt-12",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:S6[t]}),d.jsx("ol",{className:"list-decimal text-gray-200 text-left pl-6 mb-6 max-w-2xl w-full",children:lx[t].map((e,n)=>d.jsx("li",{className:"mb-2",children:e},n))}),d.jsx(ee,{onClick:()=>window.history.back(),className:"bg-blue-900 text-gray-100",children:"Back"})]})})})},C6={ket:["Register for the KET exam on the official website.","Download your admit card when available.","Appear for the KET exam at your designated center.","Check your results online.","Participate in the counseling process and select your preferred colleges.","Complete document verification and pay the admission fee."],comedk:["Register for COMEDK UGET on the official portal.","Fill out the application form and upload required documents.","Download your admit card.","Take the COMEDK UGET exam.","Check your results and download your rank card.","Attend online counseling and select colleges/courses.","Complete admission formalities at the allotted college."],management:["Contact the college admission office directly.","Fill out the management quota application form.","Submit required documents and pay the application fee.","Attend the interview/counseling if required.","Receive admission offer and pay the admission fee.","Complete document verification and join the college."]};function Qg({type:t,label:e}){const[n,r]=R.useState(()=>{const a=localStorage.getItem(`admissionSteps_${t}`);return a?JSON.parse(a):C6[t]}),[s,i]=R.useState(""),o=a=>{r(a),localStorage.setItem(`admissionSteps_${t}`,JSON.stringify(a))};return d.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-blue-950 to-pink-950 rounded-2xl shadow-xl border-2 border-blue-900 p-8 w-full max-w-2xl mx-auto mb-8",children:[d.jsxs("h2",{className:"text-2xl font-bold text-gradient mb-4 text-center",children:["Edit ",e," Steps"]}),d.jsx("ol",{className:"list-decimal text-gray-200 pl-6 mb-4",children:n.map((a,u)=>d.jsxs("li",{className:"mb-2 flex items-center",children:[d.jsx("input",{className:"w-full bg-gray-800 text-gray-100 rounded px-2 py-1 mr-2 border border-blue-900",value:a,onChange:c=>{const h=[...n];h[u]=c.target.value,o(h)}}),d.jsx(ee,{className:"bg-red-800 text-white px-2 py-1 ml-2",onClick:()=>{const c=n.filter((h,f)=>f!==u);o(c)},children:"Delete"})]},u))}),d.jsxs("div",{className:"flex gap-2 mb-4",children:[d.jsx("input",{className:"flex-1 bg-gray-800 text-gray-100 rounded px-2 py-1 border border-blue-900",value:s,onChange:a=>i(a.target.value),placeholder:"Add new step"}),d.jsx(ee,{className:"bg-blue-900 text-white px-4 py-1",onClick:()=>{if(s.trim()){const a=[...n,s.trim()];o(a),i("")}},children:"Add"})]})]})}const A6=()=>d.jsx(ze,{children:d.jsx(le.div,{className:"py-12 min-h-screen w-full bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900 px-4 md:px-8 mt-8",children:d.jsx(Qg,{type:"comedk",label:"COMEDK Admission"})})}),P6=()=>d.jsx(ze,{children:d.jsx(le.div,{className:"py-12 min-h-screen w-full bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900 px-4 md:px-8 mt-8",children:d.jsx(Qg,{type:"management",label:"Management Quota"})})}),R6={ket:"KET Admission Help",comedk:"COMEDK Admission Help",management:"Management Quota Help"},k6=["ket","comedk","management"],b6=t=>localStorage.getItem(`admissionHelp_${t}`)||"",N6=(t,e)=>{const n=`admissionHelpRequests_${t}`,r=JSON.parse(localStorage.getItem(n)||"[]");r.push({question:e,response:""}),localStorage.setItem(n,JSON.stringify(r))},Md=t=>JSON.parse(localStorage.getItem(`admissionHelpRequests_${t}`)||"[]"),D6=t=>JSON.parse(localStorage.getItem(`admissionUserHelpHistory_${t}`)||"[]"),ux=(t,e)=>{localStorage.setItem(`admissionUserHelpHistory_${t}`,JSON.stringify(e))},V6=()=>{const{type:t}=Uc(),[e,n]=R.useState(""),[r,s]=R.useState(!1);R.useState("");const[i,o]=R.useState(""),[a,u]=R.useState([]),[c,h]=R.useState(null),[f,m]=R.useState(()=>D6(t));if(!t||!k6.includes(t))return null;const y=b6(t);Xl.useEffect(()=>{if(t){const S=Md(t);u(S),r&&h(S.length-1)}},[t,r]),Xl.useEffect(()=>{if(t&&c!==null&&r){const S=setInterval(()=>{const A=Md(t);u(A);const w=A[c];w&&w.response&&!i&&o(w.response)},2e3);return()=>clearInterval(S)}},[t,r,c,i]);const E=S=>{if(S.preventDefault(),e.trim()){N6(t,e.trim());const A=[...f,{question:e.trim(),response:""}];ux(t,A),m(A),s(!0),n(""),h(A.length-1)}};return Xl.useEffect(()=>{if(t&&f.length>0){const S=setInterval(()=>{const A=Md(t);let w=!1;const v=f.map((T,b)=>{var D;const j=((D=A[b])==null?void 0:D.response)||"";return j&&T.response!==j?(w=!0,{...T,response:j}):T});w&&(m(v),ux(t,v))},2e3);return()=>clearInterval(S)}},[t,f]),d.jsx(ze,{children:d.jsx("div",{className:"py-12 min-h-screen w-full bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900 rounded-none px-4 md:px-8 mt-8",children:d.jsxs("div",{className:"w-full min-h-screen rounded-2xl bg-gradient-to-br from-gray-900 via-blue-950 to-pink-950 shadow-2xl border-2 border-blue-900 px-4 md:px-8 flex flex-col items-center justify-center",children:[d.jsx(le.h1,{className:"text-4xl md:text-5xl font-extrabold text-gradient mb-6 drop-shadow-lg leading-tight md:leading-[1.15] pb-2 text-center mt-12",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:R6[t]}),d.jsx("div",{className:"bg-gray-900/80 border border-blue-900 rounded-xl p-6 max-w-2xl w-full text-gray-200 text-lg shadow-lg mb-8",children:y||"No help or guidance has been provided yet."}),d.jsxs("div",{className:"bg-gray-900/80 border border-blue-900 rounded-xl p-6 max-w-2xl w-full text-gray-200 text-lg shadow-lg mb-8",children:[d.jsx("h2",{className:"text-xl font-bold mb-2",children:"Your Previous Help Requests"}),f.length===0?d.jsx("div",{className:"text-gray-400",children:"No previous help requests."}):d.jsx("ul",{className:"space-y-4",children:f.map((S,A)=>d.jsxs("li",{className:"bg-gray-800/80 rounded p-4 border border-blue-900",children:[d.jsxs("div",{className:"mb-1",children:[d.jsx("span",{className:"font-semibold text-blue-300",children:"Q:"})," ",S.question]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold text-green-300",children:"A:"})," ",S.response?S.response:d.jsx("span",{className:"text-gray-400",children:"No response yet."})]})]},A))})]}),d.jsxs("div",{className:"bg-gray-900/80 border border-blue-900 rounded-xl p-6 max-w-2xl w-full text-gray-200 text-lg shadow-lg",children:[d.jsx("h2",{className:"text-xl font-bold mb-2",children:"Ask a Question"}),r?d.jsxs("div",{children:[d.jsx("div",{className:"text-green-400 mb-2",children:"Your question has been submitted. An admin will respond soon."}),i&&d.jsxs("div",{className:"text-blue-400 mt-4",children:["Admin Response: ",i]})]}):d.jsxs("form",{onSubmit:E,children:[d.jsx("textarea",{className:"w-full min-h-[60px] bg-gray-800 text-gray-100 rounded px-3 py-2 border border-blue-900 mb-2",value:e,onChange:S=>n(S.target.value),placeholder:"Type your question here...",required:!0}),d.jsx("button",{type:"submit",className:"bg-blue-900 text-white px-4 py-2 rounded shadow",children:"Submit"})]})]})]})})})},j6={ket:"KET Admission Help Requests",comedk:"COMEDK Admission Help Requests",management:"Management Quota Help Requests"},cx=["ket","comedk","management"],O6=t=>JSON.parse(localStorage.getItem(`admissionHelpRequests_${t}`)||"[]"),M6=(t,e)=>{localStorage.setItem(`admissionHelpRequests_${t}`,JSON.stringify(e))},L6=()=>{const{type:t}=Uc(),[e,n]=R.useState(()=>t&&cx.includes(t)?O6(t):[]),[r,s]=R.useState({});if(!t||!cx.includes(t))return null;const i=o=>{const a=[...e];a[o].response=r[o]||"",n(a),M6(t,a),s(u=>({...u,[o]:""}))};return d.jsx(ze,{children:d.jsx("div",{className:"py-12 min-h-screen w-full bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900 px-4 md:px-8 mt-8",children:d.jsxs("div",{className:"w-full min-h-screen rounded-2xl bg-gradient-to-br from-gray-900 via-blue-950 to-pink-950 shadow-2xl border-2 border-blue-900 px-4 md:px-8 flex flex-col items-center",children:[d.jsx("h1",{className:"text-3xl font-bold text-gradient mb-8 mt-12 text-center",children:j6[t]}),d.jsx("div",{className:"w-full max-w-2xl",children:e.length===0?d.jsx("div",{className:"text-gray-300 text-center",children:"No help requests yet."}):d.jsx("ul",{className:"space-y-8",children:e.map((o,a)=>d.jsxs("li",{className:"bg-gray-900/80 border border-blue-900 rounded-xl p-6 shadow-lg",children:[d.jsxs("div",{className:"mb-2 text-blue-200 font-semibold",children:["Q: ",o.question]}),d.jsxs("div",{className:"mb-2 text-green-300",children:["A: ",o.response||"No response yet."]}),d.jsx("textarea",{className:"w-full min-h-[60px] bg-gray-800 text-gray-100 rounded px-3 py-2 border border-blue-900 mb-2",value:r[a]??"",onChange:u=>s(c=>({...c,[a]:u.target.value})),placeholder:"Type your response here..."}),d.jsx(ee,{className:"bg-blue-900 text-white px-4 py-1",onClick:()=>i(a),children:"Send Response"})]},a))})})]})})})},Gl=()=>{const[t,e]=R.useState("processing"),[n,r]=R.useState(""),[s,i]=R.useState(""),[o,a]=R.useState(""),[u,c]=R.useState(""),h=In(),[f,m]=R.useState("");R.useEffect(()=>{const E=new URLSearchParams(window.location.search),S=E.get("mode"),A=E.get("oobCode");S==="resetPassword"&&A?(m(A),e("reset")):(e("processing"),setTimeout(()=>e("done"),2e3))},[]);const y=async E=>{if(E.preventDefault(),a(""),!n||n.length<6){a("Password must be at least 6 characters.");return}if(n!==s){a("Passwords do not match.");return}try{await zN(Qs,f,n),c("Password updated! Redirecting to login..."),setTimeout(()=>h("/login"),2e3)}catch(S){a(S.message)}};return t==="reset"?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 min-w-[320px] text-center",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Reset Password"}),u?d.jsx("div",{className:"text-green-600 mb-4",children:u}):d.jsxs("form",{onSubmit:y,className:"space-y-4",children:[d.jsx("input",{type:"password",placeholder:"New password",className:"w-full px-3 py-2 border rounded",value:n,onChange:E=>r(E.target.value),minLength:6,required:!0}),d.jsx("input",{type:"password",placeholder:"Confirm new password",className:"w-full px-3 py-2 border rounded",value:s,onChange:E=>i(E.target.value),minLength:6,required:!0}),o&&d.jsx("div",{className:"text-red-500 text-sm",children:o}),d.jsx("button",{type:"submit",className:"bg-blue-900 text-white px-4 py-2 rounded shadow w-full",children:"Update Password"})]})]})}):t==="done"?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 min-w-[320px] text-center",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Done!"}),d.jsx("p",{className:"text-gray-700",children:"You may now log in."})]})}):t==="error"?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 min-w-[320px] text-center",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"Error"}),d.jsx("p",{className:"text-gray-700",children:o||"Something went wrong."})]})}):d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-gray-900 via-blue-900 to-pink-900",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 min-w-[320px] text-center",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Processing..."}),d.jsx("p",{className:"text-gray-700",children:"Please wait while we verify your email or reset your password."}),d.jsx("p",{className:"text-gray-500 mt-4",children:"If you are not redirected automatically, please return to the app and log in."})]})})},F6=()=>{const{user:t}=cn();return t?d.jsx(ze,{children:d.jsx("div",{className:"py-12 min-h-screen w-full flex items-center justify-center",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 min-w-[320px]",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Profile"}),d.jsxs("div",{className:"mb-2 text-gray-900",children:[d.jsx("span",{className:"font-semibold",children:"Email:"})," ",t.email]}),d.jsxs("div",{className:"mb-2 text-gray-900",children:[d.jsx("span",{className:"font-semibold",children:"User ID:"})," ",t.id]}),d.jsxs("div",{className:"mb-2 text-gray-900",children:[d.jsx("span",{className:"font-semibold",children:"Role:"})," ",t.role||"user"]})]})})}):d.jsx(ze,{children:d.jsx("div",{className:"py-12 min-h-screen w-full flex items-center justify-center",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Not signed in"}),d.jsx("p",{className:"text-gray-600",children:"Please log in to view your profile."})]})})})},os=({children:t,requireAdmin:e=!1})=>{const{user:n}=cn();return n?e&&n.role!=="admin"?d.jsx(Ni,{to:"/"}):d.jsx(d.Fragment,{children:t}):d.jsx(Ni,{to:"/login"})},U6=()=>d.jsxs(Nk,{children:[d.jsx(Re,{path:"/",element:d.jsx(u6,{})}),d.jsx(Re,{path:"/login",element:d.jsx(h6,{})}),d.jsx(Re,{path:"/resources",element:d.jsx(m6,{})}),d.jsx(Re,{path:"/resources/:id",element:d.jsx(g6,{})}),d.jsx(Re,{path:"/admin",element:d.jsx(os,{requireAdmin:!0,children:d.jsx(v6,{})})}),d.jsx(Re,{path:"/signup",element:d.jsx(w6,{})}),d.jsx(Re,{path:"/help",element:d.jsx(os,{children:d.jsx(x6,{})})}),d.jsx(Re,{path:"/assiste",element:d.jsx(os,{requireAdmin:!0,children:d.jsx(E6,{})})}),d.jsx(Re,{path:"/admission",element:d.jsx(T6,{})}),d.jsx(Re,{path:"/admission/:type",element:d.jsx(I6,{})}),d.jsx(Re,{path:"/admin/admission/ket",element:d.jsx(os,{requireAdmin:!0,children:d.jsx(Qg,{type:"ket",label:"KET Admission"})})}),d.jsx(Re,{path:"/admin/admission/comedk",element:d.jsx(os,{requireAdmin:!0,children:d.jsx(A6,{})})}),d.jsx(Re,{path:"/admin/admission/management",element:d.jsx(os,{requireAdmin:!0,children:d.jsx(P6,{})})}),d.jsx(Re,{path:"/admission/:type/help",element:d.jsx(V6,{})}),d.jsx(Re,{path:"/admin/admission/:type/help-requests",element:d.jsx(os,{requireAdmin:!0,children:d.jsx(L6,{})})}),d.jsx(Re,{path:"/forgot-password",element:d.jsx(Gl,{})}),d.jsx(Re,{path:"/profile",element:d.jsx(F6,{})}),d.jsx(Re,{path:"/auth/callback",element:d.jsx(Gl,{})}),d.jsx(Re,{path:"/auth/verify",element:d.jsx(Gl,{})}),d.jsx(Re,{path:"/auth/reset",element:d.jsx(Gl,{})}),d.jsx(Re,{path:"*",element:d.jsx(Ni,{to:"/"})})]});function B6(){return R.useEffect(()=>{t6()},[]),d.jsx(Uk,{children:d.jsx(A4,{children:d.jsx(U6,{})})})}TE(document.getElementById("root")).render(d.jsx(R.StrictMode,{children:d.jsx(B6,{})}));
